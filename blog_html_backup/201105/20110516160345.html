<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">use sed tr replace multi-space instead one-space</h2>
	<h5 id="">2011-05-16 16:03:45&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/16387704020114164345890/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><span style="color: rgb(102, 102, 102); font-family: Arial; line-height: 18px; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;"><font color="#ff0000" style="line-height: normal;"><strong style="line-height: normal;"><div><span style="color: rgb(102, 102, 102); font-family: Arial; line-height: 18px; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;"><font color="#ff0000" style="line-height: normal;"><strong style="line-height: normal;">转过来的。</strong></font></span></div><div><span style="color: rgb(102, 102, 102); font-family: Arial; line-height: 18px; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;"><font color="#ff0000" style="line-height: normal;"><strong style="line-height: normal;"><br></strong></font></span></div>sed 's/[ ][ ]*/ /g'</strong></font><br style="line-height: normal;">如果空格与tab共存时用<br style="line-height: normal;"><font color="#ff0000" style="line-height: normal;"><strong style="line-height: normal;">sed -e 's/[[:space:]][[:space:]]*/ /g' filename<br style="line-height: normal;"><br style="line-height: normal;"></strong></font><strong style="line-height: normal;">替换文档名中的空格<br style="line-height: normal;"></strong>newfile=${oldfile// /_}<br style="line-height: normal;">用 tr :<br style="line-height: normal;">find . -type f -name "* *" -print |<br style="line-height: normal;">while read name; do<br style="line-height: normal;">na=$(echo $name | tr ' ' '_')<br style="line-height: normal;">if [[ $name != $na ]]; then<br style="line-height: normal;">mv "$name" $na<br style="line-height: normal;">fi<br style="line-height: normal;">done<br style="line-height: normal;">修改 IFS<br style="line-height: normal;">#!/bin/sh<br style="line-height: normal;">IFS=@ read name address<br style="line-height: normal;">echo "A mail to $name at $address"<br style="line-height: normal;">read subject<br style="line-height: normal;">echo "Subject: $subject"<br style="line-height: normal;">or<br style="line-height: normal;">#!/bin/sh<br style="line-height: normal;">IFS=:<br style="line-height: normal;">for p in $PATH<br style="line-height: normal;">do<br style="line-height: normal;">if [ -x $p/$1 ]<br style="line-height: normal;">then<br style="line-height: normal;">echo $p/$1<br style="line-height: normal;">return<br style="line-height: normal;">fi<br style="line-height: normal;">done<br style="line-height: normal;">echo "No $1 in your path" 1 &gt; &amp;2<br style="line-height: normal;">return 1<br style="line-height: normal;">or<br style="line-height: normal;">( IFS=: ; for D in $PATH; do for F in $D/*gif*; do [ -x $F ] &amp;&amp; echo $F; done; done )<br style="line-height: normal;">今天做了一个Shell程序，结果传递过来的文件名有些有空格，导致不能执行，找不到原文件，急于解决先把文件名的空格都用下划线都给替换掉，其实应该可以从程序上解决的，继续看有什么方法<br style="line-height: normal;">以下是在网上找的替换空格文件的脚本<br style="line-height: normal;">用 tr :<br style="line-height: normal;">find . -type f -name "* *" -print |<br style="line-height: normal;">while read name; do<br style="line-height: normal;">na=$(echo $name | tr ' ' '_')<br style="line-height: normal;"><br style="line-height: normal;">if [[ $name != $na ]]; then<br style="line-height: normal;">mv "$name" $na<br style="line-height: normal;">fi<br style="line-height: normal;">done</span><wbr></div>
	</div>
</div>
</body>
</html>
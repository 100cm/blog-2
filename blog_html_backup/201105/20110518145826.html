<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">Use SecureCRT and Chrome & Proxy Switchy! Plugin</h2>
	<h5 id="">2011-05-18 14:58:26&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201141821810103/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;">&nbsp; 最近在单位上外国的网站经常上不去，包括PostgreSQL , mongoDB , Oracle , MySQL等,都上不去了。<div>但是用手机或3G无线上网卡都可以上这些网站，包括在IDC的服务器也可以访问这些网站，后来据说是针对企业网做了出口过滤。</div><div>在网上找了一下，有很多可以通过SSH代理来翻墙的说法。</div><div>当然，我这里的目的不是翻墙，主要是需要访问以上的技术网站。</div><div>我这里的做法是选中一台IDC的LINUX服务器，使用SecureCRT连接过去，然后开启一个隧道。结合GOOGLE CHROME的插件来实现代理上网。</div><div>1.</div><div>选中一台IDC的LINUX主机，使用SecureCRT连接过去。</div><div>选项 &nbsp;- &nbsp;回话选项 &nbsp;- &nbsp;端口转发 &nbsp;- &nbsp;编辑(本地端口转发属性) :&nbsp;</div><div><div><img title="Use SecureCRT and Chrome  Proxy Switchy! Plugin - 德哥@Digoal - The Heart,The World."  alt="Use SecureCRT and Chrome  Proxy Switchy! Plugin - 德哥@Digoal - The Heart,The World."  style="margin:0 10px 0 0;"  src="http://img843.ph.126.net/K3jVwDhPVCXZIeZXVx0rLQ==/1878845469545668477.jpg"  ></div><div><br></div><div><div><img title="Use SecureCRT and Chrome  Proxy Switchy! Plugin - 德哥@Digoal - The Heart,The World."  alt="Use SecureCRT and Chrome  Proxy Switchy! Plugin - 德哥@Digoal - The Heart,The World."  style="margin:0 10px 0 0;"  src="http://img238.ph.126.net/_4y63laW86F0HJdip7v7Zg==/2223089366062310293.jpg"  ></div>&nbsp;</div><div>这里添加一个本地监听端口8888，在127.0.0.1上面监听（比较安全）。</div><div>远程选择 动态转发使用SOCKS 4 或 5 .&nbsp;</div><div><br></div><div>2. 查看本地监听</div><div>cmd</div><div>netstat -ao</div><div>&nbsp;TCP &nbsp; &nbsp;127.0.0.1:8888 &nbsp; &nbsp; &nbsp; &nbsp; BJB0152:0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LISTENING &nbsp; &nbsp; &nbsp; 5676</div><div><br></div><div>3. 下载安装chrome</div><div><br></div><div>4. 安装chrome插件Proxy Switchy!</div><div>建议到这里下载</div><div><a rel="nofollow" href="http://code.google.com/p/switchy/downloads/list"  >http://code.google.com/p/switchy/downloads/list</a></div><div><br></div><div>5. 配置Proxy Switchy!插件</div><div>定义profile</div><div><div><img title="Use SecureCRT and Chrome  Proxy Switchy! Plugin - 德哥@Digoal - The Heart,The World."  alt="Use SecureCRT and Chrome  Proxy Switchy! Plugin - 德哥@Digoal - The Heart,The World."  style="margin:0 10px 0 0;"  src="http://img128.ph.126.net/Lr3o0IzDJe3y72av70b0Sg==/1621577340832113402.jpg"  ></div>&nbsp;</div><div>定义规则</div><div>默认规则是直连，不通过Switchy</div><div>其他的规则使用前面定义的profile</div><div><br></div><div><div><img title="Use SecureCRT and Chrome  Proxy Switchy! Plugin - 德哥@Digoal - The Heart,The World."  alt="Use SecureCRT and Chrome  Proxy Switchy! Plugin - 德哥@Digoal - The Heart,The World."  style="margin:0 10px 0 0;"  src="http://img238.ph.126.net/N-GByb6-yfIOZ0nk5R_pdA==/2223089366062310274.jpg"  ></div>&nbsp;</div><div>使用Auto Switch Mode模式,或者选择fan_qiang 那么所有的都走fan_qiang这个profile.</div><div><div><img title="Use SecureCRT and Chrome  Proxy Switchy! Plugin - 德哥@Digoal - The Heart,The World."  alt="Use SecureCRT and Chrome  Proxy Switchy! Plugin - 德哥@Digoal - The Heart,The World."  style="margin:0 10px 0 0;"  src="http://img66.ph.126.net/aEuoS5JhUQjxANBcQichig==/836262155809171285.jpg"  ></div>&nbsp;</div><div><div><img title="Use SecureCRT and Chrome  Proxy Switchy! Plugin - 德哥@Digoal - The Heart,The World."  alt="Use SecureCRT and Chrome  Proxy Switchy! Plugin - 德哥@Digoal - The Heart,The World."  style="margin:0 10px 0 0;"  src="http://img154.ph.126.net/3ojdPbs9Ot9jf7JVhr9nnQ==/2269251262242999705.jpg"  ></div><div><br></div><div>注意SAVE</div><div><br></div><div>6. 访问一个使用PROFILE来连接的网站，如我这里设置的www.google.com.hk</div><div><br></div><div>7. 在LINUX主机上看看有没有产生流量</div><div><br></div><div><div>[root@digoal.zhou ~]# netstat -anp|grep \:80</div></div><div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:19200 &nbsp; &nbsp; &nbsp; &nbsp;64.233.183.139:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ESTABLISHED 3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:56544 &nbsp; &nbsp; &nbsp; &nbsp;220.181.9.71:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ESTABLISHED 3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:56553 &nbsp; &nbsp; &nbsp; &nbsp;220.181.9.71:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TIME_WAIT &nbsp; - &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:25647 &nbsp; &nbsp; &nbsp; &nbsp;220.181.31.179:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ESTABLISHED 3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:25644 &nbsp; &nbsp; &nbsp; &nbsp;220.181.31.179:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CLOSE_WAIT &nbsp;3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:25638 &nbsp; &nbsp; &nbsp; &nbsp;220.181.31.179:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ESTABLISHED 3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:19359 &nbsp; &nbsp; &nbsp; &nbsp;74.125.53.101:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ESTABLISHED 3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:37037 &nbsp; &nbsp; &nbsp; &nbsp;220.181.76.42:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ESTABLISHED 3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:45819 &nbsp; &nbsp; &nbsp; &nbsp;220.181.31.180:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CLOSE_WAIT &nbsp;3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:45827 &nbsp; &nbsp; &nbsp; &nbsp;220.181.31.180:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CLOSE_WAIT &nbsp;3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:42864 &nbsp; &nbsp; &nbsp; &nbsp;64.233.183.102:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ESTABLISHED 3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:43801 &nbsp; &nbsp; &nbsp; &nbsp;220.181.72.147:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ESTABLISHED 3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:64581 &nbsp; &nbsp; &nbsp; &nbsp;220.181.76.43:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ESTABLISHED 3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:41506 &nbsp; &nbsp; &nbsp; &nbsp;220.181.76.51:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLOSE_WAIT &nbsp;3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:41505 &nbsp; &nbsp; &nbsp; &nbsp;220.181.76.51:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CLOSE_WAIT &nbsp;3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:55549 &nbsp; &nbsp; &nbsp; &nbsp;123.58.180.5:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CLOSE_WAIT &nbsp;3455/0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 192.168.101.35:46275 &nbsp; &nbsp; &nbsp; &nbsp;220.181.9.72:80 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ESTABLISHED 3455/0</div></div>&nbsp;</div><div><br></div>&nbsp;</div></div>
	</div>
</div>
</body>
</html>
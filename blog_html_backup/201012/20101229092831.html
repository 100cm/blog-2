<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">error loading page: unauthorized db:admin lock type:-1 client:(NONE)</h2>
	<h5 id="">2010-12-29 9:28:31&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/16387704020101129928311/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;">mongoDB version : v1.6.5<br>config : <br>port=5281<br>fork=true<br>logpath=/var/log/mongodb1.log<br>logappend=true<br>dbpath=/home/mongodb/data1<br>directoryperdb=true<br>auth=true<br>maxConns=1000<br>#nohttpinterface=true<br>nssize=128<br><br>startup script : <br>/opt/mongodb/bin/mongod --master --config /opt/mongodb/conf/mongodb1.conf --oplogSize=256 --rest<br><br>连接HTTP管理接口报错 : <br>error loading page: unauthorized db:admin lock type:-1 client:(NONE)<br><br>去除auth=true后正常。<br>经查是个BUG，BUG号<b><a id="issue_key_SERVER-1952" rel="nofollow" href="http://jira.mongodb.org/browse/SERVER-1952"  >SERVER-1952</a></b><br>The web interface does not work with auth enabled, it prompts for the  name and password as expected but then gives back a "error loading page:   <br> unauthorized db:admin lock type:-1 client:(NONE)" message.  It does however work using links from the localhost (links <a rel="nofollow" href="http://localhost:28017/"  >http://localhost:28017)</a> <br>  <br> This worked fine in 1.4.4</div>
	</div>
</div>
</body>
</html>
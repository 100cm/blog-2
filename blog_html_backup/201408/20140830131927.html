<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">Mesa from Google : Geo-Replicated, NearReal-Time, ScalableData Warehousing</h2>
	<h5 id="">2014-08-30 13:19:27&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201473011927453/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >[原文]</p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none;"   ><a target="_blank" rel="nofollow" href="http://geek.csdn.net/news/detail/15842"   >http://geek.csdn.net/news/detail/15842</a></p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none;"   >论文下载地址 :&nbsp;</p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none;"   ><a target="_blank" rel="nofollow" href="http://vldb.org/2014/accepted_papers.html"   >http://vldb.org/2014/accepted_papers.html</a></p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none;"   ><a style="line-height: 24.5px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://static.googleusercontent.com/media/research.google.com/en/us/pubs/archive/42851.pdf"   >“Mesa:Geo-Replicated, NearReal-Time, ScalableData Warehousing”</a></p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none;"   ><br></p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >9月在杭州举行的数据库学术会议<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://vldb.org/2014/index.html"   >VLDB 2014</a>上，Google的工程副总Shivakumar Venkataraman与正在Google访问的UCSB教授、IEEE与ACM Fellow Divyakant Agrawal将做<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://vldb.org/2014/keynotes.html"   >主题演讲</a>，介绍Google的实时分析数据仓库<strong>Mesa</strong>。</p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >在先期公开的论文<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://static.googleusercontent.com/media/research.google.com/en/us/pubs/archive/42851.pdf"   >“Mesa:Geo-Replicated, NearReal-Time, ScalableData Warehousing”</a>（<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://download.csdn.net/detail/liujiangce/7729201"   >免梯子版本</a>）中这样描述Mesa的开发初衷和特点：</p><blockquote style="margin-top: 0px; margin-bottom: 0px; margin-left: 3em; padding: 0px 0px 0px 1em; border-left-width: 4px; border-left-style: solid; border-left-color: rgb(221, 221, 221); color: rgb(119, 119, 119); font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   ><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; color: rgb(0, 0, 0);"   >Mesa是一个高度可扩展的分析型数据仓库系统，用于存储Google互联网广告业务相关的关键衡量数据。Mesa的设计目的是满足一系列复杂而有挑战性的用户与系统需求，包括近实时的数据获取和查询、高可用性、可靠性、容错和（大规模数据与查询量的）可扩展性。Mesa可以应对P级数据，每秒处理数百万行更新，每天抓取数万亿行以支持数十亿查询。Mesa是跨多个数据中心异地复制的，即使整个数据中心故障，仍然能够以较低延迟返回一致和可重复的查询结果。</p></blockquote><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >针对数分钟更新吞吐量、跨数据中心等等严苛需求，已有的商业数据仓库系统（处理周期往往以天和周来计算）和Google的解决方案包括BigTable、Megastore、Spanner和F1都无法满足要求。BigTable无法提供必要的原子性，Megastore、Spanner和F1无法满足峰值更新需求。此外，Google自己开发的Tenzing、Dremel，以及Twitter开发的<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://vldb.org/pvldb/vol5/p1771_georgelee_vldb2012.pdf"   >Scribe</a>、LinkedIn的Avatara、Facebook的Hive以及HadoopDB等Web规模数据仓库处理的都是批量负载。</p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >论文中提到比较类似Mega的系统是Stonebreaker等开发、已被HP收购的<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://en.wikipedia.org/wiki/Vertica"   >Vertica</a>，但缺乏跨数据中心的功能。Bill Graham在2012年Hadoop Summit的<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://www.slideshare.net/Hadoop_Summit/hadoop-and-vertica-data-analytics-platform-at-twitter"   >演讲</a>中提到过，Twitter的数据分析系统在用Vertica：&nbsp;<img title="Mesa from Google : Geo-Replicated, NearReal-Time, ScalableData Warehousing - 德哥@Digoal - PostgreSQL research"   src="http://img.my.csdn.net/uploads/201408/08/1407482088_2027.png"   alt="http://img.my.csdn.net/uploads/201408/08/1407482088_2027.png"   ></p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >他还比较了Vertica与Hadoop的优劣：</p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   ><img title="Mesa from Google : Geo-Replicated, NearReal-Time, ScalableData Warehousing - 德哥@Digoal - PostgreSQL research"   src="http://img.my.csdn.net/uploads/201408/08/1407482213_6355.png"   alt="http://img.my.csdn.net/uploads/201408/08/1407482213_6355.png"   ></p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >从Vertica的<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://www.vertica.com/customers/"   >用户列表</a>来看，Zynga、Funzio、TinyCo等许多游戏公司，Etsy等互联网新贵也是Vertica用户。之前极客头条<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://geek.csdn.net/news/detail/7626"   >推过</a>，<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://www.vertica.com/tag/facebook/"   >Facebook</a>也在用Vertica。</p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >其他相关工作中，<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://www4.comp.polyu.edu.hk/~cscllo/research/sigmod13.pdf"   >Thrifty</a>针对的数据量较小，且应用于多租户场景；Shark是内存计算；MaSM利用了闪存。</p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >Mesa基于BigTable（元数据存储）和Colossus（数据文件），底层也用到了MapReduce（谁说Google好几年前就不用MR了？），所用的分布式同步协议基于Paxos。</p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >controller/worker框架的架构如下：&nbsp;<img title="Mesa from Google : Geo-Replicated, NearReal-Time, ScalableData Warehousing - 德哥@Digoal - PostgreSQL research"   src="http://img.my.csdn.net/uploads/201408/08/1407467175_8653.png"   alt="http://img.my.csdn.net/uploads/201408/08/1407467175_8653.png"   ></p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >查询处理框架：</p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   ><img title="Mesa from Google : Geo-Replicated, NearReal-Time, ScalableData Warehousing - 德哥@Digoal - PostgreSQL research"   src="http://img.my.csdn.net/uploads/201408/08/1407467239_8075.png"   alt="http://img.my.csdn.net/uploads/201408/08/1407467239_8075.png"   ></p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >多数据中心的更新处理架构：&nbsp;<img title="Mesa from Google : Geo-Replicated, NearReal-Time, ScalableData Warehousing - 德哥@Digoal - PostgreSQL research"   src="http://img.my.csdn.net/uploads/201408/08/1407467274_2598.png"   alt="http://img.my.csdn.net/uploads/201408/08/1407467274_2598.png"   ></p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >GigaOM的报道中<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://gigaom.com/2014/08/07/google-shows-off-mesa-a-super-fast-data-warehouse-that-runs-across-data-centers/"   >提及</a>，Hadoop社区的Doug Cutting等都在密切关注Google的新动向，Mesa如果有高质量的开源版本，也将非常受欢迎。当然，Google也很有可能像BigQuery之于Dremel、Dataflow之于MillWheel那样，在云中提供Mesa类似功能。毕竟，Mesa的论文中也强调了，虽然是为Google数百亿美元的广告业务服务的，但Mesa是一个通用数据仓库解决方案。</p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   >另外，VLDB 2014其他已接受的论文都已公开了：<a style="color: rgb(51, 51, 51); cursor: pointer; margin: 0px 5px;" rel="nofollow" href="http://vldb.org/2014/accepted_papers.html"   >http://vldb.org/2014/accepted_papers.html</a>，大家可以各取所需。</p><p style="margin-top: 1.5em; margin-bottom: 1.5em; list-style: disc; border: none; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 24px;"   ><br></p><wbr>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="Mesa from Google : Geo-Replicated, NearReal-Time, ScalableData Warehousing - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
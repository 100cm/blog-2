<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">给PostgreSQL爱好者的参考资料</h2>
	<h5 id="">2011-08-21 8:32:39&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201172183022203/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>     <p><span style="line-height: 28px;"   >推荐书籍：</span></p><p>概念书籍：<br></p><p>《PostgreSQL Introduction and Concepts》</p><p>开发书籍：<br></p> <p>《PostgreSQL开发必备参考手册》</p><p><span style="line-height: 28px;"   >管理类书籍：</span></p><p>《PostgreSQL 9 Administration Cookbook》</p><p>《PostgreSQL 9.0 High Performance》<br></p><p><span style="line-height: 28px;"   >《PostgreSQL Server Programming》</span></p><p>《How PostgreSQL Processes a Query》</p><p>了解内核 :&nbsp;</p><p>&nbsp; &nbsp;&nbsp;<a target="_blank" rel="nofollow" href="http://www.postgresql.org/developer/backend/"   >http://www.postgresql.org/developer/backend/</a></p><p>&nbsp; &nbsp;&nbsp;<a target="_blank" rel="nofollow" href="http://wiki.postgresql.org/wiki/Backend_flowchart"   >http://wiki.postgresql.org/wiki/Backend_flowchart</a></p><p>《数据库查询优化器的艺术：原理解析与SQL性能优化》 - 海翔老师</p><p><span style="line-height: 28px;"   >《 PostgreSQL 内核分析</span><span style="line-height: 28px;"   >》 - 彭老师</span></p><p style="line-height: 28px;"   >官方手册：<br style="line-height: 28px;"   ></p><p style="line-height: 28px;"   ><a style="line-height: 28px;" rel="nofollow" href="http://www.postgresql.org/docs/"   >http://www.postgresql.org/docs/</a></p><p style="line-height: 28px;"   >中文手册：</p><p style="line-height: 28px;"   ><a target="_blank" rel="nofollow" href="http://www.postgres.cn/document"   >http://www.postgres.cn/document</a></p><p><span style="line-height: 22px;"   >培训类PPT：</span></p>《PostgreSQL Inside 系列》&nbsp;</div><div>《PostgreSQL DBA培训PPT》<br><p style="line-height: 28px;"   ><br></p><p style="line-height: 28px;"   ><span style="line-height: 22px;"   >代码树：</span></p><p><a style="line-height: 22px;" rel="nofollow" href="http://doxygen.postgresql.org/"   >http://doxygen.postgresql.org/</a></p><p><span style="line-height: 22px;"   >代码提交集：</span></p><p><a style="line-height: 22px;" rel="nofollow" href="https://commitfest.postgresql.org/"   >https://commitfest.postgresql.org/</a></p><p><span style="line-height: 22px;"   >项目GIT：</span></p><p><a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://git.postgresql.org/"   >http://git.postgresql.org</a></p><p><span style="line-height: 22px;"   >PostgreSQL GITHUB镜像</span></p><p><a style="line-height: 22px;" rel="nofollow" href="https://github.com/postgres/postgres"   >https://github.com/postgres/postgres</a></p><p><span style="line-height: 22px;"   >PostgreSQL JDBC 驱动：</span></p><p></p><p style="line-height: 22px;"   ><a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://jdbc.postgresql.org/"   >http://jdbc.postgresql.org</a></p><p style="line-height: 22px;"   ><a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://jdbc.postgresql.org/development/privateapi/"   >http://jdbc.postgresql.org/development/privateapi/</a></p><p style="line-height: 22px;"   >PostgreSQL ODBC 驱动：</p><p style="line-height: 22px;"   ><a style="line-height: 22px;" rel="nofollow" href="http://www.postgresql.org/ftp/odbc/versions/src/"   >http://www.postgresql.org/ftp/odbc/versions/src/</a></p><p style="line-height: 22px;"   >PostgreSQL 扩展插件：</p><p style="line-height: 22px;"   ></p><p style="line-height: 22px;"   ><a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://pgfoundry.org/"   >http://pgfoundry.org</a></p><p style="line-height: 22px;"   ><a style="line-height: 22px;" rel="nofollow" href="http://pgxn.org/"   >http://pgxn.org/</a></p><p style="line-height: 22px;"   ></p><p style="line-height: 22px;"   >GUI工具(pgAdmin)：</p><p style="line-height: 22px;"   ><a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://www.pgadmin.org/"   >http://www.pgadmin.org/</a></p><p style="line-height: 22px;"   >安全漏洞：</p><p style="line-height: 22px;"   ><a style="line-height: 22px;" rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=postgresql"   >http://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=postgresql</a></p><p style="line-height: 28px;"   ><span style="line-height: 22px;"   >中文社区：</span></p><p style="line-height: 28px;"   ><a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://bbs.pgsqldb.com/"   >http://bbs.pgsqldb.com</a></p><p style="line-height: 28px;"   >中文官网<span style="line-height: 22px;"   >：</span></p><p style="line-height: 28px;"   ><a style="line-height: 28px;" rel="nofollow" href="http://www.postgres.cn/"   >http://www.postgres.cn</a></p><p style="line-height: 22px;"   >国外FAQ社区, BLOG：</p><p></p><p><a target="_blank" rel="nofollow" href="http://www.pgcon.org/"   >http://www.pgcon.org/</a></p><p><a target="_blank" rel="nofollow" href="https://www.postgresql.us/"   >https://www.postgresql.us/</a></p><p><a target="_blank" rel="nofollow" href="http://www.itpug.org/"   >http://www.itpug.org/</a></p><p><a target="_blank" rel="nofollow" href="http://www.pgug.de/"   >http://www.pgug.de/</a></p><p><a target="_blank" rel="nofollow" href="http://www.diapug.org/"   >http://www.diapug.org/</a></p><p style="line-height: 22px;"   ><a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://stackoverflow.com/questions/tagged/postgresql"   >http://stackoverflow.com/questions/tagged/postgresql</a></p><p style="line-height: 22px;"   ></p><p style="line-height: 22px;"   ><a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://momjian.us/"   >http://momjian.us</a></p><p style="line-height: 22px;"   ><a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://www.pgexperts.com/"   >http://www.pgexperts.com</a></p><p style="line-height: 22px;"   ><a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://blog.2ndquadrant.com/en"   >http://blog.2ndquadrant.com/en</a></p><p style="line-height: 22px;"   >一位社区兄弟<a style="line-height: 28px;" target="_blank" rel="nofollow" href="https://github.com/ty4z2008/Qix/blob/master/pg.md"   >ty4z2008</a><span style="line-height: 22px;"   >整理的资料</span></p><p><a target="_blank" rel="nofollow" href="https://github.com/ty4z2008/Qix/blob/master/pg.md"   >https://github.com/ty4z2008/Qix/blob/master/pg.md</a></p><p style="line-height: 22px;"   ><span style="line-height: 22px;"   >其他推荐网站：</span></p><p style="line-height: 22px;"   ><a rel="nofollow" href="http://db.cs.berkeley.edu/"   >http://db.cs.berkeley.edu</a></p><p style="line-height: 22px;"   ><a rel="nofollow" href="http://mariposa.cs.berkeley.edu/"   >http://mariposa.cs.berkeley.edu/</a></p> <p><a target="_blank" rel="nofollow" href="http://www.postgresql.org"   >http://www.postgresql.org</a></p><p></p><p><a target="_blank" rel="nofollow" href="http://wiki.postgresql.org/wiki/Todo"   >http://wiki.postgresql.org/wiki/Todo</a></p><p><a target="_blank" rel="nofollow" href="http://wiki.postgresql.org/wiki/Development_information"   >http://wiki.postgresql.org/wiki/Development_information</a></p><p><a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://wiki.postgresql.org"   >http://wiki.postgresql.org</a></p><p><a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://www.pgbuildfarm.org/"   >http://www.pgbuildfarm.org</a></p><p><a target="_blank" rel="nofollow" href="https://github.com/aggregateknowledge/postgresql-hll"   >https://github.com/aggregateknowledge/postgresql-hll</a></p><p><a rel="nofollow" href="http://www.postgis.org/"   >http://www.postgis.org/</a></p><p><a rel="nofollow" href="http://workshops.opengeo.org/postgis-intro/"   >http://workshops.opengeo.org/postgis-intro/</a> </p><p><a rel="nofollow" href="http://www.opengeospatial.org/"   >http://www.opengeospatial.org/</a></p><p><a rel="nofollow" href="http://code.google.com/"   >http://code.google.com</a></p><p><a rel="nofollow" href="https://developers.google.com/"   >https://developers.google.com/</a></p><p><a target="_blank" rel="nofollow" href="http://www.perzl.org/aix/"   >http://www.perzl.org/aix/</a></p><p><a target="_blank" rel="nofollow" href="http://db-engines.com/en/"   >http://db-engines.com/en/</a></p><p><a target="_blank" rel="nofollow" href="http://pgmag.org/"   >http://pgmag.org/</a></p><p><a target="_blank" rel="nofollow" href="http://planet.postgresql.org/"   >http://planet.postgresql.org/</a></p><p><a target="_blank" rel="nofollow" href="http://www.cybertec.at/"   >http://www.cybertec.at/</a></p><p><a target="_blank" rel="nofollow" href="http://www.translattice.com/"   >http://www.translattice.com/</a></p><p><a target="_blank" rel="nofollow" href="http://citusdata.com/"   >http://citusdata.com/</a></p><p><a target="_blank" rel="nofollow" href="http://www.dbms2.com/"   >http://www.dbms2.com/</a></p><p><a target="_blank" rel="nofollow" href="http://www.informationweek.com/"   >http://www.informationweek.com/</a></p><p><a target="_blank" rel="nofollow" href="http://www.infoq.com/"   >http://www.infoq.com/</a></p><p><a target="_blank" rel="nofollow" href="http://www.actian.com/"   >http://www.actian.com/</a></p><p><a target="_blank" rel="nofollow" href="http://aws.amazon.com/redshift/"   >http://aws.amazon.com/redshift/</a></p><p><a target="_blank" rel="nofollow" href="http://sourceforge.net/projects/postgres-xc/"   >http://sourceforge.net/projects/postgres-xc/</a></p><p><a target="_blank" rel="nofollow" href="http://www.postgres-xl.org/"   >http://www.postgres-xl.org/</a></p><p><a target="_blank" rel="nofollow" href="http://madlib.net/"   >http://madlib.net/</a></p><p><a target="_blank" rel="nofollow" href="http://research.google.com/index.html"   >http://research.google.com/index.html</a></p><p><a target="_blank" rel="nofollow" href="http://postgresql.1045698.n5.nabble.com/"   >http://postgresql.1045698.n5.nabble.com/</a></p><p><a target="_blank" href="http://blog.163.com/digoal%40126"   >http://blog.163.com/digoal%40126</a></p><p><br></p><p>推荐PostgreSQL 专业QQ群：</p><p>3336901</p> <p><br></p><p>书籍打包下载：</p>  <p>如有需要请联系QQ: 276732431, 或留言留下您的邮箱. 文件超过100MB, 邮箱需要支持大附件才能接收.&nbsp;</p><p>或者到以下网盘下载.</p><p><a target="_blank" rel="nofollow" href="http://yun.baidu.com/share/link?shareid=3626307544&amp;uk=1982970774"   >http://yun.baidu.com/share/link?shareid=3626307544&amp;uk=1982970774</a></p><p><br></p>      </div>PostgreSQL 培训视频<div><a target="_blank" rel="nofollow" href="http://www.tudou.com/home/digoal"   >http://www.tudou.com/home/digoal</a></div><div>视频下载地址</div><div><a target="_blank" href="http://blog.163.com/digoal@126/blog/static/16387704020141229159715/"   >http://blog.163.com/digoal@126/blog/static/16387704020141229159715/</a></div><div><br></div><div><br></div><div>PostgreSQL TODO &amp; 软肋,&nbsp;</div><div>大多数软件都有坑, 如果把握不好, 那就掉坑里去了, PostgreSQL亦如此, 为避免初次接触PostgreSQL的朋友掉坑里去, 这里罗列了一些PostgreSQL的软肋和TODO, 大家可以参考一下.</div><div><div>todo</div><div>1. http://wiki.postgresql.org/wiki/Todo</div><div>2. 基于WAL的多主复制(9.4可能会实现)</div><div>3. 多CPU资源利用, 如并行查询</div><div>4. shared nothing 架构(目前需要插件来实现如plproxy, pgpool-ii)</div><div>5. 基于块的增量基础备份(目前只有基于WAL的增量备份)</div><div>6. query cache, 如count(*)性能提升</div><div>7. toast 阈值可配置(目前只能在编译时指定)</div><div>8. 使用ssd作为二级缓存</div><div>9. PostgreSQL 目前一个集群只支持1个block_size, 这种不利于复杂场景的使用, 例如我们在同一个数据库中有大量的OLTP请求, 同时还有大数据的频繁导入需求的情况下, 选择小的block_size或者大的block_size都不合适, 如果能针对每个表指定不同的block_size的话可以很好的解决这一的问题. &nbsp;当然如果数据库中存在不同大小的block_size, 那么随之而来的改动是非常大的, 例如shared buffer也必须兼容不同大小的block size.</div><div>在Oracle 9中, 支持一个数据库中存在不同的数据块大小.&nbsp;</div><div>10. PostgreSQL的配置文件是直接编辑的, 没有像oracle这样的spfile, 当然9.4会支持alter system来修改, 但是&lt;=9.3的没有, 修改文件容易出错, 不安全, 错误的话会导致数据库集群无法启动.</div><div>11. 目前开源的postgresql不支持函数加密. 安全性较低.</div><div>12. 目前移动表空间(如alter table tbl set tablespace newtbs;)会产生大量的XLOG, 这个应该是可以优化的.</div><div>13. 流复制异步模式下, failover后, 可能因为主备xlog的差异需要重做standby. 目前可以通过rsync减少网络传输, 或者zfs snapshot来将OLD PRIMARY回退到以前的状态达到切换成standby的目的.&nbsp;</div><div>14. 没有表空间配额限制, 目前只能通过文件系统使用配额来简单的限制.</div><div>15. 没有rotate table, 类似mongoDB的capped collection. 限制记录条数, 空间, 或记录时长, 超过限制就覆盖最早的记录 .</div><div>16. pg-xc, pg-xl的数据重分布需要将数据从所有的数据节点加载到coordinator后, 在按照重分布算法分发到新的所有节点.</div><div>17. 同步流复制的一点可能可以改进的地方, 例如只有一台standby时, 如果standby异常或网络原因导致XLOG无法同步复制到standby并返回feedback的话, 那么在同步提交队列中等待提交的xact将处于等待状态, 一般的做法是使用2个或2个以上的standby来防止1个STANDBY故障时可以自动将同步standby节点向下转移, XACT不需要等待. 那么是不是可以有得选择, 例如在等待多少秒之后自动切换成异步模式.</div><div>18. 目前没有比较好的读写分离或shared-nothing解决方案, 例如</div><div>1. 通过中间件pgpool-II构建读写分离, 但是pgpool-II目前稳定性, 性能(tps)都不尽人意.</div><div>2. 使用pg-xc构建的shared-nothing, 性能(TPS)损耗太大, 同时全局一致性还原(PITR)目前还只有停留在创建barriers, 粒度无法达到gxid的粒度(因为每个节点各管各自的XID).</div><div>3. 使用plproxy构建shared-nothing, 性能损失小, 但是没有跨节点事务能力, 当然如果应用层愿意使用 2PC来实现的话, 也是可以的. 另外, 接口必须是PLPROXY函数, 所以对应用来说适配较差.</div><div><br></div><div>软肋</div><div>1. 读写并发管理通过新增行版本实现, 会带来垃圾数据, 对于非HOT更新的话, 还会引起索引更新, 导致索引更容易膨胀.</div><div>2. 显然这种MVCC机制不利于频繁更新的应用场景, 同一条记录被更新10次的话, 会产生10个版本的写xlog和heap page的IO, 同时在VACUUM的时候还需要写xlog以及heap page的IO. 这10个版本可能并不会同时存在, 但是却实实在在的产生了这些写IO.</div><div>3. 通过xid来识别版本, 且xid是32位存储, XID是需要复用的, 所以经过一定的事务分配后需要freeze, 当然此MVCC机制的好处也是有的, 例如锁粒度很小, 容易实现repeatable read和ssi. 会话层可实现跨越会话的一致性镜像等.</div><div>4. 同样MVCC带来的问题, 在大数据库中使用逻辑备份时(), 备份开始后产生的垃圾数据都无法被回收,&nbsp;<span style="line-height: 28px;"   >如果备份时间很长,</span><span style="line-height: 28px;"   >&nbsp;将导致数据库膨胀比较厉害, 同时也会影响对象的freeze. 所以对大库建议使用pitr备份方式</span><span style="line-height: 28px;"   >.&nbsp;</span></div></div><div>5. one-by-one的扩展数据块使得对同一个对象进行大批量的并行数据导入的时候(例如并行COPY)会产生extend锁等待问题. 影响导入性能. 参见 :&nbsp;<a style="line-height: 28px;" target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201392641033482"   >http://blog.163.com/digoal@126/blog/static/163877040201392641033482</a></div><div><br></div><div><br></div><div><br></div><div>海翔老师发来一些互联网上收集到的问题, 我谨表明下个人观点.</div><div><pre class="prettyprint"   ><div><span style="font-family: 'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, 宋体; line-height: 28px; white-space: normal;"   ><font size="2"   >对PostgreSQL数据库有一定了解, 或者尝到甜头的朋友大多都会有这样的疑问, 为什么PostgreSQL好用却没有MySQL流行呢?</font></span></div><div><font size="2"   >1 PG没MySQL流行的原因</font></div><div><font size="2"   >因为没有使用过MySQL, 所以不太好回答.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >2 PG的优势有哪些？（请例举您认为的最优优势的5条，降序排列）</font></div><div><font size="2"   >1. 社区活跃(每天都有commit, 每年全球大会, 每年全球地方性会议等), 运作稳定(主要贡献者来自全球的诸多行业的诸多企业, 不会出现一家独控的局面), git版本管理, wiki知识库管理, BSD许可.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >2. 血统纯正, 以及丰富的第三方插件. PostgreSQL的分支只有1个, 不会出现分支众多, 版本不统一的情况. 第三方插件非常多, 基本上都来自实际的需求.</font></div><div><font size="2"   >postgreSQL插件的使用非常简单, 因为是模块化形式的, 安装好后, 加载到动态链接库即可. (包括性能, 功能扩展, 融合, 管理等方面的插件.)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >3. 流复制, 外部表接口, MPP, shared nothing</font></div><div><font size="2"   >PG的流复制是基于块的变更, 速度极其之快, 局域网内能实现毫秒级的延迟, 广域网也不需要担心网络稳定性, 因为是续传的. 流复制可用于HA, 容灾, 读写分离等场景.</font></div><div><font size="2"   >9.4版本还会引入逻辑流复制, 可用于multi master的场景.</font></div><div><font size="2"   >PG支持外部表接口, 在PG中可以直接读写其他数据源的数据, 如Oracle, MySQL. 适合混杂场景的使用, 或者数据迁移场景的使用.</font></div><div><font size="2"   >MPP, PostgreSQL的第三方插件或者第三方商业软件可以实现MPP的功能, 例如GreenPlum, PgPOOL-II, pg-xc, citusDB, postgres-xl等, 还可以结合HADOOP来使用.</font></div><div><font size="2"   >shared nothing, postgresql第三方插件可以方便的实现shared nothing的功能, 例如plproxy, pgpool-ii, pg-xc等.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >4. 数据类型丰富, 索引类型丰富, 可动态加载的模块, 丰富的服务端函数</font></div><div><font size="2"   >PG的数据类型非常的丰富, 同时支持自定义类型. 除了传统的数据类型之外, 还支持例如range类型, IP类型, HSTORE类型, JSON类型,&nbsp;</font></div><div><font size="2"   >PG的索引访问接口也非常丰富, 例如支持btree, hash, gist, gin, spgist等诸多索引访问接口.</font></div><div><font size="2"   >可动态加载的模块, 用户可自定义一些库, 在需要使用时动态加载. 同时PG支持自定义钩子应用的场景(_PG_init()).</font></div><div><font size="2"   ><span style="line-height: 21px;"   >丰富的服务端函数, 例如plpgsql, plpython, plperl, pltcl, pl-R, pljava, plv8, C等. 适用各种开发人员使用.</span></font></div><div><font size="2"   ><br></font></div><div><font size="2"   >5. 兼容性, 稳定性, 可靠性, 性能, 后期维护, 审计需求等.</font></div><div><font size="2"   >PG的兼容性非常好, 支持几乎所有的硬件架构和操作系统.</font></div><div><font size="2"   >稳定, 可靠, 性能卓越.</font></div><div><font size="2"   >维护简单, 诸多功能可以满足审计需求.</font></div><div><span style="line-height: 28px;"   ><font size="2"   ><br></font></span></div><div><span style="line-height: 28px;"   ><font size="2"   >3 PG在互联网/传统行业（有事务需求）/或其它行业的未来？</font></span></div><div><font size="2"   >国内PG圈子越来越活跃, 包括传统行业, 金融行业, 运营商, 互联网行业, 政府都有使用.&nbsp;</font></div><div><font size="2"   >由于数据库在业务系统中的重要性, 一般曾经未使用PG的公司会从不太重要的新项目着手尝试使用PG, 尝到甜头后才会有后续大规模应用的动作.</font></div><div><font size="2"   >老的项目, 从其他数据库迁移到PG的, 肯定是这些已有的数据库无法满足现阶段或未来的需求. 例如可能是迫于成本的考虑, 又或者项目中依赖PG的一些特性.</font></div><p></p></pre></div><div><br></div><div><br></div><div><br></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="给PostgreSQL爱好者的参考资料 - 德哥@Digoal - PostgreSQL"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
	<h3>评论</h3>
	<div class="" id="" style="padding:0 20px;">
			<div id="">
				<h5 id="">ty4z2008 - 2015-06-15 23:46:34</h5>
				<div>https://github.com/ty4z2008/Qix/blob/master/pg.md<div>德哥，上面是我整理的Pg相关资料，你把这个也添加进去吧</div></div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">德哥@Digoal 回复 ty4z2008 - 2015-06-15 23:46:34</h5>
				<div style="width:600px;">好的</div>
			</div>
			<div id="">
				<h5 id="">heibao326 - 2015-05-25 16:47:41</h5>
				<div>德哥 &nbsp;请教下 &nbsp;假设我的系统内存是16G &nbsp;我只分给postgresql的内存是12G &nbsp;应该如何控制呢</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">德哥@Digoal 回复 heibao326 - 2015-05-25 16:47:41</h5>
				<div style="width:600px;">shared_buffer</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">heibao326 回复 德哥@Digoal - 2015-05-25 16:47:41</h5>
				<div style="width:600px;">不是建议shared_buffer设置不超过物理内存的20%么？我想让pg最多能使用12G的话，那我就只要设置shared_buffer的值约等于12*0.2=2.4G就可以达到目的了么？</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">德哥@Digoal 回复 heibao326 - 2015-05-25 16:47:41</h5>
				<div style="width:600px;">可以超过20%</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">heibao326 回复 德哥@Digoal - 2015-05-25 16:47:41</h5>
				<div style="width:600px;">德哥 &nbsp;那是不是可以理解成将shared_buffer设置成12G就可以了么？shared_buffer是不是可以理解成是pg可使用内存的上限？</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">德哥@Digoal 回复 heibao326 - 2015-05-25 16:47:41</h5>
				<div style="width:600px;">不是上限，是初始化共享内存区的上限。<div>共享内存区主要是存储数据块的信息，由SLRU算法管理进出，bgwriter和backend process都可以flush共享内区的数据块。<br><div>PG还允许用户动态创建共享内存区。</div><div>另外vacuum worker process也会使用内存（maintenance_work_mem)</div><div>排序，分组等操作也会用到内存work_mem，</div><div>hash join也会用到内存。</div><div>这些都不是共享内存区的内存。</div></div></div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">heibao326 回复 德哥@Digoal - 2015-05-25 16:47:41</h5>
				<div style="width:600px;">非常感谢德哥的详细解答~~~明白了~~~</div>
			</div>
			<div id="">
				<h5 id="">heibao326 - 2015-05-15 9:05:55</h5>
				<div>Hi &nbsp;德哥 &nbsp;翰高翻译的中文手册：http://www.highgo.com.cn/hgdb/docs，点击进去看不到呢，还能发一份么</div>
			</div>
			<div id="">
				<h5 id="">heibao326 - 2015-04-02 11:12:20</h5>
				<div>hi &nbsp;你好 请教下 &nbsp;我是菜鸟一枚 &nbsp;想用pgpool-II 搭建postgresql集群，我看网上需要更改pgpool.conf中的parallel_mode=true,但我在这个配置文件中却找不到这个参数，这是为什么啊？我用的pgpool-II版本是3.4.1，另外因刚接触postgresql不久，我将pgpool-II理解为管理postgresql集群的工具，不知这样理解是否正确？一般pgpool-II在实际中用的多吗？</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">德哥@Digoal 回复 heibao326 - 2015-04-02 11:12:20</h5>
				<div style="width:600px;">实际应用不多, 建议先把postgresql搞明白再去搞pgpool. pgpool就是中间件. 更多的是用来实现读写分离的功能.</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">heibao326 回复 德哥@Digoal - 2015-04-02 11:12:20</h5>
				<div style="width:600px;">你好 &nbsp;再请教下 如果不借助pgpool &nbsp;如何实现postgresql集群呢？不知道能否加你QQ跟你请教些问题</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">德哥@Digoal 回复 heibao326 - 2015-04-02 11:12:20</h5>
				<div style="width:600px;">你可以参考这个&nbsp;https://github.com/digoal/PostgreSQL_HA_with_primary_standby_2vip</div>
			</div>
			<div id="">
				<h5 id="">819183801 - 2015-01-19 10:46:46</h5>
				<div>
<P>问一个问题：</P>
<P>&nbsp; 使用pgpool做并行查询，入库必须走pgpool吗，还是后端的psql自己直接copy就行。谢谢</P></div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">德哥@Digoal 回复 819183801 - 2015-01-19 10:46:46</h5>
				<div style="width:600px;">HI,pgpool未来将不再支持并行查询, 必须PGPOOL, 分布规则存在pgpool的system catalog.</div>
			</div>
			<div id="">
				<h5 id="">鲨鱼  - 2014-08-03 22:15:57</h5>
				<div>不错 ，不错</div>
			</div>
			<div id="">
				<h5 id="">atilive - 2014-02-26 21:40:09</h5>
				<div>德哥 我在百度网盘下不下来学习资料 能麻烦你给我发个么 邮箱272253421@qq.com 感激不尽~<br><br></div>
			</div>
			<div id="">
				<h5 id="">pythoner@126 - 2013-08-27 14:32:58</h5>
				<div>我推荐一个教程，我自己刚开始学也是从这里学的，http://www.yiibai.com/html/postgresql/</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">德哥@Digoal 回复 pythoner@126 - 2013-08-27 14:32:58</h5>
				<div style="width:600px;">不错,就是资料有点老.</div>
			</div>
			<div id="">
				<h5 id="">test - 2013-08-06 12:20:26</h5>
				<div>很喜欢博主的文章，刚刚用豆约翰博客备份专家备份了您的全部博文。<br><br></div>
			</div>
			<div id="">
				<h5 id="">duan.smith - 2013-06-08 18:44:51</h5>
				<div>您好！能发我邮箱一份吗？刚开始学习postgresql，duan.smith@163.com！谢谢了！</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">德哥@Digoal 回复 duan.smith - 2013-06-08 18:44:51</h5>
				<div style="width:600px;">加我QQ吧,邮箱放不下. 276732431<br><br></div>
			</div>
			<div id="">
				<h5 id="">dongying--2003 - 2013-04-20 13:29:01</h5>
				<div>太全面了<img src="http://b.bst.126.net/common/portrait/face/preview/face55.gif"  >有时间给我也发一份吧，来学习学习！！</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">德哥@Digoal 回复 dongying--2003 - 2013-04-20 13:29:01</h5>
				<div style="width:600px;">哈哈,好的. 同时希望pg能在中国推广开来.</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">德哥@Digoal 回复 dongying--2003 - 2013-04-20 13:29:01</h5>
				<div style="width:600px;">好的</div>
			</div>
			<div id="">
				<h5 id="">361494897 - 2013-04-20 10:38:38</h5>
				<div>德哥，你好！书籍能发我一份么？最近公司一项目用到了PGSQL，研究中...<div>邮箱：361494897@qq.com 谢谢！<br><br></div></div>
			</div>
			<div id="">
				<h5 id="">虎子钟啸 - 2013-03-28 14:50:48</h5>
				<div>
<DIV class="cnt" ><SPAN class="fc07 ztag"  ></SPAN><SPAN class="fc05 pre ztag"  >朋友您好，我是梦的使者<IMG src="http://b.bst.126.net/common/portrait/face/preview/face0.gif"  >，特意来学习了！地球在宇宙，宇宙有地球，生活是梦想，梦想亦生活，如果有时间，敬请来回访，祝您美梦成真<IMG src="http://b.bst.126.net/common/portrait/face/preview/face51.gif"  >！【请您点击我博客首页焦点头图里的《梦争》，欣赏我梦境中的真实故事】</SPAN></DIV></div>
			</div>
			<div id="">
				<h5 id="">salley_2009 - 2012-11-23 11:06:15</h5>
				<div>谢谢分享</div>
			</div>
			<div id="">
				<h5 id="">salley_2009 - 2012-11-23 11:06:01</h5>
				<div>最近正在学习</div>
			</div>
			<div id="">
				<h5 id="">46053710yj - 2012-11-12 23:07:04</h5>
				<div>强烈支持 这么好的东西因该在国内好好研究使用</div>
			</div>
			<div id="">
				<h5 id="">qiuxiaojing1020@126 - 2012-03-19 15:17:30</h5>
				<div><img src="http://b.bst.126.net/common/portrait/face/preview/face55.gif"  ></div>
			</div>
	</div>
</div>
</body>
</html>
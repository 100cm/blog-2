<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">PostgreSQL Fine-Grained Table,Column,Row Level Audit</h2>
	<h5 id="">2013-03-20 11:00:20&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/16387704020132209854525/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div><div><div>通过配置用户级或数据库级的参数可以实现用户以及数据库级别的审计, 但是这样的粒度可能还是太粗糙了.</div><div>如果需要更细致的审计, 例如针对某些表的操作审计, 某些用户对某些表的审计, 或者仅仅当某个列的值发生变化时才被审计(记录到LOG或表里面, 本文的例子是将审计信息输出到LOG, 使用raise).</div><div>这样的需求可以通过触发器来实现.</div><div>接下来以PostgreSQL 9.2为例进行讲解.</div><div># 基础的参数配置</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >log_destination = 'csvlog'</font></div><div><font size="2"   >logging_collector = on</font></div><div><font size="2"   >log_directory = 'pg_log'</font></div><div><font size="2"   >log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'</font></div><div><font size="2"   >log_file_mode = 0600</font></div><div><font size="2"   >log_truncate_on_rotation = on</font></div><div><font size="2"   >log_rotation_age = 1d</font></div><div><font size="2"   >log_rotation_size = 10MB</font></div><div><font size="2"   >log_connections = on</font></div><div><font size="2"   >log_error_verbosity = verbose</font></div><div><font size="2"   >log_timezone = 'PRC'</font></div><div><font size="2"   >log_statement = 'none'</font></div><div><font size="2"   >log_min_duration_statement = -1</font></div><p></p></pre></div><div><span style="line-height: 22px;"   ># 创建测试表 :&nbsp;</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; create table user_account_kb(id int, info text, balance numeric, crt_time timestamp, mod_time timestamp);</font></div><div><font size="2"   >CREATE TABLE</font></div><p></p></pre></div></div><div># 插入测试数据 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; insert into user_account_kb select generate_series(1,10),'test',trunc(100*random()),now(),null;</font></div><div><font size="2"   >INSERT 0 10</font></div><div><font size="2"   >digoal=&gt; select * from user_account_kb ;</font></div><div><font size="2"   >&nbsp;id | info | balance | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;crt_time &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| mod_time&nbsp;</font></div><div><font size="2"   >----+------+---------+----------------------------+----------</font></div><div><font size="2"   >&nbsp; 1 | test | &nbsp; &nbsp; &nbsp;66 | 2013-03-20 10:08:15.969523 |&nbsp;</font></div><div><font size="2"   >&nbsp; 2 | test | &nbsp; &nbsp; &nbsp;50 | 2013-03-20 10:08:15.969523 |&nbsp;</font></div><div><font size="2"   >&nbsp; 3 | test | &nbsp; &nbsp; &nbsp;95 | 2013-03-20 10:08:15.969523 |&nbsp;</font></div><div><font size="2"   >&nbsp; 4 | test | &nbsp; &nbsp; &nbsp;90 | 2013-03-20 10:08:15.969523 |&nbsp;</font></div><div><font size="2"   >&nbsp; 5 | test | &nbsp; &nbsp; &nbsp;50 | 2013-03-20 10:08:15.969523 |&nbsp;</font></div><div><font size="2"   >&nbsp; 6 | test | &nbsp; &nbsp; &nbsp;12 | 2013-03-20 10:08:15.969523 |&nbsp;</font></div><div><font size="2"   >&nbsp; 7 | test | &nbsp; &nbsp; &nbsp;39 | 2013-03-20 10:08:15.969523 |&nbsp;</font></div><div><font size="2"   >&nbsp; 8 | test | &nbsp; &nbsp; &nbsp;42 | 2013-03-20 10:08:15.969523 |&nbsp;</font></div><div><font size="2"   >&nbsp; 9 | test | &nbsp; &nbsp; &nbsp; 6 | 2013-03-20 10:08:15.969523 |&nbsp;</font></div><div><font size="2"   >&nbsp;10 | test | &nbsp; &nbsp; &nbsp;11 | 2013-03-20 10:08:15.969523 |&nbsp;</font></div><div><font size="2"   >(10 rows)</font></div><p></p></pre></div><div><br></div><div>【审计场景1】</div><div>1. 审计某个表的insert, update, delete, truncate语句.</div><div>使用after for each statement触发器.</div><div># 创建触发器函数</div><div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; create or replace function trace_statement() returns trigger as $$</font></div><div><font size="2"   >declare</font></div><div><font size="2"   >&nbsp; v_user name;</font></div><div><font size="2"   >&nbsp; v_db name;</font></div><div><font size="2"   >&nbsp; v_query text;</font></div><div><font size="2"   >begin</font></div><div><font size="2"   >&nbsp; select current_user, current_database(), current_query() into v_user, v_db, v_query;</font></div><div><font size="2"   >&nbsp; raise warning 'user:%, db:%, query:%', v_user, v_db, v_query;</font></div><div><font size="2"   >&nbsp; return null;</font></div><div><font size="2"   >end;</font></div><div><font size="2"   >$$ language plpgsql;</font></div><p></p></pre></div><div># 创建触发器</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; create trigger tg1 after insert or update or delete or truncate on user_account_kb for each statement execute procedure trace_statement();</font></div><div><font size="2"   >CREATE TRIGGER</font></div><p></p></pre></div><div># 测试插入</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; insert into user_account_kb values(11,'test',100,now(),null);</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:insert into user_account_kb values(11,'test',100,now(),null);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=&gt; select * from user_account_kb where id=11;</font></div><div><font size="2"   >&nbsp;id | info | balance | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;crt_time &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| mod_time&nbsp;</font></div><div><font size="2"   >----+------+---------+----------------------------+----------</font></div><div><font size="2"   >&nbsp;11 | test | &nbsp; &nbsp; 100 | 2013-03-20 10:18:02.495836 |&nbsp;</font></div><div><font size="2"   >(1 row)</font></div><p></p></pre></div><div><span style="line-height: 22px;"   ># 测试更新</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; update user_account_kb set info='new' where id=11;</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:update user_account_kb set info='new' where id=11;</font></div><div><font size="2"   >UPDATE 1</font></div><div><font size="2"   >digoal=&gt; select * from user_account_kb where id=11;</font></div><div><font size="2"   >&nbsp;id | info | balance | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;crt_time &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| mod_time&nbsp;</font></div><div><font size="2"   >----+------+---------+----------------------------+----------</font></div><div><font size="2"   >&nbsp;11 | new &nbsp;| &nbsp; &nbsp; 100 | 2013-03-20 10:18:02.495836 |&nbsp;</font></div><div><font size="2"   >(1 row)</font></div><p></p></pre></div><div><span style="line-height: 22px;"   ># 测试删除</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; delete from user_account_kb where id=11;</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:delete from user_account_kb where id=11;</font></div><div><font size="2"   >DELETE 1</font></div><p></p></pre></div><div><span style="line-height: 22px;"   ># 测试truncate</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; begin;</font></div><div><font size="2"   >BEGIN</font></div><div><font size="2"   >digoal=&gt; truncate user_account_kb ;</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:truncate user_account_kb ;</font></div><div><font size="2"   >TRUNCATE TABLE</font></div><div><font size="2"   >digoal=&gt; rollback;</font></div><div><font size="2"   >ROLLBACK</font></div><p></p></pre></div><div># 注意回滚的操作不会被记录. 即使log_statement = 'ddl', 所以rollback没有被记录下来.</div><div># 这是个弊端. 需要注意. 希望未来的PostgreSQL版本加以改进. 现在的解决办法是修正触发器的触发点, 小结部分会提到.</div><div># 以上操作的日志输出如下.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >2013-03-20 10:18:02.496 CST,"digoal","digoal",4521,"[local]",51491867.11a9,9,"INSERT",2013-03-20 10:01:11 CST,1/229,3355,WARNING,01000,"user:digoal, db:digoal, query:insert into user_account_kb values(11,'test',100,now(),null);",,,,,,,,"exec_stmt_raise, pl_exec.c:2840","psql"</font></div><div><font size="2"   >2013-03-20 10:19:42.980 CST,"digoal","digoal",4521,"[local]",51491867.11a9,10,"UPDATE",2013-03-20 10:01:11 CST,1/233,3356,WARNING,01000,"user:digoal, db:digoal, query:update user_account_kb set info='new' where id=11;",,,,,,,,"exec_stmt_raise, pl_exec.c:2840","psql"</font></div><div><font size="2"   >2013-03-20 10:19:53.612 CST,"digoal","digoal",4521,"[local]",51491867.11a9,11,"DELETE",2013-03-20 10:01:11 CST,1/236,3357,WARNING,01000,"user:digoal, db:digoal, query:delete from user_account_kb where id=11;",,,,,,,,"exec_stmt_raise, pl_exec.c:2840","psql"</font></div><div><font size="2"   >2013-03-20 10:20:18.361 CST,"digoal","digoal",4521,"[local]",51491867.11a9,12,"TRUNCATE TABLE",2013-03-20 10:01:11 CST,1/237,3358,WARNING,01000,"user:digoal, db:digoal, query:truncate user_account_kb ;",,,,,,,,"exec_stmt_raise, pl_exec.c:2840","psql"</font></div><p></p></pre></div></div><div><br></div><div><span style="line-height: 22px;"   >【审计场景2】</span></div><div>2. 按用户审计某个表的insert, update, delete, truncate语句.</div><div>使用after for each statement&nbsp;<span style="line-height: 22px;"   >when (current_user='')</span><span style="line-height: 22px;"   >触发器.</span></div><div># 删除前面用到的触发器</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; drop trigger tg1 on user_account_kb;</font></div><div><font size="2"   >DROP TRIGGER</font></div><p></p></pre></div><div># 创建触发器, 这次带上when条件</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; create trigger tg1 after insert or update or delete or truncate on user_account_kb for each statement when (current_user='digoal') execute procedure trace_statement();</font></div><div><font size="2"   >CREATE TRIGGER</font></div><p></p></pre></div><div># 测试digoal用户的操作</div><div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; update user_account_kb set info='new' where id=11;</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:update user_account_kb set info='new' where id=11;</font></div><div><font size="2"   >UPDATE 0</font></div><p></p></pre></div><div># 测试其他用户的操作, 不被审计</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; \c digoal postgres</font></div><div><font size="2"   >You are now connected to database "digoal" as user "postgres".</font></div><div><font size="2"   >digoal=# update digoal.user_account_kb set info='new' where id=11;</font></div><div><font size="2"   >UPDATE 0</font></div><p></p></pre></div></div><div><br></div><div><span style="line-height: 22px;"   >【审计场景3】</span></div><div>3. 按条件审计某个表的insert, update, delete语句.</div><div>使用after for each row&nbsp;<span style="line-height: 22px;"   >when (new.balance &lt;&gt; old.balance)</span><span style="line-height: 22px;"   >触发器.</span></div><div><span style="line-height: 22px;"   ># 删除前面用到的触发器</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; drop trigger tg1 on user_account_kb;</font></div><div><font size="2"   >DROP TRIGGER</font></div><p></p></pre></div></div><div># 新建触发器函数</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; create or replace function trace_row() returns trigger as $$ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >declare</font></div><div><font size="2"   >&nbsp; v_user name;</font></div><div><font size="2"   >&nbsp; v_db name;</font></div><div><font size="2"   >&nbsp; v_query text;</font></div><div><font size="2"   >begin</font></div><div><font size="2"   >select current_user, current_database(), current_query() into v_user, v_db, v_query;</font></div><div><font size="2"   >case TG_OP</font></div><div><font size="2"   >&nbsp; when 'UPDATE' then</font></div><div><font size="2"   >&nbsp; &nbsp; raise warning 'user:%, db:%, query:%, newdata:%, olddata:%', v_user, v_db, v_query, NEW, OLD;</font></div><div><font size="2"   >&nbsp; when 'INSERT' then</font></div><div><font size="2"   >&nbsp; &nbsp; raise warning 'user:%, db:%, query:%, newdata:%', v_user, v_db, v_query, NEW;</font></div><div><font size="2"   >&nbsp; when 'DELETE' then</font></div><div><font size="2"   >&nbsp; &nbsp; raise warning 'user:%, db:%, query:%, olddata:%', v_user, v_db, v_query, OLD;</font></div><div><font size="2"   >&nbsp; else</font></div><div><font size="2"   >&nbsp; &nbsp; null;</font></div><div><font size="2"   >end case;</font></div><div><font size="2"   >return null;</font></div><div><font size="2"   >end;</font></div><div><font size="2"   >$$ language plpgsql;</font></div><div><font size="2"   >CREATE FUNCTION</font></div><p></p></pre></div><div># 新建触发器</div><div><div style="line-height: 22px;"   ><pre class="prettyprint"   ><p></p><div style="line-height: 22px;"   ><font size="2"   >digoal=&gt; create trigger tg1 after insert or update or delete on user_account_kb for each row execute procedure trace_row();</font></div><div style="line-height: 22px;"   ><font size="2"   >CREATE TRIGGER</font></div><p></p></pre></div></div><div># 测试插入</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; insert into user_account_kb select * from user_account_kb limit 3;</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:insert into user_account_kb select * from user_account_kb limit 3;, newdata:(1,test,66,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:insert into user_account_kb select * from user_account_kb limit 3;, newdata:(2,test,50,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:insert into user_account_kb select * from user_account_kb limit 3;, newdata:(3,test,95,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >INSERT 0 3</font></div><p></p></pre></div><div># 测试更新</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; update user_account_kb set info='new' where id&lt;3;</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:update user_account_kb set info='new' where id&lt;3;, newdata:(1,new,66,"2013-03-20 10:08:15.969523",), olddata:(1,new,66,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:update user_account_kb set info='new' where id&lt;3;, newdata:(2,new,50,"2013-03-20 10:08:15.969523",), olddata:(2,new,50,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:update user_account_kb set info='new' where id&lt;3;, newdata:(1,new,66,"2013-03-20 10:08:15.969523",), olddata:(1,new,66,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:update user_account_kb set info='new' where id&lt;3;, newdata:(2,new,50,"2013-03-20 10:08:15.969523",), olddata:(2,new,50,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >UPDATE 4</font></div><p></p></pre></div><div># 测试删除</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; delete from user_account_kb where id&lt;3;</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:delete from user_account_kb where id&lt;3;, olddata:(1,new,66,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:delete from user_account_kb where id&lt;3;, olddata:(2,new,50,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:delete from user_account_kb where id&lt;3;, olddata:(1,new,66,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:delete from user_account_kb where id&lt;3;, olddata:(2,new,50,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >DELETE 4</font></div><p></p></pre></div><div><br></div><div><span style="line-height: 22px;"   >【审计场景4】</span></div><div># 基于列的判断审计</div><div># 删除前面用到的触发器</div><div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; drop trigger tg1 on user_account_kb;</font></div><div><font size="2"   >DROP TRIGGER</font></div><p></p></pre></div><div># 创建触发器, 这里用到when条件, 只有当balance变化时才审计</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; create trigger tg1 after update on user_account_kb for each row when (new.balance&lt;&gt;old.balance) execute procedure trace_row();</font></div><div><font size="2"   >CREATE TRIGGER</font></div><p></p></pre></div><div># 测试</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; update user_account_kb set info='new' where id=4;</font></div><div><font size="2"   >UPDATE 1</font></div><div><font size="2"   >digoal=&gt; update user_account_kb set info='new',balance=balance where id=4;</font></div><div><font size="2"   >UPDATE 1</font></div><p></p></pre></div><div># balance变化才审计</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; update user_account_kb set info='new',balance=balance-1 where id=4;</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:update user_account_kb set info='new',balance=balance-1 where id=4;, newdata:(4,new,89,"2013-03-20 10:08:15.969523",), olddata:(4,new,90,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >UPDATE 1</font></div><p></p></pre></div></div><div>【小结】</div><div>1. 前面提到ROLLBACK等事务相关的SQL不会被审计到, 所以当SQL执行失败时, LOG已经记录了, 但是没有记录回滚的动作, 所以信息是不完整的, 除非从XLOG/CLOG中取出对应的XID是提交还是回滚.&nbsp;</div><div>为了使记录在LOG中的语句一定是提交的, 那么需要调整一下触发器的创建方法, 使得回滚的事务中所有的SQL都不被审计.</div><div>如下,</div><div>触发器只有在提交时才会触发, 回滚不触发. (使用constraint来创建触发器)</div><div><pre class="prettyprint"   ><div><font size="2"   >digoal=&gt; create constraint trigger tg1 after update on user_account_kb DEFERRABLE INITIALLY deferred for each row when (new.balance&lt;&gt;old.balance) execute procedure trace_row();</font></div><div><font size="2"   >CREATE TRIGGER</font></div><div><font size="2"   >digoal=&gt; begin;</font></div><div><font size="2"   >BEGIN</font></div><div><font size="2"   >digoal=&gt; update user_account_kb set balance=balance+1 where id=1;</font></div><div><font size="2"   >UPDATE 0</font></div><div><font size="2"   >digoal=&gt; update user_account_kb set balance=balance+1 where id=4;</font></div><div><font size="2"   >UPDATE 1</font></div><div><font size="2"   >digoal=&gt; end;</font></div><div><font size="2"   >WARNING: &nbsp;user:digoal, db:digoal, query:end;, newdata:(4,new,90,"2013-03-20 10:08:15.969523",), olddata:(4,new,89,"2013-03-20 10:08:15.969523",)</font></div><div><font size="2"   >COMMIT</font></div><div><font size="2"   >digoal=&gt; begin;</font></div><div><font size="2"   >BEGIN</font></div><div><font size="2"   >digoal=&gt; update user_account_kb set balance=balance+1 where id=4;</font></div><div><font size="2"   >UPDATE 1</font></div><div><font size="2"   >digoal=&gt; rollback;</font></div><div><font size="2"   >ROLLBACK</font></div><p></p></pre></div><div><span style="line-height: 22px;"   >注意以上方法只有after ... for each row才能被用到.</span></div><div><pre class="prettyprint"   ><p><font size="2"   >When the CONSTRAINT option is specified, this command creates a constraint trigger. This is the same as a regular trigger except that the timing of the trigger firing can be adjusted using SET CONSTRAINTS.&nbsp;</font></p><p><font size="2"   >Constraint triggers must be AFTER ROW triggers. They can be fired either at the end of the statement causing the triggering event, or at the end of the containing transaction; in the latter case they are said to be deferred.&nbsp;</font></p><p><font size="2"   >A pending deferred-trigger firing can also be forced to happen immediately by using SET CONSTRAINTS.&nbsp;</font></p><p><font size="2"   >Constraint triggers are expected to raise an exception when the constraints they implement are violated.</font></p></pre></div><div><br></div>【参考】<div>1.&nbsp;<a target="_blank" href="http://blog.163.com/digoal@126/blog/static/16387704020132208241607/"   >http://blog.163.com/digoal@126/blog/static/16387704020132208241607/</a></div><div>2.&nbsp;<a target="_blank" href="http://blog.163.com/digoal@126/blog/static/1638770402013283547959/"   >http://blog.163.com/digoal@126/blog/static/1638770402013283547959/</a></div><div>3.&nbsp;<a target="_blank" href="http://blog.163.com/digoal@126/blog/static/1638770402013211102130526/"   >http://blog.163.com/digoal@126/blog/static/1638770402013211102130526/</a></div><div>4.&nbsp;<a target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201252575529358/"   >http://blog.163.com/digoal@126/blog/static/163877040201252575529358/</a><br>5.&nbsp;<wbr><a style="line-height: 22px;" target="_blank" href="http://blog.163.com/digoal@126/blog/static/16387704020132131361949/"   >http://blog.163.com/digoal@126/blog/static/16387704020132131361949/</a></div>6.&nbsp;<a target="_blank" rel="nofollow" href="http://www.postgresql.org/docs/9.2/static/sql-createtrigger.html"   >http://www.postgresql.org/docs/9.2/static/sql-createtrigger.html</a></div>
	</div>
</div>
</body>
</html>
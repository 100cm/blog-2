<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">PostgreSQL convert integer to bit</h2>
	<h5 id="">2013-03-05 9:36:01&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/16387704020132592725462/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;">昨天一位同事问我PostgreSQL 有没有十进制转二进制的函数.<div>看了一下目前PostgreSQL没有此类函数, 所以需要自己写一下.</div><div>有2种方法, &nbsp;</div><div><span style="line-height: 22px;"   >第一种方法如下, 涉及符号与类型宽度(假设int为signed int).</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >do language plpgsql $$</font></div><div><font size="2"   >declare</font></div><div><font size="2"   >&nbsp; o_bit text;</font></div><div><font size="2"   >&nbsp; o_len int;</font></div><div><font size="2"   >&nbsp; i_num int;</font></div><div><font size="2"   >&nbsp; i_conv int;</font></div><div><font size="2"   >&nbsp; i_num_abs int;</font></div><div><font size="2"   >&nbsp; i_res int;</font></div><div><font size="2"   >&nbsp; i_mod int;</font></div><div><font size="2"   >begin</font></div><div><font size="2"   >&nbsp; o_len := 32;</font></div><div><font size="2"   >&nbsp; i_num := -10234;</font></div><div><font size="2"   >&nbsp; i_conv := 2;</font></div><div><font size="2"   >&nbsp; i_num_abs := abs(i_num);</font></div><div><font size="2"   >&nbsp; i_res := i_num_abs/i_conv;</font></div><div><font size="2"   >&nbsp; i_mod := mod(i_num_abs,i_conv);</font></div><div><font size="2"   >&nbsp; o_bit := i_mod::text;</font></div><div><font size="2"   >&nbsp; loop</font></div><div><font size="2"   >&nbsp; &nbsp; if i_res = 0 then</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; exit;</font></div><div><font size="2"   >&nbsp; &nbsp; end if;</font></div><div><font size="2"   >&nbsp; &nbsp; i_mod := mod(i_res,i_conv);</font></div><div><font size="2"   >&nbsp; &nbsp; i_res := i_res/i_conv;</font></div><div><font size="2"   >&nbsp; &nbsp; o_bit := i_mod||o_bit;</font></div><div><font size="2"   >&nbsp; end loop;</font></div><div><font size="2"   >&nbsp; o_len := o_len - char_length(o_bit) - 1;</font></div><div><font size="2"   >&nbsp; o_bit := repeat('0', o_len)||o_bit;</font></div><div><font size="2"   >&nbsp; if i_num &gt;=0 then</font></div><div><font size="2"   >&nbsp; &nbsp; o_bit := '0'||o_bit;</font></div><div><font size="2"   >&nbsp; else</font></div><div><font size="2"   >&nbsp; &nbsp; o_bit := '1'||o_bit;</font></div><div><font size="2"   >&nbsp; end if;</font></div><div><font size="2"   >&nbsp; raise notice '%', o_bit;</font></div><div><font size="2"   >end;</font></div><div><font size="2"   >$$;</font></div><p></p></pre></div><div><br></div><div>-- 创建函数如下 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   ><span style="line-height: 19px;"   >create or replace function i4tob(i_num int) returns varbit as $$<br>declare<br>  o_bit text;<br>  o_len int;<br>  i_conv int;<br>  i_num_abs int;<br>  i_res int;<br>  i_mod int;<br>begin<br>  o_len := 32;<br>  i_conv := 2;<br>  i_num_abs := abs(i_num);<br>  i_res := i_num_abs/i_conv;<br>  i_mod := mod(i_num_abs,i_conv);<br>  o_bit := i_mod::text;<br>  loop<br>    if i_res = 0 then<br>      exit;<br>    end if;<br>    i_mod := mod(i_res,i_conv);<br>    i_res := i_res/i_conv;<br>    o_bit := i_mod||o_bit;<br>  end loop;<br>  o_len := o_len - char_length(o_bit) - 1;<br>  if i_num &gt;=0 then<br>    null;<br>  else<br>    o_bit := repeat('0', o_len)||o_bit;<br>    o_bit := '1'||o_bit;<br>  end if;<br>  raise notice '%', o_bit;<br>  return o_bit::varbit;<br>end;<br>$$ language plpgsql;</span></font></div><p></p></pre></div><div><br></div><div>-- 测试 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   ><span style="line-height: 19px;"   >postgres=# select i4tob(-100);<br>NOTICE:  10000000000000000000000001100100<br>              i4tob               <br>----------------------------------<br> 10000000000000000000000001100100<br>(1 row)<br><br>postgres=# select i4tob(100);<br>NOTICE:  1100100<br>  i4tob  <br>---------<br> 1100100<br>(1 row)<br><br>postgres=# select i4tob(256);<br>NOTICE:  100000000<br>   i4tob   <br>-----------<br> 100000000<br>(1 row)<br><br>postgres=# select i4tob(-256);<br>NOTICE:  10000000000000000000000100000000<br>              i4tob               <br>----------------------------------<br> 10000000000000000000000100000000<br>(1 row)</span></font></div><p></p></pre></div><div><br></div><div>另一种方法是使用位移算法 :&nbsp;</div><div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >do language plpgsql $$</font></div><div><font size="2"   >declare</font></div><div><font size="2"   >&nbsp; o_bit text;</font></div><div><font size="2"   >&nbsp; o_len int;</font></div><div><font size="2"   >&nbsp; i_num int;</font></div><div><font size="2"   >&nbsp; i_conv int;</font></div><div><font size="2"   >&nbsp; i_num_abs int;</font></div><div><font size="2"   >&nbsp; i_pos int;</font></div><div><font size="2"   >begin</font></div><div><font size="2"   >&nbsp; o_len := 32;</font></div><div><font size="2"   >&nbsp; i_num := -1024;</font></div><div><font size="2"   >&nbsp; i_conv := 2;</font></div><div><font size="2"   >&nbsp; i_num_abs := abs(i_num);</font></div><div><font size="2"   >&nbsp; i_pos := trunc((dlog1(i_num_abs))/0.693147180559945);</font></div><div><font size="2"   >&nbsp; o_bit := mod(i_num_abs,i_conv)::text;</font></div><div><font size="2"   >&nbsp; if i_pos &gt;= 1 then</font></div><div><font size="2"   >&nbsp; &nbsp; for i in 1..i_pos loop</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; o_bit := mod(i_num_abs&gt;&gt;i, i_conv)||o_bit;</font></div><div><font size="2"   >&nbsp; &nbsp; end loop;</font></div><div><font size="2"   >&nbsp; end if;</font></div><div><font size="2"   >&nbsp; if i_num &gt;=0 then</font></div><div><font size="2"   >&nbsp; &nbsp; null;</font></div><div><font size="2"   >&nbsp; else</font></div><div><font size="2"   >&nbsp; &nbsp; o_len := o_len - char_length(o_bit) - 1;</font></div><div><font size="2"   >&nbsp; &nbsp; o_bit := repeat('0', o_len)||o_bit;</font></div><div><font size="2"   >&nbsp; &nbsp; o_bit := '1'||o_bit;</font></div><div><font size="2"   >&nbsp; end if;</font></div><div><font size="2"   >&nbsp; raise notice '%', o_bit;</font></div><div><font size="2"   >end;</font></div><div><font size="2"   >$$;</font></div><p></p></pre></div><div>-- 改成函数 :&nbsp;</div></div><div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >create or replace function si32tob(i_num int) returns varbit as $$</font></div><div><font size="2"   >declare</font></div><div><font size="2"   >&nbsp; o_bit text;</font></div><div><font size="2"   >&nbsp; o_len int;</font></div><div><font size="2"   >&nbsp; i_conv int;</font></div><div><font size="2"   >&nbsp; i_num_abs int;</font></div><div><font size="2"   >&nbsp; i_pos int;</font></div><div><font size="2"   >begin</font></div><div><font size="2"   >&nbsp; o_len := 32;</font></div><div><font size="2"   >&nbsp; i_conv := 2;</font></div><div><font size="2"   >&nbsp; i_num_abs := abs(i_num);</font></div><div><font size="2"   >&nbsp; i_pos := trunc((dlog1(i_num_abs))/0.693147180559945);</font></div><div><font size="2"   >&nbsp; o_bit := mod(i_num_abs,i_conv)::text;</font></div><div><font size="2"   >&nbsp; if i_pos &gt;= 1 then</font></div><div><font size="2"   >&nbsp; &nbsp; for i in 1..i_pos loop</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; o_bit := mod(i_num_abs&gt;&gt;i, i_conv)||o_bit;</font></div><div><font size="2"   >&nbsp; &nbsp; end loop;</font></div><div><font size="2"   >&nbsp; end if;</font></div><div><font size="2"   >&nbsp; if i_num &gt;=0 then</font></div><div><font size="2"   >&nbsp; &nbsp; null;</font></div><div><font size="2"   >&nbsp; else</font></div><div><font size="2"   >&nbsp; &nbsp; o_len := o_len - char_length(o_bit) - 1;</font></div><div><font size="2"   >&nbsp; &nbsp; o_bit := repeat('0', o_len)||o_bit;</font></div><div><font size="2"   >&nbsp; &nbsp; o_bit := '1'||o_bit;</font></div><div><font size="2"   >&nbsp; end if;</font></div><div><font size="2"   >&nbsp; raise notice '%', o_bit;</font></div><div><font size="2"   >&nbsp; return o_bit::varbit;</font></div><div><font size="2"   >end;</font></div><div><font size="2"   >$$ language plpgsql;</font></div><p></p></pre></div><div><br></div></div><div>-- 测试 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=# select si32tob(1);</font></div><div><font size="2"   >NOTICE: &nbsp;1</font></div><div><font size="2"   >&nbsp;si32tob&nbsp;</font></div><div><font size="2"   >---------</font></div><div><font size="2"   >&nbsp;1</font></div><div><font size="2"   >(1 row)</font></div><div><font size="2"   >Time: 1.715 ms</font></div><div><font size="2"   >digoal=# select si32tob(2);</font></div><div><font size="2"   >NOTICE: &nbsp;10</font></div><div><font size="2"   >&nbsp;si32tob&nbsp;</font></div><div><font size="2"   >---------</font></div><div><font size="2"   >&nbsp;10</font></div><div><font size="2"   >(1 row)</font></div><div><font size="2"   >Time: 1.049 ms</font></div><div><font size="2"   >digoal=# select si32tob(-2);</font></div><div><font size="2"   >NOTICE: &nbsp;10000000000000000000000000000010</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;si32tob &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >----------------------------------</font></div><div><font size="2"   >&nbsp;10000000000000000000000000000010</font></div><div><font size="2"   >(1 row)</font></div><div><font size="2"   >Time: 1.520 ms</font></div><div><font size="2"   >digoal=# select si32tob(234);</font></div><div><font size="2"   >NOTICE: &nbsp;11101010</font></div><div><font size="2"   >&nbsp;si32tob &nbsp;</font></div><div><font size="2"   >----------</font></div><div><font size="2"   >&nbsp;11101010</font></div><div><font size="2"   >(1 row)</font></div><div><font size="2"   >Time: 1.094 ms</font></div><div><font size="2"   >digoal=# select si32tob(-234);</font></div><div><font size="2"   >NOTICE: &nbsp;10000000000000000000000011101010</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;si32tob &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >----------------------------------</font></div><div><font size="2"   >&nbsp;10000000000000000000000011101010</font></div><div><font size="2"   >(1 row)</font></div><div><font size="2"   >Time: 1.124 ms</font></div><p></p></pre></div><div>以上函数参考wikihow提供的算法编写.</div><div>其他转换可参考本文末尾的函数进行修改.</div><div><br></div><div>【参考】</div><div>1.&nbsp;<a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://www.wikihow.com/Convert-from-Decimal-to-Binary"   >http://www.wikihow.com/Convert-from-Decimal-to-Binary</a></div><div>2.&nbsp;<a style="line-height: 22px;" target="_blank" rel="nofollow" href="http://psoug.org/snippet/Convert-between-Decimal-Binary-Octal-and-Hex_536.htm"   >http://psoug.org/snippet/Convert-between-Decimal-Binary-Octal-and-Hex_536.htm</a></div><div>3.&nbsp;<span style="line-height: 22px;"   >src/backend/optimizer/path/costsize.c</span></div><div><pre class="prettyprint"   ><p><font size="2"   >00096 #define LOG2(x) &nbsp;(log(x) / 0.693147180559945)</font></p></pre></div><div>4. oracle pl/sql 相关转换函数 :&nbsp;</div><div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >SET serveroutput ON</font></div><div><font size="2"   >&nbsp;</font></div><div><font size="2"   >CREATE OR REPLACE PACKAGE dbms_numsystem AS</font></div><div><font size="2"   >&nbsp; &nbsp;FUNCTION bin2dec (binval IN CHAR &nbsp;) RETURN NUMBER;</font></div><div><font size="2"   >&nbsp; &nbsp;FUNCTION dec2bin (N &nbsp; &nbsp; &nbsp;IN NUMBER) RETURN VARCHAR2;&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp;FUNCTION oct2dec (octval IN CHAR &nbsp;) RETURN NUMBER;</font></div><div><font size="2"   >&nbsp; &nbsp;FUNCTION dec2oct (N &nbsp; &nbsp; &nbsp;IN NUMBER) RETURN VARCHAR2;&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp;FUNCTION hex2dec (hexval IN CHAR &nbsp;) RETURN NUMBER;</font></div><div><font size="2"   >&nbsp; &nbsp;FUNCTION dec2hex (N &nbsp; &nbsp; &nbsp;IN NUMBER) RETURN VARCHAR2;&nbsp;</font></div><div><font size="2"   >END dbms_numsystem;</font></div><div><font size="2"   >/</font></div><div><font size="2"   >show errors</font></div><div><font size="2"   >&nbsp;</font></div><div><font size="2"   >CREATE OR REPLACE PACKAGE BODY dbms_numsystem AS</font></div><div><font size="2"   >&nbsp;</font></div><div><font size="2"   >FUNCTION bin2dec (binval IN CHAR) RETURN NUMBER IS</font></div><div><font size="2"   >&nbsp; i &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NUMBER;</font></div><div><font size="2"   >&nbsp; digits &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NUMBER;</font></div><div><font size="2"   >&nbsp; result &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NUMBER := 0;</font></div><div><font size="2"   >&nbsp; current_digit &nbsp; &nbsp; CHAR(1);</font></div><div><font size="2"   >&nbsp; current_digit_dec NUMBER;</font></div><div><font size="2"   >BEGIN</font></div><div><font size="2"   >&nbsp; digits := LENGTH(binval);</font></div><div><font size="2"   >&nbsp; FOR i IN 1..digits LOOP</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;current_digit := SUBSTR(binval, i, 1);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;current_digit_dec := TO_NUMBER(current_digit);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;result := (result * 2) + current_digit_dec;</font></div><div><font size="2"   >&nbsp; END LOOP;</font></div><div><font size="2"   >&nbsp; RETURN result;</font></div><div><font size="2"   >END bin2dec;</font></div><div><font size="2"   >&nbsp;</font></div><div><font size="2"   >FUNCTION dec2bin (N IN NUMBER) RETURN VARCHAR2 IS</font></div><div><font size="2"   >&nbsp; binval VARCHAR2(64);</font></div><div><font size="2"   >&nbsp; N2 &nbsp; &nbsp; NUMBER := N;</font></div><div><font size="2"   >BEGIN</font></div><div><font size="2"   >&nbsp; WHILE ( N2 &gt; 0 ) LOOP</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;binval := MOD(N2, 2) || binval;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;N2 := TRUNC( N2 / 2 );</font></div><div><font size="2"   >&nbsp; END LOOP;</font></div><div><font size="2"   >&nbsp; RETURN binval;</font></div><div><font size="2"   >END dec2bin;</font></div><div><font size="2"   >&nbsp;</font></div><div><font size="2"   >FUNCTION oct2dec (octval IN CHAR) RETURN NUMBER IS</font></div><div><font size="2"   >&nbsp; i &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NUMBER;</font></div><div><font size="2"   >&nbsp; digits &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NUMBER;</font></div><div><font size="2"   >&nbsp; result &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NUMBER := 0;</font></div><div><font size="2"   >&nbsp; current_digit &nbsp; &nbsp; CHAR(1);</font></div><div><font size="2"   >&nbsp; current_digit_dec NUMBER;</font></div><div><font size="2"   >BEGIN</font></div><div><font size="2"   >&nbsp; digits := LENGTH(octval);</font></div><div><font size="2"   >&nbsp; FOR i IN 1..digits LOOP</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;current_digit := SUBSTR(octval, i, 1);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;current_digit_dec := TO_NUMBER(current_digit);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;result := (result * 8) + current_digit_dec;</font></div><div><font size="2"   >&nbsp; END LOOP;</font></div><div><font size="2"   >&nbsp; RETURN result;</font></div><div><font size="2"   >END oct2dec;</font></div><div><font size="2"   >&nbsp;</font></div><div><font size="2"   >FUNCTION dec2oct (N IN NUMBER) RETURN VARCHAR2 IS</font></div><div><font size="2"   >&nbsp; octval VARCHAR2(64);</font></div><div><font size="2"   >&nbsp; N2 &nbsp; &nbsp; NUMBER := N;</font></div><div><font size="2"   >BEGIN</font></div><div><font size="2"   >&nbsp; WHILE ( N2 &gt; 0 ) LOOP</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;octval := MOD(N2, 8) || octval;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;N2 := TRUNC( N2 / 8 );</font></div><div><font size="2"   >&nbsp; END LOOP;</font></div><div><font size="2"   >&nbsp; RETURN octval;</font></div><div><font size="2"   >END dec2oct;</font></div><div><font size="2"   >&nbsp;</font></div><div><font size="2"   >FUNCTION hex2dec (hexval IN CHAR) RETURN NUMBER IS</font></div><div><font size="2"   >&nbsp; i &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NUMBER;</font></div><div><font size="2"   >&nbsp; digits &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NUMBER;</font></div><div><font size="2"   >&nbsp; result &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NUMBER := 0;</font></div><div><font size="2"   >&nbsp; current_digit &nbsp; &nbsp; CHAR(1);</font></div><div><font size="2"   >&nbsp; current_digit_dec NUMBER;</font></div><div><font size="2"   >BEGIN</font></div><div><font size="2"   >&nbsp; digits := LENGTH(hexval);</font></div><div><font size="2"   >&nbsp; FOR i IN 1..digits LOOP</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;current_digit := SUBSTR(hexval, i, 1);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;IF current_digit IN ('A','B','C','D','E','F') THEN</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; current_digit_dec := ASCII(current_digit) - ASCII('A') + 10;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;ELSE</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; current_digit_dec := TO_NUMBER(current_digit);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;END IF;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;result := (result * 16) + current_digit_dec;</font></div><div><font size="2"   >&nbsp; END LOOP;</font></div><div><font size="2"   >&nbsp; RETURN result;</font></div><div><font size="2"   >END hex2dec;</font></div><div><font size="2"   >&nbsp;</font></div><div><font size="2"   >FUNCTION dec2hex (N IN NUMBER) RETURN VARCHAR2 IS</font></div><div><font size="2"   >&nbsp; hexval VARCHAR2(64);</font></div><div><font size="2"   >&nbsp; N2 &nbsp; &nbsp; NUMBER := N;</font></div><div><font size="2"   >&nbsp; digit &nbsp;NUMBER;</font></div><div><font size="2"   >&nbsp; hexdigit &nbsp;CHAR;</font></div><div><font size="2"   >BEGIN</font></div><div><font size="2"   >&nbsp; WHILE ( N2 &gt; 0 ) LOOP</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;digit := MOD(N2, 16);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;IF digit &gt; 9 THEN&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; hexdigit := CHR(ASCII('A') + digit - 10);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;ELSE</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; hexdigit := TO_CHAR(digit);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;END IF;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;hexval := hexdigit || hexval;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;N2 := TRUNC( N2 / 16 );</font></div><div><font size="2"   >&nbsp; END LOOP;</font></div><div><font size="2"   >&nbsp; RETURN hexval;</font></div><div><font size="2"   >END dec2hex;</font></div><div><font size="2"   >&nbsp;</font></div><div><font size="2"   >END dbms_numsystem;</font></div><div><font size="2"   >/</font></div><div><font size="2"   >show errors</font></div><p></p></pre></div><br><wbr></div></div>
	</div>
	<h3>评论</h3>
	<div class="" id="" style="padding:0 20px;">
			<div id="">
				<h5 id="">francs - 2013-03-05 17:26:49</h5>
				<div><img src="http://b.bst.126.net/common/portrait/face/preview/face55.gif"  >这都能弄出来。</div>
			</div>
	</div>
</div>
</body>
</html>
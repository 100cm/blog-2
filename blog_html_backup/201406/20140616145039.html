<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">python range() function like postgresql generate_series()</h2>
	<h5 id="">2014-06-16 14:50:39&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201451625039529/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>&gt;&gt;&gt; range(0,10)</div><div>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</div><div>&gt;&gt;&gt; len(range(0,10))</div><div>10</div><div>&gt;&gt;&gt; range(9,20,3)</div><div>[9, 12, 15, 18]</div><div>同时因为range()返回的是一个list, 所以可以用在for循环中.</div><div><div>&gt;&gt;&gt; words = ['cat', 'window', 'defenestrate']</div><div>&gt;&gt;&gt; for i in range(len(words)):</div><div>... &nbsp; print(i, words[i])</div><div>...&nbsp;</div><div>(0, 'cat')</div><div>(1, 'window')</div><div>(2, 'defenestrate')</div></div><div><br></div><div><br></div><div><div>digoal=# select generate_series(1,10);</div><div>&nbsp;generate_series&nbsp;</div><div>-----------------</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 10</div><div>(10 rows)</div></div><div><br></div><div>[参考]</div><div>1.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="https://docs.python.org/3/tutorial/controlflow.html"   >https://docs.python.org/3/tutorial/controlflow.html</a></div><div><h2 style="font-family: 'Lucida Grande', Arial, sans-serif; font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 26px; line-height: normal;"   >4.3. The&nbsp;<a title="range" style="color: rgb(48, 48, 111); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/stdtypes.html#range"   ><tt style="padding: 0px 1px; font-size: 25px; font-family: monospace, sans-serif; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent;"   ><span>range()</span></tt></a>&nbsp;Function<a title="Permalink to this headline" style="color: rgb(48, 48, 111); text-decoration: none; visibility: visible; font-size: 0.8em; padding: 0px 4px;" rel="nofollow" href="https://docs.python.org/3/tutorial/controlflow.html#the-range-function"   >?</a></h2><p style="text-align: justify; line-height: 22.399999618530273px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >If you do need to iterate over a sequence of numbers, the built-in function&nbsp;<a title="range" style="color: rgb(48, 48, 111); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/stdtypes.html#range"   ><tt style="padding: 0px 1px; font-size: 15px; font-family: monospace, sans-serif; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent;"   ><span>range()</span></tt></a>&nbsp;comes in handy. It generates arithmetic progressions:</p><div style="color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif; line-height: normal;position:inherit;"   ><div style="background: rgb(238, 255, 204);"   ><span title="Hide the prompts and output"   style="cursor: pointer;position:inherit; top: 0px; right: 0px; border: 1px solid rgb(170, 204, 153); color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-top-left-radius: 0px; border-top-right-radius: 3px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"   >&gt;&gt;&gt;</span><pre style="overflow-x: auto; overflow-y: hidden; padding: 5px; color: rgb(51, 51, 51); line-height: 18.527999877929688px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;"   ><span style="color: rgb(198, 93, 9); font-weight: bold; display: inline;"   >&gt;&gt;&gt; </span><span style="color: rgb(0, 112, 32); font-weight: bold;"   >for</span> <span>i</span> <span style="color: rgb(0, 112, 32); font-weight: bold;"   >in</span> <span style="color: rgb(0, 112, 32);"   >range</span><span>(</span><span style="color: rgb(32, 128, 80);"   >5</span><span>):</span>
<span style="color: rgb(198, 93, 9); font-weight: bold; display: inline;"   >... </span>    <span style="color: rgb(0, 112, 32);"   >print</span><span>(</span><span>i</span><span>)</span>
<span style="color: rgb(198, 93, 9); font-weight: bold; display: inline;"   >...</span>
<span style="display: inline;"   >0</span>
<span style="display: inline;"   >1</span>
<span style="display: inline;"   >2</span>
<span style="display: inline;"   >3</span>
<span style="display: inline;"   >4</span>
</pre></div></div><p style="text-align: justify; line-height: 22.399999618530273px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >The given end point is never part of the generated sequence;&nbsp;<tt style="padding: 0px 1px; font-size: 15px; font-family: monospace, sans-serif; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>range(10)</span></tt>&nbsp;generates 10 values, the legal indices for items of a sequence of length 10. It is possible to let the range start at another number, or to specify a different increment (even negative; sometimes this is called the ‘step’):</p><div style="color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif; line-height: normal;position:inherit;"   ><div style="background: rgb(238, 255, 204);"   ><pre style="overflow-x: auto; overflow-y: hidden; padding: 5px; color: rgb(51, 51, 51); line-height: 18.527999877929688px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;"   ><span style="color: rgb(0, 112, 32);"   >range</span><span>(</span><span style="color: rgb(32, 128, 80);"   >5</span><span>,</span> <span style="color: rgb(32, 128, 80);"   >10</span><span>)</span>
   <span style="color: rgb(32, 128, 80);"   >5</span> <span>through</span> <span style="color: rgb(32, 128, 80);"   >9</span>

<span style="color: rgb(0, 112, 32);"   >range</span><span>(</span><span style="color: rgb(32, 128, 80);"   >0</span><span>,</span> <span style="color: rgb(32, 128, 80);"   >10</span><span>,</span> <span style="color: rgb(32, 128, 80);"   >3</span><span>)</span>
   <span style="color: rgb(32, 128, 80);"   >0</span><span>,</span> <span style="color: rgb(32, 128, 80);"   >3</span><span>,</span> <span style="color: rgb(32, 128, 80);"   >6</span><span>,</span> <span style="color: rgb(32, 128, 80);"   >9</span>

<span style="color: rgb(0, 112, 32);"   >range</span><span>(</span><span style="color: rgb(102, 102, 102);"   >-</span><span style="color: rgb(32, 128, 80);"   >10</span><span>,</span> <span style="color: rgb(102, 102, 102);"   >-</span><span style="color: rgb(32, 128, 80);"   >100</span><span>,</span> <span style="color: rgb(102, 102, 102);"   >-</span><span style="color: rgb(32, 128, 80);"   >30</span><span>)</span>
  <span style="color: rgb(102, 102, 102);"   >-</span><span style="color: rgb(32, 128, 80);"   >10</span><span>,</span> <span style="color: rgb(102, 102, 102);"   >-</span><span style="color: rgb(32, 128, 80);"   >40</span><span>,</span> <span style="color: rgb(102, 102, 102);"   >-</span><span style="color: rgb(32, 128, 80);"   >70</span>
</pre></div></div><p style="text-align: justify; line-height: 22.399999618530273px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >To iterate over the indices of a sequence, you can combine&nbsp;<a title="range" style="color: rgb(48, 48, 111); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/stdtypes.html#range"   ><tt style="padding: 0px 1px; font-size: 15px; font-family: monospace, sans-serif; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent;"   ><span>range()</span></tt></a>&nbsp;and&nbsp;<a title="len" style="color: rgb(48, 48, 111); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/functions.html#len"   ><tt style="padding: 0px 1px; font-size: 15px; font-family: monospace, sans-serif; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent;"   ><span>len()</span></tt></a>&nbsp;as follows:</p><div style="color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif; line-height: normal;position:inherit;"   ><div style="background: rgb(238, 255, 204);"   ><span title="Hide the prompts and output"   style="cursor: pointer;position:inherit; top: 0px; right: 0px; border: 1px solid rgb(170, 204, 153); color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-top-left-radius: 0px; border-top-right-radius: 3px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"   >&gt;&gt;&gt;</span><pre style="overflow-x: auto; overflow-y: hidden; padding: 5px; color: rgb(51, 51, 51); line-height: 18.527999877929688px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;"   ><span style="color: rgb(198, 93, 9); font-weight: bold;"   >&gt;&gt;&gt; </span><span>a</span> <span style="color: rgb(102, 102, 102);"   >=</span> <span>[</span><span style="color: rgb(64, 112, 160);"   >'Mary'</span><span>,</span> <span style="color: rgb(64, 112, 160);"   >'had'</span><span>,</span> <span style="color: rgb(64, 112, 160);"   >'a'</span><span>,</span> <span style="color: rgb(64, 112, 160);"   >'little'</span><span>,</span> <span style="color: rgb(64, 112, 160);"   >'lamb'</span><span>]</span>
<span style="color: rgb(198, 93, 9); font-weight: bold;"   >&gt;&gt;&gt; </span><span style="color: rgb(0, 112, 32); font-weight: bold;"   >for</span> <span>i</span> <span style="color: rgb(0, 112, 32); font-weight: bold;"   >in</span> <span style="color: rgb(0, 112, 32);"   >range</span><span>(</span><span style="color: rgb(0, 112, 32);"   >len</span><span>(</span><span>a</span><span>)):</span>
<span style="color: rgb(198, 93, 9); font-weight: bold;"   >... </span>    <span style="color: rgb(0, 112, 32);"   >print</span><span>(</span><span>i</span><span>,</span> <span>a</span><span>[</span><span>i</span><span>])</span>
<span style="color: rgb(198, 93, 9); font-weight: bold;"   >...</span>
<span>0 Mary</span>
<span>1 had</span>
<span>2 a</span>
<span>3 little</span>
<span>4 lamb</span>
</pre></div></div><p style="text-align: justify; line-height: 22.399999618530273px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >In most such cases, however, it is convenient to use the&nbsp;<a title="enumerate" style="color: rgb(48, 48, 111); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/functions.html#enumerate"   ><tt style="padding: 0px 1px; font-size: 15px; font-family: monospace, sans-serif; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent;"   ><span>enumerate()</span></tt></a>&nbsp;function, see&nbsp;<a style="color: rgb(48, 48, 111); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/tutorial/datastructures.html#tut-loopidioms"   ><em>Looping Techniques</em></a>.</p><p style="text-align: justify; line-height: 22.399999618530273px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >A strange thing happens if you just print a range:</p><div style="color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif; line-height: normal;position:inherit;"   ><div style="background: rgb(238, 255, 204);"   ><span title="Hide the prompts and output"   style="cursor: pointer;position:inherit; top: 0px; right: 0px; border: 1px solid rgb(170, 204, 153); color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-top-left-radius: 0px; border-top-right-radius: 3px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"   >&gt;&gt;&gt;</span><pre style="overflow-x: auto; overflow-y: hidden; padding: 5px; color: rgb(51, 51, 51); line-height: 18.527999877929688px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;"   ><span style="color: rgb(198, 93, 9); font-weight: bold;"   >&gt;&gt;&gt; </span><span style="color: rgb(0, 112, 32);"   >print</span><span>(</span><span style="color: rgb(0, 112, 32);"   >range</span><span>(</span><span style="color: rgb(32, 128, 80);"   >10</span><span>))</span>
<span>range(0, 10)</span>
</pre></div></div><p style="text-align: justify; line-height: 22.399999618530273px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >In many ways the object returned by&nbsp;<a title="range" style="color: rgb(48, 48, 111); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/stdtypes.html#range"   ><tt style="padding: 0px 1px; font-size: 15px; font-family: monospace, sans-serif; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent;"   ><span>range()</span></tt></a>&nbsp;behaves as if it is a list, but in fact it isn’t. It is an object which returns the successive items of the desired sequence when you iterate over it, but it doesn’t really make the list, thus saving space.</p><p style="text-align: justify; line-height: 22.399999618530273px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >We say such an object is&nbsp;<em>iterable</em>, that is, suitable as a target for functions and constructs that expect something from which they can obtain successive items until the supply is exhausted. We have seen that the&nbsp;<a style="color: rgb(48, 48, 111); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/reference/compound_stmts.html#for"   ><tt style="padding: 0px 1px; font-size: 15px; font-family: monospace, sans-serif; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent;"   ><span>for</span></tt></a>&nbsp;statement is such an&nbsp;<em>iterator</em>. The function&nbsp;<a title="list" style="color: rgb(48, 48, 111); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/stdtypes.html#list"   ><tt style="padding: 0px 1px; font-size: 15px; font-family: monospace, sans-serif; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: transparent;"   ><span>list()</span></tt></a>&nbsp;is another; it creates lists from iterables:</p><div style="color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif; line-height: normal;position:inherit;"   ><div style="background: rgb(238, 255, 204);"   ><span title="Hide the prompts and output"   style="cursor: pointer;position:inherit; top: 0px; right: 0px; border: 1px solid rgb(170, 204, 153); color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-top-left-radius: 0px; border-top-right-radius: 3px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;"   >&gt;&gt;&gt;</span><pre style="overflow-x: auto; overflow-y: hidden; padding: 5px; color: rgb(51, 51, 51); line-height: 18.527999877929688px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;"   ><span style="color: rgb(198, 93, 9); font-weight: bold;"   >&gt;&gt;&gt; </span><span style="color: rgb(0, 112, 32);"   >list</span><span>(</span><span style="color: rgb(0, 112, 32);"   >range</span><span>(</span><span style="color: rgb(32, 128, 80);"   >5</span><span>))</span>
<span>[0, 1, 2, 3, 4]</span>
</pre></div></div><p style="text-align: justify; line-height: 22.399999618530273px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >Later we will see more functions that return iterables and take iterables as argument.</p></div><div><br></div><div><br></div><wbr></div>
	</div>
</div>
</body>
</html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">Systemtap EXP: Trace PostgreSQL iostat per SQL statement 1</h2>
	<h5 id="">2013-10-15 12:07:26&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/1638770402013915115254543/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>本文是一个systemtap例子 , 左右如下 :&nbsp;</div><div>跟踪PostgreSQL每条sql产生的 :&nbsp;</div><div>io请求次数, 次数/s</div><div>io请求字节数, 字节数<span style="line-height: 28px;"   >/s</span></div><div><br></div><div>跟踪会话产生的总的 :&nbsp;</div><div>io请求次数, 次数/s</div><div>io请求字节数, 字节数<span style="line-height: 28px;"   >/s</span></div><div><span style="line-height: 28px;"   >过滤os cache的读和写, 仅包含块设备读写操作.</span></div><div><span style="line-height: 28px;"   ><br></span></div><div><span style="line-height: 28px;"   >下一篇blog将输出更加精细化的结果, 区分块设备, 是否缓存输出.</span></div><div><a href="http://blog.163.com/digoal@126/blog/static/16387704020139152191581/"   >http://blog.163.com/digoal@126/blog/static/16387704020139152191581/</a></div><div><br></div><div>stap脚本如下 :&nbsp;</div><div>vi test.stp</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >global io_stat1%[120000], io_stat2%[120000], io_stat11%[120000], io_stat22%[120000]</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >probe vfs.read.return {</font></div><div><font size="2"   >&nbsp; if ($return&gt;0) {</font></div><div><font size="2"   >&nbsp; &nbsp; if (devname!="N/A" &amp;&amp; execname()=="postgres") { /*skip read from cache, filter postgres otherwise*/</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; io_stat1[pid(),execname(),uid(),ppid(),"R"] &lt;&lt;&lt; $return</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; io_stat11[pid(),execname(),uid(),ppid(),"R"] &lt;&lt;&lt; (gettimeofday_us() - @entry(gettimeofday_us()))</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; io_stat2[pid(),execname(),uid(),ppid(),"R"] &lt;&lt;&lt; $return</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; io_stat22[pid(),execname(),uid(),ppid(),"R"] &lt;&lt;&lt; (gettimeofday_us() - @entry(gettimeofday_us()))</font></div><div><font size="2"   >&nbsp; &nbsp; }</font></div><div><font size="2"   >&nbsp; }</font></div><div><font size="2"   >}</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >probe vfs.write.return {</font></div><div><font size="2"   >&nbsp; if ($return&gt;0) {</font></div><div><font size="2"   >&nbsp; &nbsp; if (devname!="N/A" &amp;&amp; execname()=="postgres") { /*skip read from cache, filter postgres otherwise*/</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; io_stat1[pid(),execname(),uid(),ppid(),"W"] &lt;&lt;&lt; $return</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; io_stat11[pid(),execname(),uid(),ppid(),"W"] &lt;&lt;&lt; (gettimeofday_us() - @entry(gettimeofday_us()))</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; io_stat2[pid(),execname(),uid(),ppid(),"W"] &lt;&lt;&lt; $return</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; io_stat22[pid(),execname(),uid(),ppid(),"W"] &lt;&lt;&lt; (gettimeofday_us() - @entry(gettimeofday_us()))</font></div><div><font size="2"   >&nbsp; &nbsp; }</font></div><div><font size="2"   >&nbsp; }</font></div><div><font size="2"   >}</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >probe process("/home/pg93/pgsql9.3.1/bin/postgres").mark("query__start") {</font></div><div><font size="2"   >&nbsp; delete io_stat1[pid(),execname(),uid(),ppid(),"R"]</font></div><div><font size="2"   >&nbsp; delete io_stat1[pid(),execname(),uid(),ppid(),"W"]</font></div><div><font size="2"   >&nbsp; delete io_stat11[pid(),execname(),uid(),ppid(),"R"]</font></div><div><font size="2"   >&nbsp; delete io_stat11[pid(),execname(),uid(),ppid(),"W"]</font></div><div><font size="2"   >}</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >probe process("/home/pg93/pgsql9.3.1/bin/postgres").mark("query__done") {</font></div><div><font size="2"   >&nbsp; var1 = @count(io_stat1[pid(),execname(),uid(),ppid(),"R"])</font></div><div><font size="2"   >&nbsp; var2 = @sum(io_stat1[pid(),execname(),uid(),ppid(),"R"]) / 1024</font></div><div><font size="2"   >&nbsp; var3 = @count(io_stat1[pid(),execname(),uid(),ppid(),"W"])</font></div><div><font size="2"   >&nbsp; var4 = @sum(io_stat1[pid(),execname(),uid(),ppid(),"W"]) / 1024</font></div><div><font size="2"   >&nbsp; var5 = ((@sum(io_stat11[pid(),execname(),uid(),ppid(),"R"]) !=0) ? ((1000000 * var1) / @sum(io_stat11[pid(),execname(),uid(),ppid(),"R"])) : 0)</font></div><div><font size="2"   >&nbsp; var6 = ((@sum(io_stat11[pid(),execname(),uid(),ppid(),"R"]) !=0) ? ((1000000 * var2) / @sum(io_stat11[pid(),execname(),uid(),ppid(),"R"])) : 0)</font></div><div><font size="2"   >&nbsp; var7 = ((@sum(io_stat11[pid(),execname(),uid(),ppid(),"W"]) !=0) ? ((1000000 * var3) / @sum(io_stat11[pid(),execname(),uid(),ppid(),"W"])) : 0)</font></div><div><font size="2"   >&nbsp; var8 = ((@sum(io_stat11[pid(),execname(),uid(),ppid(),"W"]) !=0) ? ((1000000 * var4) / @sum(io_stat11[pid(),execname(),uid(),ppid(),"W"])) : 0)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; printf("query: %s\nRIO requests: %d\nRIO request Kbytes: %d\nWIO requests: %d\nWIO request Kbytes: %d\n", user_string($arg1), var1, var2, var3, var4)</font></div><div><font size="2"   >&nbsp; printf("RIO requests/s: %d\nRIO request Kbytes/s: %d\nWIO requests/s: %d\nWIO request Kbytes/s: %d\n", var5, var6, var7, var8)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; /* clear data */</font></div><div><font size="2"   >&nbsp; delete io_stat1[pid(),execname(),uid(),ppid(),"R"]</font></div><div><font size="2"   >&nbsp; delete io_stat1[pid(),execname(),uid(),ppid(),"W"]</font></div><div><font size="2"   >&nbsp; delete io_stat11[pid(),execname(),uid(),ppid(),"R"]</font></div><div><font size="2"   >&nbsp; delete io_stat11[pid(),execname(),uid(),ppid(),"W"]</font></div><div><font size="2"   >}</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >probe end{</font></div><div><font size="2"   >&nbsp; println("----------END----------")</font></div><div><font size="2"   >&nbsp; foreach([a,b,c,d,e] in io_stat2) {</font></div><div><font size="2"   >&nbsp; &nbsp; var1 = @count(io_stat2[a,b,c,d,e])</font></div><div><font size="2"   >&nbsp; &nbsp; var2 = @sum(io_stat2[a,b,c,d,e]) / 1024</font></div><div><font size="2"   >&nbsp; &nbsp; var3 = ((@sum(io_stat22[a,b,c,d,e]) !=0) ? ((1000000 * var1) / @sum(io_stat22[a,b,c,d,e])) : 0)</font></div><div><font size="2"   >&nbsp; &nbsp; var4 = ((@sum(io_stat22[a,b,c,d,e]) !=0) ? ((1000000 * var2) / @sum(io_stat22[a,b,c,d,e])) : 0)</font></div><div><font size="2"   >&nbsp; &nbsp; printdln("---",a,b,c,d,e)</font></div><div><font size="2"   >&nbsp; &nbsp; printf("%sIO requests: %d\n%sIO request Kbytes: %d\n", e, var1, e, var2)</font></div><div><font size="2"   >&nbsp; &nbsp; printf("%sIO requests/s: %d\n%sIO request Kbytes/s: %d\n", e, var3, e, var4)</font></div><div><font size="2"   >&nbsp; }</font></div><div><font size="2"   >&nbsp; delete io_stat1</font></div><div><font size="2"   >&nbsp; delete io_stat11</font></div><div><font size="2"   >&nbsp; delete io_stat2</font></div><div><font size="2"   >&nbsp; delete io_stat22</font></div><div><font size="2"   >}</font></div><p></p></pre></div><div><div>执行跟踪, 使用systemtap 2.4 :&nbsp;</div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-150 ~]# /opt/systemtap/bin/stap test.stp&nbsp;</font></div><div></div><p></p></pre><div><span style="line-height: 28px;"   >在数据库中执行以下SQL :&nbsp;</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=# explain (analyze,verbose,costs,buffers,timing) select count(*) from generate_series(1,1000000);</font></div><div><font size="2"   ><br></font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;QUERY PLAN &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >------------------------------------------------------------------------------------------------------------------------------------</font></div><div><font size="2"   >---------</font></div><div><font size="2"   >&nbsp;Aggregate &nbsp;(cost=12.50..12.51 rows=1 width=0) (actual time=602.663..602.663 rows=1 loops=1)</font></div><div><font size="2"   >&nbsp; &nbsp;Output: count(*)</font></div><div><font size="2"   >&nbsp; &nbsp;Buffers: temp read=1710 written=1709</font></div><div><font size="2"   >&nbsp; &nbsp;-&gt; &nbsp;Function Scan on pg_catalog.generate_series &nbsp;(cost=0.00..10.00 rows=1000 width=0) (actual time=224.212..449.395 rows=1000000&nbsp;</font></div><div><font size="2"   >loops=1)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Output: generate_series</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Function Call: generate_series(1, 1000000)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Buffers: temp read=1710 written=1709</font></div><div><font size="2"   >&nbsp;Total runtime: 607.463 ms</font></div><div><font size="2"   >(8 rows)</font></div><p></p></pre></div><div>数据库explain输出中可以看到, 此SQL包含临时文件的读写各1709, 1710次.</div><div>stap输出如下, 请求次数与explain的输出吻合 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >query: explain (analyze,verbose,costs,buffers,timing) select count(*) from generate_series(1,1000000);</font></div><div><font size="2"   >RIO requests: 1709</font></div><div><font size="2"   >RIO request Kbytes: 13671</font></div><div><font size="2"   >WIO requests: 1709</font></div><div><font size="2"   >WIO request Kbytes: 13671</font></div><div><font size="2"   >RIO requests/s: 131259</font></div><div><font size="2"   >RIO request Kbytes/s: 1050000</font></div><div><font size="2"   >WIO requests/s: 64233</font></div><div><font size="2"   >WIO request Kbytes/s: 513831</font></div><p></p></pre></div></div><div>其他SQL的跟踪举例 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=# create table t(id int, info text, crt_time timestamp)</font></div><div><font size="2"   >digoal-# ;</font></div><div><font size="2"   >CREATE TABLE</font></div><div><font size="2"   >digoal=# insert into t select generate_series(1,1000000),md5(random()::text),clock_timestamp();</font></div><div><font size="2"   >INSERT 0 1000000</font></div><div><font size="2"   >digoal=# explain (analyze,verbose,costs,buffers,timing) select count(*) from t;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; QUERY PLAN &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >--------------------------------------------------------------------------------------------------------------------------</font></div><div><font size="2"   >&nbsp;Aggregate &nbsp;(cost=22196.75..22196.76 rows=1 width=0) (actual time=357.822..357.823 rows=1 loops=1)</font></div><div><font size="2"   >&nbsp; &nbsp;Output: count(*)</font></div><div><font size="2"   >&nbsp; &nbsp;Buffers: shared hit=9346</font></div><div><font size="2"   >&nbsp; &nbsp;-&gt; &nbsp;Seq Scan on public.t &nbsp;(cost=0.00..19626.60 rows=1028060 width=0) (actual time=0.019..212.063 rows=1000000 loops=1)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Output: id, info, crt_time</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Buffers: shared hit=9346</font></div><div><font size="2"   >&nbsp;Total runtime: 357.868 ms</font></div><div><font size="2"   >(7 rows)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >digoal=# create index idx_t_1 on t(id);</font></div><div><font size="2"   >CREATE INDEX</font></div><div><font size="2"   >digoal=# \di+ idx_t_1&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;List of relations</font></div><div><font size="2"   >&nbsp;Schema | &nbsp;Name &nbsp; | Type &nbsp;| &nbsp;Owner &nbsp; | Table | Size &nbsp;| Description&nbsp;</font></div><div><font size="2"   >--------+---------+-------+----------+-------+-------+-------------</font></div><div><font size="2"   >&nbsp;public | idx_t_1 | index | postgres | t &nbsp; &nbsp; | 21 MB |&nbsp;</font></div><div><font size="2"   >(1 row)</font></div><p></p></pre></div><div>stap输出结果 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >query: create table t(id int, info text, crt_time timestamp)</font></div><div><font size="2"   >;</font></div><div><font size="2"   >RIO requests: 1</font></div><div><font size="2"   >RIO request Kbytes: 8</font></div><div><font size="2"   >WIO requests: 2</font></div><div><font size="2"   >WIO request Kbytes: 16</font></div><div><font size="2"   >RIO requests/s: 50000</font></div><div><font size="2"   >RIO request Kbytes/s: 400000</font></div><div><font size="2"   >WIO requests/s: 30769</font></div><div><font size="2"   >WIO request Kbytes/s: 246153</font></div></div><div><div><font size="2"   >query: insert into t select generate_series(1,1000000),md5(random()::text),clock_timestamp();</font></div><div><font size="2"   >RIO requests: 4</font></div><div><font size="2"   >RIO request Kbytes: 32</font></div><div><font size="2"   >WIO requests: 9351</font></div><div><font size="2"   >WIO request Kbytes: 74808</font></div><div><font size="2"   >RIO requests/s: 80000</font></div><div><font size="2"   >RIO request Kbytes/s: 640000</font></div><div><font size="2"   >WIO requests/s: 43972</font></div><div><font size="2"   >WIO request Kbytes/s: 351781</font></div><div><font size="2"   >query: explain (analyze,verbose,costs,buffers,timing) select count(*) from t;</font></div><div><font size="2"   >RIO requests: 0</font></div><div><font size="2"   >RIO request Kbytes: 0</font></div><div><font size="2"   >WIO requests: 0</font></div><div><font size="2"   >WIO request Kbytes: 0</font></div><div><font size="2"   >RIO requests/s: 0</font></div><div><font size="2"   >RIO request Kbytes/s: 0</font></div><div><font size="2"   >WIO requests/s: 0</font></div><div><font size="2"   >WIO request Kbytes/s: 0</font></div><div><font size="2"   >query: create index idx_t_1 on t(id);</font></div><div><font size="2"   >RIO requests: 0</font></div><div><font size="2"   >RIO request Kbytes: 0</font></div><div><font size="2"   >WIO requests: 2757</font></div><div><font size="2"   >WIO request Kbytes: 22056</font></div><div><font size="2"   >RIO requests/s: 0</font></div><div><font size="2"   >RIO request Kbytes/s: 0</font></div><div><font size="2"   >WIO requests/s: 57136</font></div><div><font size="2"   >WIO request Kbytes/s: 457090</font></div><div><font size="2"   >query: SELECT pg_catalog.quote_ident(c.relname) FROM pg_catalog.pg_class c WHERE c.relkind IN ('i') AND substring(pg_catalog.quote_ident(c.relname),1,1)='i' AND pg_catalog.pg_table_is_visible(c.oid) AND c.relnamespace &lt;&gt; (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = 'pg_catalog')</font></div><div><font size="2"   >UNION</font></div><div><font size="2"   >SELECT pg_catalog.quote_ident(n.nspname) || '.' FROM pg_catalog.pg_namespace n WHERE substring(pg_catalog.quote_ident(n.nspname) || '.',1,1)='i' AND (SELECT pg_catalog.count(*) FROM pg_catalog.pg_namespace WHERE substrin</font></div><div><font size="2"   >RIO requests: 0</font></div><div><font size="2"   >RIO request Kbytes: 0</font></div><div><font size="2"   >WIO requests: 0</font></div><div><font size="2"   >WIO request Kbytes: 0</font></div><div><font size="2"   >RIO requests/s: 0</font></div><div><font size="2"   >RIO request Kbytes/s: 0</font></div><div><font size="2"   >WIO requests/s: 0</font></div><div><font size="2"   >WIO request Kbytes/s: 0</font></div><div><font size="2"   >query: SELECT n.nspname as "Schema",</font></div><div><font size="2"   >&nbsp; c.relname as "Name",</font></div><div><font size="2"   >&nbsp; CASE c.relkind WHEN 'r' THEN 'table' WHEN 'v' THEN 'view' WHEN 'm' THEN 'materialized view' WHEN 'i' THEN 'index' WHEN 'S' THEN 'sequence' WHEN 's' THEN 'special' WHEN 'f' THEN 'foreign table' END as "Type",</font></div><div><font size="2"   >&nbsp; pg_catalog.pg_get_userbyid(c.relowner) as "Owner",</font></div><div><font size="2"   >&nbsp;c2.relname as "Table",</font></div><div><font size="2"   >&nbsp; pg_catalog.pg_size_pretty(pg_catalog.pg_table_size(c.oid)) as "Size",</font></div><div><font size="2"   >&nbsp; pg_catalog.obj_description(c.oid, 'pg_class') as "Description"</font></div><div><font size="2"   >FROM pg_catalog.pg_class c</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;LE</font></div><div><font size="2"   >RIO requests: 5</font></div><div><font size="2"   >RIO request Kbytes: 40</font></div><div><font size="2"   >WIO requests: 0</font></div><div><font size="2"   >WIO request Kbytes: 0</font></div><div><font size="2"   >RIO requests/s: 70422</font></div><div><font size="2"   >RIO request Kbytes/s: 563380</font></div><div><font size="2"   >WIO requests/s: 0</font></div><div><font size="2"   >WIO request Kbytes/s: 0</font></div></div><p></p></pre></div><div>ctrl结束stap, 将输出所有postgres相关读写统计.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >^C----------END----------</font></div><div><font size="2"   >22116---postgres---500---22111---W</font></div><div><font size="2"   >WIO requests: 599</font></div><div><font size="2"   >WIO request Kbytes: 131936</font></div><div><font size="2"   >WIO requests/s: 6108</font></div><div><font size="2"   >WIO request Kbytes/s: 1345448</font></div><div><font size="2"   >22118---postgres---500---22111---W</font></div><div><font size="2"   >WIO requests: 70</font></div><div><font size="2"   >WIO request Kbytes: 164</font></div><div><font size="2"   >WIO requests/s: 23071</font></div><div><font size="2"   >WIO request Kbytes/s: 54054</font></div><div><font size="2"   >22114---postgres---500---22111---W</font></div><div><font size="2"   >WIO requests: 8338</font></div><div><font size="2"   >WIO request Kbytes: 66704</font></div><div><font size="2"   >WIO requests/s: 65095</font></div><div><font size="2"   >WIO request Kbytes/s: 520762</font></div><div><font size="2"   >21758---postgres---500---22111---W</font></div><div><font size="2"   >WIO requests: 13819</font></div><div><font size="2"   >WIO request Kbytes: 110551</font></div><div><font size="2"   >WIO requests/s: 47110</font></div><div><font size="2"   >WIO request Kbytes/s: 376880</font></div><div><font size="2"   >21758---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 1731</font></div><div><font size="2"   >RIO request Kbytes: 13847</font></div><div><font size="2"   >RIO requests/s: 123687</font></div><div><font size="2"   >RIO request Kbytes/s: 989424</font></div><div><font size="2"   >22112---postgres---500---22111---W</font></div><div><font size="2"   >WIO requests: 3</font></div><div><font size="2"   >WIO request Kbytes: 0</font></div><div><font size="2"   >WIO requests/s: 29126</font></div><div><font size="2"   >WIO request Kbytes/s: 0</font></div><div><font size="2"   >22998---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 43</font></div><div><font size="2"   >RIO request Kbytes: 141</font></div><div><font size="2"   >RIO requests/s: 133540</font></div><div><font size="2"   >RIO request Kbytes/s: 437888</font></div><div><font size="2"   >23026---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 50</font></div><div><font size="2"   >RIO request Kbytes: 156</font></div><div><font size="2"   >RIO requests/s: 126903</font></div><div><font size="2"   >RIO request Kbytes/s: 395939</font></div><div><font size="2"   >22989---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 43</font></div><div><font size="2"   >RIO request Kbytes: 141</font></div><div><font size="2"   >RIO requests/s: 135646</font></div><div><font size="2"   >RIO request Kbytes/s: 444794</font></div><div><font size="2"   >23026---postgres---500---22111---W</font></div><div><font size="2"   >WIO requests: 1</font></div><div><font size="2"   >WIO request Kbytes: 8</font></div><div><font size="2"   >WIO requests/s: 13888</font></div><div><font size="2"   >WIO request Kbytes/s: 111111</font></div><div><font size="2"   >23028---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 43</font></div><div><font size="2"   >RIO request Kbytes: 141</font></div><div><font size="2"   >RIO requests/s: 133540</font></div><div><font size="2"   >RIO request Kbytes/s: 437888</font></div><div><font size="2"   >22992---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 43</font></div><div><font size="2"   >RIO request Kbytes: 141</font></div><div><font size="2"   >RIO requests/s: 135646</font></div><div><font size="2"   >RIO request Kbytes/s: 444794</font></div><div><font size="2"   >23030---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 43</font></div><div><font size="2"   >RIO request Kbytes: 141</font></div><div><font size="2"   >RIO requests/s: 133540</font></div><div><font size="2"   >RIO request Kbytes/s: 437888</font></div><div><font size="2"   >22986---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 43</font></div><div><font size="2"   >RIO request Kbytes: 141</font></div><div><font size="2"   >RIO requests/s: 132716</font></div><div><font size="2"   >RIO request Kbytes/s: 435185</font></div><div><font size="2"   >22994---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 43</font></div><div><font size="2"   >RIO request Kbytes: 141</font></div><div><font size="2"   >RIO requests/s: 132307</font></div><div><font size="2"   >RIO request Kbytes/s: 433846</font></div><div><font size="2"   >23020---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 43</font></div><div><font size="2"   >RIO request Kbytes: 141</font></div><div><font size="2"   >RIO requests/s: 131097</font></div><div><font size="2"   >RIO request Kbytes/s: 429878</font></div><div><font size="2"   >23023---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 43</font></div><div><font size="2"   >RIO request Kbytes: 141</font></div><div><font size="2"   >RIO requests/s: 133540</font></div><div><font size="2"   >RIO request Kbytes/s: 437888</font></div><div><font size="2"   >22983---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 43</font></div><div><font size="2"   >RIO request Kbytes: 141</font></div><div><font size="2"   >RIO requests/s: 130699</font></div><div><font size="2"   >RIO request Kbytes/s: 428571</font></div><div><font size="2"   >22117---postgres---500---22111---R</font></div><div><font size="2"   >RIO requests: 33</font></div><div><font size="2"   >RIO request Kbytes: 15</font></div><div><font size="2"   >RIO requests/s: 58303</font></div><div><font size="2"   >RIO request Kbytes/s: 26501</font></div><p></p></pre></div><div><br></div><div>[参考]</div><div>1.&nbsp;<a style="line-height: 28px;" href="http://blog.163.com/digoal@126/blog/static/163877040201062810748700/"   >http://blog.163.com/digoal@126/blog/static/163877040201062810748700/</a></div><div>2.&nbsp;<a style="line-height: 28px;" href="http://blog.163.com/digoal@126/blog/static/163877040201391234023230/"   >http://blog.163.com/digoal@126/blog/static/163877040201391234023230/</a></div><div>3.&nbsp;<a style="line-height: 28px;" href="http://blog.163.com/digoal@126/blog/static/163877040201391391613269/"   >http://blog.163.com/digoal@126/blog/static/163877040201391391613269/</a></div><div>4.&nbsp;<a style="line-height: 28px;" href="http://blog.163.com/digoal@126/blog/static/16387704020139152191581/"   >http://blog.163.com/digoal@126/blog/static/16387704020139152191581/</a></div><wbr></div>
	</div>
</div>
</body>
</html>
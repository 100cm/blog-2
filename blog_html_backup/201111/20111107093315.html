<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">【转】使用ext3grep恢复ext3文件系统中误删除文件(使用rm命令误删的）</h2>
	<h5 id="">2011-11-07 9:33:15&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201110793315340/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><font color="#666666"  face="Verdana, Arial, Helvetica, sans-serif"  ><span style="font-size: 12px; line-height: 25px;"  >【原文】</span></font><div><a rel="nofollow" href="http://www.linux521.com/2009/system/201004/10861.html"  >http://www.linux521.com/2009/system/201004/10861.html</a></div><div><br></div><div><br><div>测试环境：rhel5.2 x86平台</div><div><br></div><div>需要安装的软件为：ext3grep</div><div>http://code.google.com/p/ext3grep/</div><div><br></div><div>1:下载 wget http://ext3grep.googlecode.com/files/ext3grep-0.10.1.tar.gz</div><div>2： 安装 ext3grep</div><div><br></div><div>tar zxvf ext3grep-0.10.1.tar.gz</div><div><br></div><div>cd cd ext3grep-0.10.1</div><div><br></div><div>./configure （如果这里出错,请安装 e2fsprogs-devel-1.39-15.el5.i386.rpm)</div><div><br></div><div>./make install</div><div><br></div><div>3:使用方法：</div><div><br></div><div>卸载分区（就是误删数据的分区）,比如 为 /dev/sda3</div><div><br></div><div>执行下面命令：</div><div><br></div><div>ext3grep /dev/sda3 --ls --inode 2</div><div><br></div><div>然后就可以看到被误删的文件列表.如果是系统分区,比如是/分区的话,要用修复光盘引导来恢复的.</div><div><br></div><div>恢复方法为</div><div><br></div><div>ext3grep /dev/sda3--restore-file aaa （比如要恢复 文件aaa)</div><div><br></div><div>如果要恢复所有文件,用 ext3grep /dev/sda3--restore-all</div><div><br></div><div>4:恢复的文件,会保存在,RESTORED_FILES目录</div><div><br></div><div>嘿嘿,既然文件可以这样的被恢复,那么如果我们要永久删除一个文件的话,可以用使用超级文件粉碎机 shred来实现了..,</div><div><br></div><div>如果对整个分区做全面清空,也可以用badblocks来实现,</div><div><br></div><div>比如 shred -u aaa 那么这样一来aaa永远不可能 被恢复了.</div><div><br></div><div>shred详细介绍,参考 man shred</div><wbr></div></div>
	</div>
</div>
</body>
</html>
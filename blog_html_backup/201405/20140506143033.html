<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">PostgreSQL 9.4 New Feature - freeze by set HEAP_XMIN_COMMITTED | HEAP_XMIN_INVALID in t_infomask</h2>
	<h5 id="">2014-05-06 14:30:33&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201446215466/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>PostgreSQL 9.4 修改了freeze的代码, 以往的版本是通过修改行头部的xmin并置为FrozenXID(2)来实现vacuum freeze的.</div><div>也就是说, freeze后的行丢失了原来的版本信息.</div><div>例如 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=# create table test(id int);</font></div><div><font size="2"   >CREATE TABLE</font></div><div><font size="2"   >digoal=# insert into test values (1);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=# insert into test values (2);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=# insert into test values (3);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=# insert into test values (4);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=# select ctid,cmin,cmax,xmin,xmax,* from test;</font></div><div><font size="2"   >&nbsp;ctid &nbsp;| cmin | cmax | xmin | xmax | id&nbsp;</font></div><div><font size="2"   >-------+------+------+------+------+----</font></div><div><font size="2"   >&nbsp;(0,1) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | 1817 | &nbsp; &nbsp;0 | &nbsp;1</font></div><div><font size="2"   >&nbsp;(0,2) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | 1818 | &nbsp; &nbsp;0 | &nbsp;2</font></div><div><font size="2"   >&nbsp;(0,3) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | 1819 | &nbsp; &nbsp;0 | &nbsp;3</font></div><div><font size="2"   >&nbsp;(0,4) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | 1820 | &nbsp; &nbsp;0 | &nbsp;4</font></div><div><font size="2"   >(4 rows)</font></div><div><font size="2"   >digoal=# vacuum FREEZE test;</font></div><div><font size="2"   >VACUUM</font></div><div><font size="2"   >digoal=# select ctid,cmin,cmax,xmin,xmax,* from test;</font></div><div><font size="2"   >&nbsp;ctid &nbsp;| cmin | cmax | xmin | xmax | id&nbsp;</font></div><div><font size="2"   >-------+------+------+------+------+----</font></div><div><font size="2"   >&nbsp;(0,1) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | &nbsp; &nbsp;2 | &nbsp; &nbsp;0 | &nbsp;1</font></div><div><font size="2"   >&nbsp;(0,2) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | &nbsp; &nbsp;2 | &nbsp; &nbsp;0 | &nbsp;2</font></div><div><font size="2"   >&nbsp;(0,3) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | &nbsp; &nbsp;2 | &nbsp; &nbsp;0 | &nbsp;3</font></div><div><font size="2"   >&nbsp;(0,4) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | &nbsp; &nbsp;2 | &nbsp; &nbsp;0 | &nbsp;4</font></div><div><font size="2"   >(4 rows)</font></div><p></p></pre></div><div>freeze后, 版本xmin变成2了.</div><div>9.4通过两个比特位来表示freeze, 即t_infomask的HEAP_XMIN_COMMITTED | HEAP_XMIN_INVALID.</div><div>详细的提交信息如下 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >Change the way we mark tuples as frozen.</font></div><div><font size="2"   >author<span>	</span>Robert Haas &lt;rhaas@postgresql.org&gt;<span>	</span></font></div><div><font size="2"   >Sun, 22 Dec 2013 20:49:09 +0000 (15:49 -0500)</font></div><div><font size="2"   >committer<span>	</span>Robert Haas &lt;rhaas@postgresql.org&gt;<span>	</span></font></div><div><font size="2"   >Sun, 22 Dec 2013 20:49:09 +0000 (15:49 -0500)</font></div><div><font size="2"   >commit<span>	</span>37484ad2aacef5ec794f4dd3d5cf814475180a78</font></div><div><font size="2"   >tree<span>	</span>ad9ca294fdb229d6b24309d90b9ee4e0b9a31b0a<span>	</span>tree | snapshot</font></div><div><font size="2"   >parent<span>	</span>961bf59fb7a7e4fab751e20e9372de7ab37c5649<span>	</span>commit | diff</font></div><div><font size="2"   >Change the way we mark tuples as frozen.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >Instead of changing the tuple xmin to FrozenTransactionId, the combination</font></div><div><font size="2"   >of HEAP_XMIN_COMMITTED and HEAP_XMIN_INVALID, which were previously never</font></div><div><font size="2"   >set together, is now defined as HEAP_XMIN_FROZEN. &nbsp;A variety of previous</font></div><div><font size="2"   >proposals to freeze tuples opportunistically before vacuum_freeze_min_age</font></div><div><font size="2"   >is reached have foundered on the objection that replacing xmin by</font></div><div><font size="2"   >FrozenTransactionId might hinder debugging efforts when things in this</font></div><div><font size="2"   >area go awry; this patch is intended to solve that problem by keeping</font></div><div><font size="2"   >the XID around (but largely ignoring the value to which it is set).</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >Third-party code that checks for HEAP_XMIN_INVALID on tuples where</font></div><div><font size="2"   >HEAP_XMIN_COMMITTED might be set will be broken by this change. &nbsp;To fix,</font></div><div><font size="2"   >use the new accessor macros in htup_details.h rather than consulting the</font></div><div><font size="2"   >bits directly. &nbsp;HeapTupleHeaderGetXmin has been modified to return</font></div><div><font size="2"   >FrozenTransactionId when the infomask bits indicate that the tuple is</font></div><div><font size="2"   >frozen; use HeapTupleHeaderGetRawXmin when you already know that the</font></div><div><font size="2"   >tuple isn't marked commited or frozen, or want the raw value anyway.</font></div><div><font size="2"   >We currently do this in routines that display the xmin for user consumption,</font></div><div><font size="2"   >in tqual.c where it's known to be safe and important for the avoidance of</font></div><div><font size="2"   >extra cycles, and in the function-caching code for various procedural</font></div><div><font size="2"   >languages, which shouldn't invalidate the cache just because the tuple</font></div><div><font size="2"   >gets frozen.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >Robert Haas and Andres Freund</font></div><p></p></pre></div><div>测试 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=# create table test(id int);</font></div><div><font size="2"   >CREATE TABLE</font></div><div><font size="2"   >digoal=# insert into test values (1);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=# insert into test values (2);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=# insert into test values (3);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=# insert into test values (4);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=# select ctid,cmin,cmax,xmin,xmax,* from test;</font></div><div><font size="2"   >&nbsp;ctid &nbsp;| cmin | cmax | &nbsp;xmin &nbsp; | xmax | id&nbsp;</font></div><div><font size="2"   >-------+------+------+---------+------+----</font></div><div><font size="2"   >&nbsp;(0,1) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | 8609332 | &nbsp; &nbsp;0 | &nbsp;1</font></div><div><font size="2"   >&nbsp;(0,2) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | 8609333 | &nbsp; &nbsp;0 | &nbsp;2</font></div><div><font size="2"   >&nbsp;(0,3) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | 8609334 | &nbsp; &nbsp;0 | &nbsp;3</font></div><div><font size="2"   >&nbsp;(0,4) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | 8609335 | &nbsp; &nbsp;0 | &nbsp;4</font></div><div><font size="2"   >(4 rows)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >digoal=# vacuum FREEZE test;</font></div><div><font size="2"   >VACUUM</font></div><div><font size="2"   >digoal=# select ctid,cmin,cmax,xmin,xmax,* from test;</font></div><div><font size="2"   >&nbsp;ctid &nbsp;| cmin | cmax | &nbsp;xmin &nbsp; | xmax | id&nbsp;</font></div><div><font size="2"   >-------+------+------+---------+------+----</font></div><div><font size="2"   >&nbsp;(0,1) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | 8609332 | &nbsp; &nbsp;0 | &nbsp;1</font></div><div><font size="2"   >&nbsp;(0,2) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | 8609333 | &nbsp; &nbsp;0 | &nbsp;2</font></div><div><font size="2"   >&nbsp;(0,3) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | 8609334 | &nbsp; &nbsp;0 | &nbsp;3</font></div><div><font size="2"   >&nbsp;(0,4) | &nbsp; &nbsp;0 | &nbsp; &nbsp;0 | 8609335 | &nbsp; &nbsp;0 | &nbsp;4</font></div><div><font size="2"   >(4 rows)</font></div><p></p></pre></div><div>显然9.4没有直接修改xmin, 依旧保留了行版本信息.</div><div>从t_infomask可以得到9.4定义了以下3个比特位, 其中<span style="line-height: 28px;"   >HEAP_XMIN_COMMITTED|HEAP_XMIN_INVALID同时被定义说明是frozen的行.</span></div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >#define HEAP_XMIN_COMMITTED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x0100 &nbsp;/* t_xmin committed */</font></div><div><font size="2"   >#define HEAP_XMIN_INVALID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x0200 &nbsp;/* t_xmin invalid/aborted */</font></div><div><font size="2"   >#define HEAP_XMIN_FROZEN &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(HEAP_XMIN_COMMITTED|HEAP_XMIN_INVALID)</font></div><div><span style="line-height: 28px;"   ><font size="2"   >#define HEAP_XMAX_INVALID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x0800 &nbsp;/* t_xmax invalid/aborted */</font></span></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >digoal=# select * from heap_page_items(get_raw_page('test',0));</font></div><div><font size="2"   >&nbsp;lp | lp_off | lp_flags | lp_len | t_xmin &nbsp;| t_xmax | t_field3 | t_ctid | t_infomask2 | t_infomask | t_hoff | t_bits | t_oid&nbsp;</font></div><div><font size="2"   >----+--------+----------+--------+---------+--------+----------+--------+-------------+------------+--------+--------+-------</font></div><div><font size="2"   >&nbsp; 1 | &nbsp; 8160 | &nbsp; &nbsp; &nbsp; &nbsp;1 | &nbsp; &nbsp; 28 | 8609332 | &nbsp; &nbsp; &nbsp;0 | &nbsp; &nbsp; &nbsp; &nbsp;0 | (0,1) &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 2816 | &nbsp; &nbsp; 24 | &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; 2 | &nbsp; 8128 | &nbsp; &nbsp; &nbsp; &nbsp;1 | &nbsp; &nbsp; 28 | 8609333 | &nbsp; &nbsp; &nbsp;0 | &nbsp; &nbsp; &nbsp; &nbsp;0 | (0,2) &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 2816 | &nbsp; &nbsp; 24 | &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; 3 | &nbsp; 8096 | &nbsp; &nbsp; &nbsp; &nbsp;1 | &nbsp; &nbsp; 28 | 8609334 | &nbsp; &nbsp; &nbsp;0 | &nbsp; &nbsp; &nbsp; &nbsp;0 | (0,3) &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 2816 | &nbsp; &nbsp; 24 | &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; 4 | &nbsp; 8064 | &nbsp; &nbsp; &nbsp; &nbsp;1 | &nbsp; &nbsp; 28 | 8609335 | &nbsp; &nbsp; &nbsp;0 | &nbsp; &nbsp; &nbsp; &nbsp;0 | (0,4) &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 2816 | &nbsp; &nbsp; 24 | &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >(4 rows)</font></div></div><p></p></pre></div><div><br></div><div>同时9.4还对vacuum full和cluster做出了改进, 在使用vacuum full和cluste重组表时, 直接填充行的FROZEN比特位, 这样的话这个表不需要后续的freeze, 同时对pg_class中对应表的年龄也做出了同步的修改.</div><div>这是个不小的改进, 节约了大量的freeze带来的读写IO.</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >digoal=# truncate test;</font></div><div><font size="2"   >TRUNCATE TABLE</font></div><div><font size="2"   >digoal=# insert into test values (1);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=# insert into test values (2);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=# insert into test values (3);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=# insert into test values (4);</font></div><div><font size="2"   >INSERT 0 1</font></div><div><font size="2"   >digoal=# select * from heap_page_items(get_raw_page('test',0));</font></div><div><font size="2"   >&nbsp;lp | lp_off | lp_flags | lp_len | t_xmin &nbsp;| t_xmax | t_field3 | t_ctid | t_infomask2 | t_infomask | t_hoff | t_bits | t_oid&nbsp;</font></div><div><font size="2"   >----+--------+----------+--------+---------+--------+----------+--------+-------------+------------+--------+--------+-------</font></div><div><font size="2"   >&nbsp; 1 | &nbsp; 8160 | &nbsp; &nbsp; &nbsp; &nbsp;1 | &nbsp; &nbsp; 28 | 8609338 | &nbsp; &nbsp; &nbsp;0 | &nbsp; &nbsp; &nbsp; &nbsp;0 | (0,1) &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 2048 | &nbsp; &nbsp; 24 | &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; 2 | &nbsp; 8128 | &nbsp; &nbsp; &nbsp; &nbsp;1 | &nbsp; &nbsp; 28 | 8609339 | &nbsp; &nbsp; &nbsp;0 | &nbsp; &nbsp; &nbsp; &nbsp;0 | (0,2) &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 2048 | &nbsp; &nbsp; 24 | &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; 3 | &nbsp; 8096 | &nbsp; &nbsp; &nbsp; &nbsp;1 | &nbsp; &nbsp; 28 | 8609340 | &nbsp; &nbsp; &nbsp;0 | &nbsp; &nbsp; &nbsp; &nbsp;0 | (0,3) &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 2048 | &nbsp; &nbsp; 24 | &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; 4 | &nbsp; 8064 | &nbsp; &nbsp; &nbsp; &nbsp;1 | &nbsp; &nbsp; 28 | 8609341 | &nbsp; &nbsp; &nbsp;0 | &nbsp; &nbsp; &nbsp; &nbsp;0 | (0,4) &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 2048 | &nbsp; &nbsp; 24 | &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >(4 rows)</font></div><div><div><font size="2"   >digoal=# select age(relfrozenxid) from pg_class where relname='test';</font></div><div><font size="2"   >&nbsp;age&nbsp;</font></div><div><font size="2"   >-----</font></div><div><font size="2"   >&nbsp; &nbsp;5</font></div><div><font size="2"   >(1 row)</font></div></div><div><font size="2"   >digoal=# vacuum full test;</font></div><div><font size="2"   >VACUUM</font></div><div><font size="2"   >digoal=# select * from heap_page_items(get_raw_page('test',0));</font></div><div><font size="2"   >&nbsp;lp | lp_off | lp_flags | lp_len | t_xmin &nbsp;| t_xmax | t_field3 | t_ctid | t_infomask2 | t_infomask | t_hoff | t_bits | t_oid&nbsp;</font></div><div><font size="2"   >----+--------+----------+--------+---------+--------+----------+--------+-------------+------------+--------+--------+-------</font></div><div><font size="2"   >&nbsp; 1 | &nbsp; 8160 | &nbsp; &nbsp; &nbsp; &nbsp;1 | &nbsp; &nbsp; 28 | 8609338 | &nbsp; &nbsp; &nbsp;0 | &nbsp; &nbsp; &nbsp; &nbsp;0 | (0,1) &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 2816 | &nbsp; &nbsp; 24 | &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; 2 | &nbsp; 8128 | &nbsp; &nbsp; &nbsp; &nbsp;1 | &nbsp; &nbsp; 28 | 8609339 | &nbsp; &nbsp; &nbsp;0 | &nbsp; &nbsp; &nbsp; &nbsp;0 | (0,2) &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 2816 | &nbsp; &nbsp; 24 | &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; 3 | &nbsp; 8096 | &nbsp; &nbsp; &nbsp; &nbsp;1 | &nbsp; &nbsp; 28 | 8609340 | &nbsp; &nbsp; &nbsp;0 | &nbsp; &nbsp; &nbsp; &nbsp;0 | (0,3) &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 2816 | &nbsp; &nbsp; 24 | &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; 4 | &nbsp; 8064 | &nbsp; &nbsp; &nbsp; &nbsp;1 | &nbsp; &nbsp; 28 | 8609341 | &nbsp; &nbsp; &nbsp;0 | &nbsp; &nbsp; &nbsp; &nbsp;0 | (0,4) &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 2816 | &nbsp; &nbsp; 24 | &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >(4 rows)</font></div></div><div><div><font size="2"   >digoal=# select age(relfrozenxid) from pg_class where relname='test';</font></div><div><font size="2"   >&nbsp;age&nbsp;</font></div><div><font size="2"   >-----</font></div><div><font size="2"   >&nbsp; &nbsp;1</font></div><div><font size="2"   >(1 row)</font></div></div><p></p></pre></div><div><br></div>[参考]<wbr><div>1.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=37484ad2aacef5ec794f4dd3d5cf814475180a78"   >http://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=37484ad2aacef5ec794f4dd3d5cf814475180a78</a></div><div>2.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=3cff1879f8d03cb729368722ca823a4bf74c0cac"   >http://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=3cff1879f8d03cb729368722ca823a4bf74c0cac</a></div><div>3.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=af2543e884db06c0beb75010218cd88680203b86"   >http://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=af2543e884db06c0beb75010218cd88680203b86</a></div><div>4.&nbsp;src/include/access/htup_details.h</div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="PostgreSQL 9.4 New Feature - freeze by set HEAP_XMIN_COMMITTED | HEAP_XMIN_INVALID in t_infomask - 德哥@Digoal - PostgreSQL"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">Dockerfile RUN, CMD & ENTRYPOINT</h2>
	<h5 id="">2014-11-04 11:12:03&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201410411715832/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>在使用Dockerfile创建image时, 有几条指令比较容易混淆, RUN, CMD, ENTRYPOINT.</div><div>RUN是在building image时会运行的指令, 在Dockerfile中可以写多条RUN指令.</div><div>CMD和ENTRYPOINT则是在运行container 时会运行的指令, 都只能写一条, 如果写了多条, 则最后一条生效.</div><div>CMD和ENTRYPOINT的区别是:&nbsp;</div><div>CMD在运行时会被command覆盖, ENTRYPOINT不会被运行时的command覆盖, 但是也可以指定.</div><div>例如 :&nbsp;</div><div><div>Usage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</div></div><div>&nbsp; --entrypoint="" &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Overwrite the default entrypoint of the image</div><div><br></div><div>docker run postgres:9.3.5 psql&nbsp;</div><div>这里的psql就是command, 将覆盖Dockerfile的CMD, 但是不会覆盖ENTRYPOINT.</div><div>如果要覆盖ENTRYPOINT, 那么可以在docker run运行时输入<span style="line-height: 28px;"   >&nbsp;</span><span style="line-height: 28px;"   >--entrypoint="....".</span></div><div><span style="line-height: 28px;"   ><br></span></div><div><span style="line-height: 28px;"   >CMD和ENTRYPOINT一般用于制作具备后台服务的image, 例如apache, database等. 在使用这种image启动container时, 自动启动服务.</span></div><div><span style="line-height: 28px;"   ><br></span></div><div><span style="line-height: 28px;"   >这几条指令的详细用法 :&nbsp;</span></div><div><span style="color: rgb(57, 77, 84); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 21px; line-height: 1.7;"   >RUN</span></div><div><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >RUN has 2 forms:</p><ul style="padding-top: 10px; padding-bottom: 10px; padding-left: 20px; list-style: circle; color: rgb(57, 77, 84); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 23.7999992370605px; margin-top: 0px !important;"   ><li style="line-height: 1.7; padding-bottom: 5px;"   ><code style="padding: 0px 3px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border: 1px solid rgb(225, 225, 232); white-space: pre-line; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(247, 247, 249);"   >RUN &lt;command&gt;</code>&nbsp;(the command is run in a shell -&nbsp;<code style="padding: 0px 3px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border: 1px solid rgb(225, 225, 232); white-space: pre-line; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(247, 247, 249);"   >/bin/sh -c</code>&nbsp;-&nbsp;<em>shell</em>&nbsp;form)</li><li style="line-height: 1.7; padding-bottom: 5px;"   ><code style="padding: 0px 3px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border: 1px solid rgb(225, 225, 232); white-space: pre-line; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(247, 247, 249);"   >RUN ["executable", "param1", "param2"]</code>&nbsp;(<em>exec</em>&nbsp;form)</li></ul><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >The&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >RUN</code>&nbsp;instruction will execute any commands in a new layer on top of the current image and commit the results. The resulting committed image will be used for the next step in the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >Dockerfile</code>.</p><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >Layering&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >RUN</code>&nbsp;instructions and generating commits conforms to the core concepts of Docker where commits are cheap and containers can be created from any point in an image's history, much like source control.</p><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >The&nbsp;<em>exec</em>&nbsp;form makes it possible to avoid shell string munging, and to&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >RUN</code>&nbsp;commands using a base image that does not contain&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >/bin/sh</code>.</p><blockquote style="padding: 10px 10px 10px 15px; border-left-width: 4px; border-style: none none none solid; border-left-color: rgb(173, 229, 249); font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-style: italic; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; margin-top: 20px !important; margin-bottom: 20px !important; margin-left: 0px !important;"   ><p style="margin-top: 0px; margin-bottom: 0px; line-height: 1.7;"   ><strong style="line-height: 1.7;"   >Note</strong>: To use a different shell, other than '/bin/sh', use the&nbsp;<em>exec</em>&nbsp;form passing in the desired shell. For example,&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >RUN ["/bin/bash", "-c", "echo hello"]</code></p><p style="margin-top: 0px; margin-bottom: 0px; line-height: 1.7;"   ><strong style="line-height: 1.7;"   >Note</strong>: The&nbsp;<em>exec</em>&nbsp;form is parsed as a JSON array, which means that you must use double-quotes (") around words not single-quotes (').</p><p style="margin-top: 0px; margin-bottom: 0px; line-height: 1.7;"   ><strong style="line-height: 1.7;"   >Note</strong>: Unlike the&nbsp;<em>shell</em>&nbsp;form, the&nbsp;<em>exec</em>&nbsp;form does not invoke a command shell. This means that normal shell processing does not happen. For example,&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD [ "echo", "$HOME" ]</code>&nbsp;will not do variable substitution on&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >$HOME</code>. If you want shell processing then either use the&nbsp;<em>shell</em>&nbsp;form or execute a shell directly, for example:&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD [ "sh", "-c", "echo", "$HOME" ]</code>.</p></blockquote><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >The cache for&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >RUN</code>&nbsp;instructions isn't invalidated automatically during the next build. The cache for an instruction like&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >RUN apt-get dist-upgrade -y</code>&nbsp;will be reused during the next build. The cache for&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >RUN</code>instructions can be invalidated by using the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >--no-cache</code>&nbsp;flag, for example&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >docker build --no-cache</code>.</p><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >See the&nbsp;<a style="color: rgb(36, 184, 235);" rel="nofollow" href="https://docs.docker.com/articles/dockerfile_best-practices/#build-cache"   ><code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(57, 77, 84); border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >Dockerfile</code>&nbsp;Best Practices guide</a>&nbsp;for more information.</p><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >The cache for&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >RUN</code>&nbsp;instructions can be invalidated by&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ADD</code>&nbsp;instructions. See&nbsp;<a style="color: rgb(36, 184, 235);" rel="nofollow" href="https://docs.docker.com/reference/builder/#add"   >below</a>&nbsp;for details.</p><h3 id="known-issues-run"   style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 400; line-height: 1.7; color: rgb(57, 77, 84); text-rendering: optimizelegibility; font-size: 18px; margin: 10px 0px 4px;"   >Known Issues (RUN)</h3><ul style="padding-top: 10px; padding-bottom: 10px; padding-left: 20px; list-style: circle; color: rgb(57, 77, 84); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 23.7999992370605px; margin-top: 0px !important;"   ><li style="line-height: 1.7; padding-bottom: 5px;"   ><a style="color: rgb(36, 184, 235); text-decoration: none !important;" rel="nofollow" href="https://github.com/docker/docker/issues/783"   >Issue 783</a>&nbsp;is about file permissions problems that can occur when using the AUFS file system. You might notice it during an attempt to&nbsp;<code style="padding: 0px 3px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border: 1px solid rgb(225, 225, 232); white-space: pre-line; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(247, 247, 249);"   >rm</code>&nbsp;a file, for example. The issue describes a workaround.</li></ul></div><div><br></div><div><h2 id="cmd"   style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 400; line-height: 1.7; color: rgb(57, 77, 84); text-rendering: optimizelegibility; font-size: 21px; margin: 10px 0px 4px;"   >CMD</h2><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >The&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>&nbsp;instruction has three forms:</p><ul style="padding-top: 10px; padding-bottom: 10px; padding-left: 20px; list-style: circle; color: rgb(57, 77, 84); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 23.7999992370605px; margin-top: 0px !important;"   ><li style="line-height: 1.7; padding-bottom: 5px;"   ><code style="padding: 0px 3px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border: 1px solid rgb(225, 225, 232); white-space: pre-line; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(247, 247, 249);"   >CMD ["executable","param1","param2"]</code>&nbsp;(<em>exec</em>&nbsp;form, this is the preferred form)</li><li style="line-height: 1.7; padding-bottom: 5px;"   ><code style="padding: 0px 3px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border: 1px solid rgb(225, 225, 232); white-space: pre-line; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(247, 247, 249);"   >CMD ["param1","param2"]</code>&nbsp;(as&nbsp;<em>default parameters to ENTRYPOINT</em>)</li><li style="line-height: 1.7; padding-bottom: 5px;"   ><code style="padding: 0px 3px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border: 1px solid rgb(225, 225, 232); white-space: pre-line; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(247, 247, 249);"   >CMD command param1 param2</code>&nbsp;(<em>shell</em>&nbsp;form)</li></ul><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >There can only be one&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>&nbsp;instruction in a&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >Dockerfile</code>. If you list more than one&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>&nbsp;then only the last<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>&nbsp;will take effect.</p><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   ><strong style="line-height: 1.7;"   >The main purpose of a&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>&nbsp;is to provide defaults for an executing container.</strong>&nbsp;These defaults can include an executable, or they can omit the executable, in which case you must specify an&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>instruction as well.</p><blockquote style="padding: 10px 10px 10px 15px; border-left-width: 4px; border-style: none none none solid; border-left-color: rgb(173, 229, 249); font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-style: italic; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; margin-top: 20px !important; margin-bottom: 20px !important; margin-left: 0px !important;"   ><p style="margin-top: 0px; margin-bottom: 0px; line-height: 1.7;"   ><strong style="line-height: 1.7;"   >Note</strong>: If&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>&nbsp;is used to provide default arguments for the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>&nbsp;instruction, both the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>&nbsp;and<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>&nbsp;instructions should be specified with the JSON array format.</p><p style="margin-top: 0px; margin-bottom: 0px; line-height: 1.7;"   ><strong style="line-height: 1.7;"   >Note</strong>: The&nbsp;<em>exec</em>&nbsp;form is parsed as a JSON array, which means that you must use double-quotes (") around words not single-quotes (').</p><p style="margin-top: 0px; margin-bottom: 0px; line-height: 1.7;"   ><strong style="line-height: 1.7;"   >Note</strong>: Unlike the&nbsp;<em>shell</em>&nbsp;form, the&nbsp;<em>exec</em>&nbsp;form does not invoke a command shell. This means that normal shell processing does not happen. For example,&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD [ "echo", "$HOME" ]</code>&nbsp;will not do variable substitution on&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >$HOME</code>. If you want shell processing then either use the&nbsp;<em>shell</em>&nbsp;form or execute a shell directly, for example:&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD [ "sh", "-c", "echo", "$HOME" ]</code>.</p></blockquote><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >When used in the shell or exec formats, the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>&nbsp;instruction sets the command to be executed when running the image.</p><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >If you use the&nbsp;<em>shell</em>&nbsp;form of the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>, then the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >&lt;command&gt;</code>&nbsp;will execute in&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >/bin/sh -c</code>:</p><pre style="padding: 8px; font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 12px; color: rgb(51, 51, 51); line-height: 1.5; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgb(227, 227, 227); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 20px; min-height: 20px; overflow-x: auto; background-color: rgb(252, 252, 252);"   ><code style="padding: 0px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: inherit; border: 0px; white-space: pre; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; overflow-wrap: normal; background-color: transparent;"   ><span style="color: rgb(72, 72, 76);"   >FROM ubuntu
CMD echo </span><span style="color: rgb(72, 72, 76);"   >"This is a test."</span><span style="color: rgb(72, 72, 76);"   > </span><span style="color: rgb(147, 161, 161);"   >|</span><span style="color: rgb(72, 72, 76);"   > wc </span><span style="color: rgb(147, 161, 161);"   >-</span></code></pre><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >If you want to&nbsp;<strong style="line-height: 1.7;"   >run your</strong>&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >&lt;command&gt;</code>&nbsp;<strong style="line-height: 1.7;"   >without a shell</strong>&nbsp;then you must express the command as a JSON array and give the full path to the executable.&nbsp;<strong style="line-height: 1.7;"   >This array form is the preferred format of&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>.</strong>&nbsp;Any additional parameters must be individually expressed as strings in the array:</p><pre style="padding: 8px; font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 12px; color: rgb(51, 51, 51); line-height: 1.5; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgb(227, 227, 227); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 20px; min-height: 20px; overflow-x: auto; background-color: rgb(252, 252, 252);"   ><code style="padding: 0px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: inherit; border: 0px; white-space: pre; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; overflow-wrap: normal; background-color: transparent;"   ><span style="color: rgb(72, 72, 76);"   >FROM ubuntu
CMD </span><span style="color: rgb(147, 161, 161);"   >[</span><span style="color: rgb(72, 72, 76);"   >"/usr/bin/wc"</span><span style="color: rgb(147, 161, 161);"   >,</span><span style="color: rgb(72, 72, 76);"   >"--help"</span><span style="color: rgb(147, 161, 161);"   >]</span></code></pre><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >If you would like your container to run the same executable every time, then you should consider using<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>&nbsp;in combination with&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>. See&nbsp;<a style="color: rgb(36, 184, 235);" rel="nofollow" href="https://docs.docker.com/reference/builder/#entrypoint"   ><em>ENTRYPOINT</em></a>.</p><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >If the user specifies arguments to&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >docker run</code>&nbsp;then they will override the default specified in&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>.</p><blockquote style="padding: 10px 10px 10px 15px; border-left-width: 4px; border-style: none none none solid; border-left-color: rgb(173, 229, 249); font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-style: italic; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; margin-top: 20px !important; margin-bottom: 20px !important; margin-left: 0px !important;"   ><p style="margin-top: 0px; margin-bottom: 0px; line-height: 1.7;"   ><strong style="line-height: 1.7;"   >Note</strong>: don't confuse&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >RUN</code>&nbsp;with&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>.&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >RUN</code>&nbsp;actually runs a command and commits the result;&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>does not execute anything at build time, but specifies the intended command for the image.</p></blockquote></div><div><br></div><div><br></div><div><h2 id="entrypoint"   style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 400; line-height: 1.7; color: rgb(57, 77, 84); text-rendering: optimizelegibility; font-size: 21px; margin: 10px 0px 4px;"   >ENTRYPOINT</h2><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >ENTRYPOINT has two forms:</p><ul style="padding-top: 10px; padding-bottom: 10px; padding-left: 20px; list-style: circle; color: rgb(57, 77, 84); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 23.7999992370605px; margin-top: 0px !important;"   ><li style="line-height: 1.7; padding-bottom: 5px;"   ><code style="padding: 0px 3px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border: 1px solid rgb(225, 225, 232); white-space: pre-line; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(247, 247, 249);"   >ENTRYPOINT ["executable", "param1", "param2"]</code>&nbsp;(<em>exec</em>&nbsp;form, the preferred form)</li><li style="line-height: 1.7; padding-bottom: 5px;"   ><code style="padding: 0px 3px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border: 1px solid rgb(225, 225, 232); white-space: pre-line; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgb(247, 247, 249);"   >ENTRYPOINT command param1 param2</code>&nbsp;(<em>shell</em>&nbsp;form)</li></ul><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >There can only be one&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>&nbsp;in a&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >Dockerfile</code>. If you have more than one&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>, then only the last one in the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >Dockerfile</code>&nbsp;will have an effect.</p><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >An&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>&nbsp;helps you to configure a container that you can run as an executable. That is, when you specify an&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>, then the whole container runs as if it was just that executable.</p><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >Unlike the behavior of the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>&nbsp;instruction, The&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>&nbsp;instruction adds an entry command that will<strong style="line-height: 1.7;"   >not</strong>&nbsp;be overwritten when arguments are passed to&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >docker run</code>. This allows arguments to be passed to the entry point, i.e.&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >docker run &lt;image&gt; -d</code>&nbsp;will pass the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >-d</code>&nbsp;argument to the entry point.</p><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >You can specify parameters either in the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>&nbsp;JSON array (as in "like an exec" above), or by using a&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>&nbsp;instruction. Parameters in the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>&nbsp;instruction will not be overridden by the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >docker run</code>arguments, but parameters specified via a&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>&nbsp;instruction will be overridden by&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >docker run</code>&nbsp;arguments.</p><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >Like a&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>, you can specify a plain string for the&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>&nbsp;and it will execute in&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >/bin/sh -c</code>:</p><pre style="padding: 8px; font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 12px; color: rgb(51, 51, 51); line-height: 1.5; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgb(227, 227, 227); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 20px; min-height: 20px; overflow-x: auto; background-color: rgb(252, 252, 252);"   ><code style="padding: 0px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: inherit; border: 0px; white-space: pre; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; overflow-wrap: normal; background-color: transparent;"   ><span style="color: rgb(72, 72, 76);"   >FROM ubuntu
ENTRYPOINT ls </span><span style="color: rgb(147, 161, 161);"   >-</span><span style="color: rgb(72, 72, 76);"   >l</span></code></pre><p style="margin-top: 0px; margin-bottom: 1em; font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"   >For example, that&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >Dockerfile</code>'s image will&nbsp;<em>always</em>&nbsp;take a directory as an input and return a directory listing. If you wanted to make this optional but default, you could use a&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD</code>&nbsp;instruction:</p><pre style="padding: 8px; font-family: Monaco, Consolas, 'Lucida Console', monospace; font-size: 12px; color: rgb(51, 51, 51); line-height: 1.5; word-break: break-all; word-wrap: break-word; white-space: pre-wrap; border-color: rgb(227, 227, 227); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 20px; min-height: 20px; overflow-x: auto; background-color: rgb(252, 252, 252);"   ><code style="padding: 0px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: inherit; border: 0px; white-space: pre; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; overflow-wrap: normal; background-color: transparent;"   ><span style="color: rgb(72, 72, 76);"   >FROM ubuntu
CMD </span><span style="color: rgb(147, 161, 161);"   >[</span><span style="color: rgb(72, 72, 76);"   >"-l"</span><span style="color: rgb(147, 161, 161);"   >]</span><span style="color: rgb(72, 72, 76);"   >
ENTRYPOINT </span><span style="color: rgb(147, 161, 161);"   >[</span><span style="color: rgb(72, 72, 76);"   >"ls"</span><span style="color: rgb(147, 161, 161);"   >]</span></code></pre><blockquote style="padding: 10px 10px 10px 15px; border-left-width: 4px; border-style: none none none solid; border-left-color: rgb(173, 229, 249); font-size: 14px; color: rgb(57, 77, 84); line-height: 23.7999992370605px; font-style: italic; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; margin-top: 20px !important; margin-bottom: 20px !important; margin-left: 0px !important;"   ><p style="margin-top: 0px; margin-bottom: 0px; line-height: 1.7;"   ><strong style="line-height: 1.7;"   >Note</strong>: The&nbsp;<em>exec</em>&nbsp;form is parsed as a JSON array, which means that you must use double-quotes (") around words not single-quotes (').</p><p style="margin-top: 0px; margin-bottom: 0px; line-height: 1.7;"   ><strong style="line-height: 1.7;"   >Note</strong>: Unlike the&nbsp;<em>shell</em>&nbsp;form, the&nbsp;<em>exec</em>&nbsp;form does not invoke a command shell. This means that normal shell processing does not happen. For example,&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD [ "echo", "$HOME" ]</code>&nbsp;will not do variable substitution on&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >$HOME</code>. If you want shell processing then either use the&nbsp;<em>shell</em>&nbsp;form or execute a shell directly, for example:&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >CMD [ "sh", "-c", "echo", "$HOME" ]</code>.</p><p style="margin-top: 0px; margin-bottom: 0px; line-height: 1.7;"   ><strong style="line-height: 1.7;"   >Note</strong>: It is preferable to use the JSON array format for specifying&nbsp;<code style="padding: 0px 6px 2px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border: 1px solid rgb(219, 221, 224); white-space: pre-line; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-bottom: 2px; background-color: rgb(252, 252, 252);"   >ENTRYPOINT</code>&nbsp;instructions.</p></blockquote></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="Dockerfile RUN, CMD  ENTRYPOINT - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
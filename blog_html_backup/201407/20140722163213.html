<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">phppgadmin in nginx</h2>
	<h5 id="">2014-07-22 16:32:13&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201462235618643/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>nginx的安装参考</div><div><a target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201461822210354/"   >http://blog.163.com/digoal@126/blog/static/163877040201461822210354/</a></div><div>nginx的使用参考文档</div><div><a target="_blank" rel="nofollow" href="http://nginx.org/en/docs/"   >http://nginx.org/en/docs/</a></div><div>本文讲一下phppgadmin 和 mediawiki两个虚拟服务器, 使用不同的端口的配置.</div><div>mediawiki 的搭建参考</div><div><a target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201461391320568/"   >http://blog.163.com/digoal@126/blog/static/163877040201461391320568/</a></div><div><br></div><div>下载phppgadmin, 解压到站点目录.</div><pre class="prettyprint"   ><p><font size="2"   ># wget https://github.com/phppgadmin/phppgadmin/tarball/master<wbr></font></p><div><font size="2"   ># mv master phpPgAdmin-snapshot.tar.gz</font></div><div><font size="2"   ># tar -zxvf phpPgAdmin-snapshot.tar.gz&nbsp;</font></div><div><font size="2"   ># cd phppgadmin-phppgadmin-ca302af/</font></div><p></p></pre><div>配置phppgadmin :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   ># cd conf/</font></div><div><font size="2"   >[root@dba conf]# ll</font></div><div><font size="2"   >total 8</font></div><div><font size="2"   >-rw-rw-r-- 1 root root 6409 Jul 21 07:43 config.inc.php-dist</font></div><div><font size="2"   >[root@dba conf]# cp config.inc.php-dist config.inc.php</font></div></div><div><div><font size="2"   >[root@dba conf]# vi config.inc.php</font></div></div><p></p></pre></div><div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >&lt;?php</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /**</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Central phpPgAdmin configuration. &nbsp;As a user you may modify the</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* settings here for your particular configuration.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* $Id: config.inc.php-dist,v 1.55 2008/02/18 21:10:31 xzilla Exp $</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // An example server. &nbsp;Create as many of these as you wish,</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // indexed from zero upwards.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Display name for the server on the login screen</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['servers'][0]['desc'] = 'PostgreSQL9.3.3';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Hostname or IP address for server. &nbsp;Use '' for UNIX domain socket.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // use 'localhost' for TCP/IP connection on this computer</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['servers'][0]['host'] = '172.16.3.150';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Database port on server (5432 is the PostgreSQL default)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['servers'][0]['port'] = 5432;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Database SSL mode</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Possible options: disable, allow, prefer, require</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // To require SSL on older servers use option: legacy</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // To ignore the SSL mode, use option: unspecified</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['servers'][0]['sslmode'] = 'disable';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Change the default database only if you cannot connect to template1.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // For a PostgreSQL 8.1+ server, you can set this to 'postgres'.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['servers'][0]['defaultdb'] = 'template1';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Specify the path to the database dump utilities for this server.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // You can set these to '' if no dumper is available.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['servers'][0]['pg_dump_path'] = '/opt/pgsql/bin/pg_dump';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['servers'][0]['pg_dumpall_path'] = '/opt/pgsql/bin/pg_dumpall';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // 多个postgresql cluster的话, 序列增加即可. 如$<span style="line-height: 28px;"   >conf['servers'][1]['host'] = ''.....</span></font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Example for a second server (PostgreSQL for Windows)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['servers'][1]['desc'] = 'Test Server';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['servers'][1]['host'] = '127.0.0.1';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['servers'][1]['port'] = 5432;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['servers'][1]['sslmode'] = 'allow';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['servers'][1]['defaultdb'] = 'template1';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['servers'][1]['pg_dump_path'] = 'C:\\Program Files\\PostgreSQL\\8.0\\bin\\pg_dump.exe';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['servers'][1]['pg_dumpall_path'] = 'C:\\Program Files\\PostgreSQL\\8.0\\bin\\pg_dumpall.exe';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* Groups definition */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* Groups allow administrators to logicaly group servers together under</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* group nodes in the left browser tree</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* The group '0' description</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['srv_groups'][0]['desc'] = 'group one';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* Add here servers indexes belonging to the group '0' seperated by comma */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['srv_groups'][0]['servers'] = '0,1,2';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* A server can belong to multi groups. Here server 1 is referenced in both</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* 'group one' and 'group two'*/</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['srv_groups'][1]['desc'] = 'group two';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['srv_groups'][1]['servers'] = '3,1';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* A group can be nested in one or more existing groups using the 'parents'</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* parameter. Here the group 'group three' contains only one server and will</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* appear as a subgroup in both 'group one' and 'group two':</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['srv_groups'][2]['desc'] = 'group three';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['srv_groups'][2]['servers'] = '4';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['srv_groups'][2]['parents'] = '0,1';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* Warning: Only groups with no parents appears at the root of the tree. */</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* You can apply specific theme depending on servers, users and databases</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* The priority order is :</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; * the theme defined for a server</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; * the theme defined for a database apply over the server one</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; * the theme defined for a user apply over the database one</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* Example for servers */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['servers'][0]['theme']['default'] = 'default';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* Example for users */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['servers'][0]['theme']['user']['specific_user'] = 'default';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* Example for databases */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; //$conf['servers'][0]['theme']['db']['specific_db'] = 'default';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Default language. E.g.: 'english', 'polish', etc. &nbsp;See lang/ directory</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // for all possibilities. If you specify 'auto' (the default) it will use</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // your browser preference.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['default_lang'] = 'auto';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // AutoComplete uses AJAX interaction to list foreign key values</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // on insert fields. It currently only works on single column</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // foreign keys. You can choose one of the following values:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // 'default on' enables AutoComplete and turns it on by default.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // 'default off' enables AutoComplete but turns it off by default.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // 'disable' disables AutoComplete.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['autocomplete'] = 'default on';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // If extra login security is true, then logins via phpPgAdmin with no</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // password or certain usernames (pgsql, postgres, root, administrator)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // will be denied. Only set this false once you have read the FAQ and</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // understand how to change PostgreSQL's pg_hba.conf to enable</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // passworded local connections.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['extra_login_security'] = true;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // 如果要使用pgsql, postgres, root, adminstrator等用户名登陆, 必须设置为false.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Only show owned databases?</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Note: This will simply hide other databases in the list - this does</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // not in any way prevent your users from seeing other database by</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // other means. (e.g. Run 'SELECT * FROM pg_database' in the SQL area.)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['owned_only'] = false;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Display comments on objects? &nbsp;Comments are a good way of documenting</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // a database, but they do take up space in the interface.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['show_comments'] = true;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Display "advanced" objects? Setting this to true will show</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // aggregates, types, operators, operator classes, conversions,</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // languages and casts in phpPgAdmin. These objects are rarely</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // administered and can clutter the interface.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['show_advanced'] = false;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Display "system" objects?</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['show_system'] = false;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Minimum length users can set their password to.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['min_password_length'] = 1;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Width of the left frame in pixels (object browser)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['left_width'] = 200;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Which look &amp; feel theme to use</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['theme'] = 'default';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Show OIDs when browsing tables?</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['show_oids'] = false;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Max rows to show on a page when browsing record sets</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['max_rows'] = 30;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Max chars of each field to display by default in browse mode</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['max_chars'] = 50;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Send XHTML strict headers?</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['use_xhtml_strict'] = false;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Base URL for PostgreSQL documentation.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // '%s', if present, will be replaced with the PostgreSQL version</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // (e.g. 8.4 )</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['help_base'] = 'http://www.postgresql.org/docs/%s/interactive/';</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Configuration for ajax scripts</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; // Time in seconds. If set to 0, refreshing data using ajax will be disabled (locks and activity pages)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['ajax_refresh'] = 3;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /** Plugins management</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Add plugin names to the following array to activate them</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Example:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; $conf['plugins'] = array(</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp; 'Example',</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp; 'Slony'</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; );</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['plugins'] = array();</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /*****************************************</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Don't modify anything below this line *</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*****************************************/</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; $conf['version'] = 19;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >?&gt;</font></div><p></p></pre></div></div><div>移动到站点目录 :&nbsp;</div><div># mv phppgadmin-phppgadmin-ca302af /site/phppgadmin</div><div>配置nginx, 新增一个server, 监听另一个端口. php使用fastcgi代理.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   ># vi nginx.conf</font></div><div><div><font size="2"   >&nbsp; &nbsp; server {</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; listen &nbsp; &nbsp; &nbsp; 0.0.0.0:8001;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; server_name &nbsp;dba.sky-mobi.com;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; root /site/phppgadmin;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; location / {</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; index &nbsp;index.php index.html index.htm;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; }</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; location ~ \.php$ {</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; include /opt/nginx1.6.0/conf/fastcgi_params;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fastcgi_pass &nbsp; 127.0.0.1:9000; &nbsp; # php-fpm的监听</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fastcgi_index &nbsp;index.php;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fastcgi_param &nbsp;SCRIPT_FILENAME &nbsp;$document_root$fastcgi_script_name;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; }</font></div><div><font size="2"   >&nbsp; &nbsp; }</font></div></div><p></p></pre></div><div>重载nginx.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >nginx -s reload</font></div><div></div><p></p></pre></div><div><div>在目标数据库创建一个普通用户, 用于登陆, 因为前面我们设置了不允许超级用户postgres 登陆.</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >digoal=# create role digoal nosuperuser login encrypted password 'digoal321';</font></div><div><font size="2"   >CREATE ROLE</font></div></div><div><div><font size="2"   >pg93@db-172-16-3-150-&gt; cd $PGDATA</font></div><div><font size="2"   >pg93@db-172-16-3-150-&gt; vi pg_hba.conf</font></div></div><div><font size="2"   >host all digoal 0.0.0.0/0 md5</font></div><p></p></pre></div></div><div>打开浏览器, 输入URL即可 :&nbsp;</div><div><a target="_blank" rel="nofollow" href="http://dba.sky-mobi.com:8001/"   >http://dba.sky-mobi.com:8001/</a></div><div><br></div><div>[参考]</div><div>1.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://phppgadmin.sourceforge.net/doku.php?id=faq_docs"   >http://phppgadmin.sourceforge.net/doku.php?id=faq_docs</a></div><div>2.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://nginx.org/en/docs/"   >http://nginx.org/en/docs/</a></div><div>3.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="https://raw.githubusercontent.com/phppgadmin/phppgadmin/master/INSTALL"   >https://raw.githubusercontent.com/phppgadmin/phppgadmin/master/INSTALL</a></div><div>4.&nbsp;<a style="line-height: 28px;" target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201461822210354/"   >http://blog.163.com/digoal@126/blog/static/163877040201461822210354/</a></div><div>5.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://nginx.org/en/docs/"   >http://nginx.org/en/docs/</a></div><div>6.&nbsp;<a style="line-height: 28px;" target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201461391320568/"   >http://blog.163.com/digoal@126/blog/static/163877040201461391320568/</a></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="phppgadmin in nginx - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
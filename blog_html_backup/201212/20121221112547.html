<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">PostgreSQL odbc_fdw</h2>
	<h5 id="">2012-12-21 11:25:47&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/1638770402012112111455959/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>odbc_fdw 1.0 目前与 PostgreSQL 9.2 不兼容, 编译时有异常, 如下 :&nbsp;</div><div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >root@db-172-16-3-150-&gt; gmake USE_PGXS=1</font></div><div><font size="2"   >gmake: Nothing to be done for `all'.</font></div><p></p></pre></div><div>so文件异常 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >root@db-172-16-3-150-&gt; nm -A odbc_fdw.so</font></div><div><font size="2"   >nm: odbc_fdw.so: File format not recognized</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >root@db-172-16-3-150-&gt; gmake USE_PGXS=1 install</font></div><div><font size="2"   >/bin/mkdir -p '/home/ocz/pgsql9.2.1/lib'</font></div><div><font size="2"   >/bin/mkdir -p '/home/ocz/pgsql9.2.1/share/extension'</font></div><div><font size="2"   >/bin/sh /home/ocz/pgsql9.2.1/lib/pgxs/src/makefiles/../../config/install-sh -c -m 755 &nbsp;odbc_fdw.so '/home/ocz/pgsql9.2.1/lib/odbc_fdw.so'</font></div><div><font size="2"   >/bin/sh /home/ocz/pgsql9.2.1/lib/pgxs/src/makefiles/../../config/install-sh -c -m 644 ./odbc_fdw.control '/home/ocz/pgsql9.2.1/share/extension/'</font></div><div><font size="2"   >/bin/sh /home/ocz/pgsql9.2.1/lib/pgxs/src/makefiles/../../config/install-sh -c -m 644 ./odbc_fdw--1.0.sql &nbsp;'/home/ocz/pgsql9.2.1/share/extension/'</font></div><p></p></pre></div></div><div><br></div><div><span style="line-height: 22px;"   >odbc_fdw 1.0 在PostgreSQL 9.1 中的安装过程如下 :&nbsp;</span></div><div><span style="line-height: 22px;"   >1. 首先要安装unixODBC, 因为要通过它配置dsn, 如下我这里用到的包 :&nbsp;</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >root@db-172-16-3-150-&gt; rpm -qf /etc/odbc.ini</font></div><div><font size="2"   >unixODBC-libs-2.2.11-10.el5</font></div><div><font size="2"   >unixODBC-libs-2.2.11-10.el5</font></div><div><font size="2"   >unixODBC64-libs-2.2.14-3.el5</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >root@db-172-16-3-150-&gt; rpm -qf /etc/odbcinst.ini</font></div><div><font size="2"   >unixODBC-libs-2.2.11-10.el5</font></div><div><font size="2"   >unixODBC-libs-2.2.11-10.el5</font></div><div><font size="2"   >unixODBC64-libs-2.2.14-3.el5</font></div><p></p></pre></div><div><span style="line-height: 22px;"   ><br></span></div><div><span style="line-height: 22px;"   >2. 因为odbc_fdw.c用到了头文件sql.h 和sqlext.h 来自unixODBC-devel包.</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >root@db-172-16-3-150-&gt; rpm -qf /usr/include/sql.h</font></div><div><font size="2"   >unixODBC-devel-2.2.11-10.el5</font></div><div><font size="2"   >unixODBC-devel-2.2.11-10.el5</font></div><div><font size="2"   >root@db-172-16-3-150-&gt; rpm -qf /usr/include/sqlext.h</font></div><div><font size="2"   >unixODBC-devel-2.2.11-10.el5</font></div><div><font size="2"   >unixODBC-devel-2.2.11-10.el5</font></div><p></p></pre></div><div><span style="line-height: 22px;"   ><br></span></div><div><span style="line-height: 22px;"   >3. 还需要安装需要连接的数据库的odbc驱动, 如我这里通过odbc连接另一台PostgreSQL, 那么我需要PostgreSQL的odbc驱动,&nbsp;</span></div><div><span style="line-height: 22px;"   >这里我安装的是一下两个包 :&nbsp;</span></div><div><div style="line-height: 22px;"   ><pre class="prettyprint"   ><p></p><div style="line-height: 22px;"   ><font size="2"   >root@db-172-16-3-150-&gt; rpm -qf /usr/lib64/psqlodbc.so&nbsp;</font></div><div style="line-height: 22px;"   ><font size="2"   >postgresql-odbc-08.01.0200-3.1</font></div><div style="line-height: 22px;"   ><font size="2"   >root@db-172-16-3-150-&gt; rpm -qf /usr/lib64/psqlodbcw.so&nbsp;</font></div><div style="line-height: 22px;"   ><font size="2"   >postgresql-odbc64-09.00.0200-1.el5</font></div><p></p></pre></div><div style="line-height: 22px;"   ><br></div><div style="line-height: 22px;"   >4. 这些安装好后, 先测试一下odbc是否正常, 配置如下 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >[root@db-172-16-3-150 ~]# cat /etc/odbcinst.ini&nbsp;</font></div><div><font size="2"   ># Example driver definitions</font></div><div><font size="2"   ># See /usr/share/doc/unixODBC*/README.64bit for more information</font></div><div><font size="2"   ># Use these definitions with the original unixODBC package</font></div><div><font size="2"   ># Driver from the postgresql-odbc package</font></div><div><font size="2"   ># Setup from the unixODBC-libs package</font></div><div><font size="2"   >[PostgreSQL]</font></div><div><font size="2"   >Description &nbsp; &nbsp; = ODBC for PostgreSQL</font></div><div><font size="2"   >Driver &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= /usr/lib/psqlodbc.so</font></div><div><font size="2"   >Setup &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = /usr/lib/libodbcpsqlS.so</font></div><div><font size="2"   >Driver64 &nbsp; &nbsp; &nbsp; &nbsp;= /usr/lib64/psqlodbc.so</font></div><div><font size="2"   >Setup64 &nbsp; &nbsp; &nbsp; &nbsp; = /usr/lib64/libodbcpsqlS.so</font></div><div><font size="2"   >FileUsage &nbsp; &nbsp; &nbsp; = 1</font></div></div><div><font size="2"   ><br></font></div><div><font size="2"   >[root@db-172-16-3-150 ~]# cat /etc/odbc.ini&nbsp;</font></div><div><div><font size="2"   >[test]</font></div><div><font size="2"   >Description = Test to Postgres</font></div><div><font size="2"   ># Driver 对应odbcinst.ini里的PostgreSQL</font></div><div><font size="2"   >Driver = PostgreSQL</font></div><div><font size="2"   >Database = digoal</font></div><div><font size="2"   >Servername = 172.16.3.33</font></div><div><font size="2"   >UserName = digoal</font></div><div><font size="2"   >Password = digoal</font></div><div><font size="2"   >Port = 1921</font></div><div><font size="2"   >Protocol = 7.4</font></div><div><font size="2"   >#ReadOnly = 0</font></div><div><font size="2"   >#ConnSettings = set client_encoding to UTF8</font></div><div><font size="2"   >#Ksqo = false</font></div></div><p></p></pre></div><div><br></div><div>使用isql进行测试 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-150 ~]# isql test</font></div><div><font size="2"   >+---------------------------------------+</font></div><div><font size="2"   >| Connected! &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</font></div><div><font size="2"   >| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</font></div><div><font size="2"   >| sql-statement &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</font></div><div><font size="2"   >| help [tablename] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</font></div><div><font size="2"   >| quit &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</font></div><div><font size="2"   >| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</font></div><div><font size="2"   >+---------------------------------------+</font></div><div><font size="2"   >SQL&gt; select * from test limit 5; &nbsp; &nbsp;</font></div><div><font size="2"   >+------------+------------+</font></div><div><font size="2"   >| id &nbsp; &nbsp; &nbsp; &nbsp; | ver &nbsp; &nbsp; &nbsp; &nbsp;|</font></div><div><font size="2"   >+------------+------------+</font></div><div><font size="2"   >| 2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| 1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</font></div><div><font size="2"   >| 2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| 2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</font></div><div><font size="2"   >| 2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</font></div><div><font size="2"   >| 2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| 4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</font></div><div><font size="2"   >| 2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| 5 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|</font></div><div><font size="2"   >+------------+------------+</font></div><div><font size="2"   >SQLRowCount returns 5</font></div><div><font size="2"   >5 rows fetched</font></div><div><div><font size="2"   >SQL&gt; select count(*) from test;</font></div><div><font size="2"   >+---------------------+</font></div><div><font size="2"   >| count &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</font></div><div><font size="2"   >+---------------------+</font></div><div><font size="2"   >| 600 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |</font></div><div><font size="2"   >+---------------------+</font></div><div><font size="2"   >SQLRowCount returns 1</font></div><div><font size="2"   >1 rows fetched</font></div></div><div><font size="2"   >SQL&gt; quit;</font></div><p></p></pre></div><div style="line-height: 22px;"   ><br></div></div><div><span style="line-height: 22px;"   >5. 验证odbc正常后, 把odbc_fdw.zip下载下来,&nbsp;</span><span style="line-height: 22px;"   >解压到PostgreSQL源码的contrib目录下.</span></div><div><pre class="prettyprint"   ><p></p><div><span style="line-height: 22px;"   ><font size="2"   >unzip odbc_fdw.zip</font></span></div><div><span style="line-height: 22px;"   ><font size="2"   >mv odbc_fdw $psql_src/contrib/</font></span></div><p></p></pre></div><div><span style="line-height: 22px;"   >编译安装 :&nbsp;</span></div><div><pre class="prettyprint"   ><p></p><div><span style="line-height: 22px;"   ><font size="2"   >su - root</font></span></div><div><font size="2"   >export PATH=/opt/pgsql91/bin:$PATH&nbsp;</font></div><div><font size="2"   >cd&nbsp;<span style="line-height: 22px;"   >$psql_src/contrib/odbc_fdw</span></font></div><div><font size="2"   >make USE_PGXS=1</font></div><div><font size="2"   >make USE_PGXS=1 install</font></div><p></p></pre></div><div><br></div><div>修改<span style="line-height: 22px;"   >&nbsp;</span><span style="line-height: 22px;"   >/etc/odbc.ini&nbsp;</span></div><div>把库名,用户名,密码的配置删除</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >vi /etc/odbc.ini</font></div><div><div><font size="2"   >[test]</font></div><div><font size="2"   >Description = Test to Postgres</font></div><div><font size="2"   >Driver = PostgreSQL</font></div><div><font size="2"   >Database =&nbsp;</font></div><div><font size="2"   >Servername = 172.16.3.33</font></div><div><font size="2"   >UserName =&nbsp;</font></div><div><font size="2"   >Password =&nbsp;</font></div><div><font size="2"   >Port = 1921</font></div><div><font size="2"   >Protocol = 7.4</font></div><div><font size="2"   >#ReadOnly = 0</font></div><div><font size="2"   >#ConnSettings = set client_encoding to UTF8</font></div><div><font size="2"   >#Ksqo = false</font></div></div><p></p></pre></div><div><br></div><div>查看远程库的表结构, 一会在9.1中创建它的外部表 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >postgres@db-172-16-3-33-&gt; psql -h 127.0.0.1</font></div><div><font size="2"   >psql (9.1.3)</font></div><div><font size="2"   >Type "help" for help.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >postgres=# \c digoal digoal</font></div><div><font size="2"   >You are now connected to database "digoal" as user "digoal".</font></div><div><font size="2"   >digoal=&gt; \d test</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;Table "public.test"</font></div><div><font size="2"   >&nbsp;Column | &nbsp;Type &nbsp; | Modifiers&nbsp;</font></div><div><font size="2"   >--------+---------+-----------</font></div><div><font size="2"   >&nbsp;id &nbsp; &nbsp; | integer |&nbsp;</font></div><div><font size="2"   >&nbsp;ver &nbsp; &nbsp;| integer |&nbsp;</font></div><div><font size="2"   >Indexes:</font></div><div><font size="2"   >&nbsp; &nbsp; "idx_test" btree (ver)</font></div><div><font size="2"   >&nbsp; &nbsp; "idx_test_1" gist (ver)</font></div><div><font size="2"   >&nbsp; &nbsp; "idx_test_2" btree (id)</font></div><div><font size="2"   >&nbsp; &nbsp; "idx_test_3" btree (id, ver)</font></div><div><font size="2"   >&nbsp; &nbsp; "idx_test_4" btree (id) WHERE f_test(id, ver) IS TRUE</font></div><div><font size="2"   >&nbsp; &nbsp; "idx_test_5" btree (id, ver) WHERE f_test(id, ver) IS TRUE</font></div><p></p></pre></div><div><br></div><div>在PostgreSQL 9.1中创建extension :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >root@db-172-16-3-150-&gt; psql</font></div><div><font size="2"   >psql (9.1.3)</font></div><div><font size="2"   >Type "help" for help.</font></div><div><font size="2"   >postgres=# create extension odbc_fdw;</font></div><div><font size="2"   >CREATE EXTENSION</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >CREATE SERVER odbc_server&nbsp;</font></div><div><font size="2"   >&nbsp; FOREIGN DATA WRAPPER odbc_fdw&nbsp;</font></div><div><font size="2"   >&nbsp; OPTIONS (dsn 'test');</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >CREATE FOREIGN TABLE odbc_table (</font></div><div><font size="2"   >&nbsp; db_id integer,</font></div><div><font size="2"   >&nbsp; db_ver integer</font></div><div><font size="2"   >)&nbsp;</font></div><div><font size="2"   >&nbsp; SERVER odbc_server</font></div><div><font size="2"   >&nbsp; OPTIONS (</font></div><div><font size="2"   >&nbsp; &nbsp; database 'digoal',</font></div><div><font size="2"   >&nbsp; &nbsp; schema 'public',&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; table 'test',&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; sql_query 'select ver,id from public.test',</font></div><div><font size="2"   >&nbsp; &nbsp; sql_count 'select count(*) from public.test',</font></div><div><font size="2"   >&nbsp; &nbsp; db_id 'id',&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; db_ver 'ver'</font></div><div><font size="2"   >&nbsp; );</font></div><div><font size="2"   ><br></font></div><div><font size="2"   ><br></font></div><div><font size="2"   >CREATE USER MAPPING FOR postgres</font></div><div><font size="2"   >&nbsp; SERVER odbc_server</font></div><div><font size="2"   >&nbsp; OPTIONS (username 'digoal', password 'digoal');</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >postgres=# select * from odbc_table limit 5;</font></div><div><font size="2"   >&nbsp;db_id | db_ver&nbsp;</font></div><div><font size="2"   >-------+--------</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;2 | &nbsp; &nbsp; &nbsp;1</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;2 | &nbsp; &nbsp; &nbsp;2</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;2 | &nbsp; &nbsp; &nbsp;3</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;2 | &nbsp; &nbsp; &nbsp;4</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;2 | &nbsp; &nbsp; &nbsp;5</font></div><div><font size="2"   >(5 rows)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >postgres=# select count(*) from odbc_table limit 5;</font></div><div><font size="2"   >&nbsp;count&nbsp;</font></div><div><font size="2"   >-------</font></div><div><font size="2"   >&nbsp; &nbsp;600</font></div><div><font size="2"   >(1 row)</font></div></div><p></p></pre></div><div>【语法】</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >Usage</font></div><div><font size="2"   >-----</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >The following parameters can be set on ODBC foreign server:</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >dsn:<span>  </span>The Database Source Name for the foreign database system you're connecting to.</font></div><div><font size="2"   ><span>  </span>Default: &lt;none&gt;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >The following parameter can be set on a ODBC foreign table:</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >database:<span> </span>The name of the database to query.</font></div><div><font size="2"   ><span> </span> &nbsp;<span> </span>Default: &lt;none&gt;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >schema:<span>  </span>The schema of the database to query.</font></div><div><font size="2"   ><span>  </span>Default: &lt;none&gt;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >table:<span>  </span>The name of the table to query.</font></div><div><font size="2"   ><span>  </span>Default: &lt;none&gt;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >sql_query:<span> </span>Optional: User defined SQL statement for querying the foreign table.</font></div><div><font size="2"   ><span>  </span>Default: &lt;none&gt;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >sql_count:<span> </span>Optional: User defined SQL statement for counting number of records in the foreign table.</font></div><div><font size="2"   ><span>  </span>Default: &lt;none&gt;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&lt;column name&gt;:<span> </span>The column mapping to remote table columns.</font></div><div><font size="2"   ><span>  </span>If there is no column mapping specified, default is the origninal column name.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >The following parameter can be set on a user mapping for a ODBC</font></div><div><font size="2"   >foreign server:</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >username:<span> </span>The username to authenticate to the foreign server with.</font></div><div><font size="2"   ><span>  </span>Default: &lt;none&gt;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >password:<span> </span>The password to authenticate to the foreign server with.</font></div><div><font size="2"   ><span>  </span>Default: &lt;none&gt;</font></div><p></p></pre></div><div><br></div><div>【参考】</div><div>1.&nbsp;<a target="_blank" rel="nofollow" href="https://github.com/ZhengYang/odbc_fdw"   >https://github.com/ZhengYang/odbc_fdw</a></div><div>2.&nbsp;<a target="_blank" rel="nofollow" href="http://sourceforge.net/projects/unixodbc/"   >http://sourceforge.net/projects/unixodbc/</a></div><div>3.&nbsp;<a target="_blank" rel="nofollow" href="http://www.unixodbc.org/"   >http://www.unixodbc.org/</a></div><div>4.&nbsp;<a target="_blank" rel="nofollow" href="http://www.postgresql.org/ftp/odbc/versions/src/"   >http://www.postgresql.org/ftp/odbc/versions/src/</a></div><div><br></div><div>【其他fdw】</div><div><div style="line-height: 25px; color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53;"   >1. hive</div><div style="line-height: 25px; color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53;"   ><a style="line-height: 25px; text-decoration: initial; color: rgb(85, 108, 136);" rel="nofollow" href="https://github.com/youngwookim/hive-fdw-for-postgresql"   >https://github.com/youngwookim/hive-fdw-for-postgresql</a></div><div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   >2. PostgreSQL Foreign Table - pgsql_fdw</div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   ><a style="line-height: 25px; text-decoration: initial; color: rgb(85, 108, 136);" target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201231514057303/"   >http://blog.163.com/digoal@126/blog/static/163877040201231514057303/</a></div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   >3. PostgreSQL Foreign Table - oracle_fdw 1</div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   ><a style="line-height: 25px; text-decoration: initial; color: rgb(85, 108, 136);" target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201181505331588/"   >http://blog.163.com/digoal@126/blog/static/163877040201181505331588/</a></div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   >4. PostgreSQL Foreign Table - oracle_fdw 2</div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   ><a style="line-height: 25px; text-decoration: initial; color: rgb(85, 108, 136);" target="_blank" href="http://blog.163.com/digoal@126/blog/static/16387704020118151162340/"   >http://blog.163.com/digoal@126/blog/static/16387704020118151162340/</a></div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   >5. PostgreSQL Foreign Table - oracle_fdw 3</div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   ><a style="line-height: 25px; text-decoration: initial; color: rgb(85, 108, 136);" target="_blank" href="http://blog.163.com/digoal@126/blog/static/16387704020118951953408/"   >http://blog.163.com/digoal@126/blog/static/16387704020118951953408/</a></div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   >6. PostgreSQL Foreign Table - file_fdw</div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   ><a style="line-height: 25px; text-decoration: initial; color: rgb(85, 108, 136);" target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201141641148311/"   >http://blog.163.com/digoal@126/blog/static/163877040201141641148311/</a></div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   >7. PostgreSQL Foreign Table - redis_fdw</div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   ><a style="line-height: 25px; text-decoration: initial; color: rgb(85, 108, 136);" target="_blank" href="http://blog.163.com/digoal@126/blog/static/16387704020119181188247/"   >http://blog.163.com/digoal@126/blog/static/16387704020119181188247/</a></div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   >8. PostgreSQL Foreign Table - mysql_fdw 1</div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   ><a style="line-height: 25px; text-decoration: initial; color: rgb(85, 108, 136);" target="_blank" href="http://blog.163.com/digoal@126/blog/static/1638770402011111233524987/"   >http://blog.163.com/digoal@126/blog/static/1638770402011111233524987/</a></div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   >9. PostgreSQL Foreign Table - mysql_fdw 2</div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   ><a style="line-height: 25px; text-decoration: initial; color: rgb(85, 108, 136);" target="_blank" href="http://blog.163.com/digoal@126/blog/static/16387704020121108551698/"   >http://blog.163.com/digoal@126/blog/static/16387704020121108551698/</a></div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   ><br></div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   >【附】</div><div style="color: rgb(51, 51, 51); font-family: Arial, Helvetica, simsun, u5b8bu4f53; line-height: 25px;"   >9.2中编译错误 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >gcc -O2 -Wall -Wmissing-prototypes -Wpointer-arith -Wdeclaration-after-statement -Wendif-labels -Wmissing-format-attribute -Wformat-security -fno-strict-aliasing -fwrapv -g -fpic -I. -I. -I../../src/include -D_GNU_SOURCE -I/usr/include/libxml2 &nbsp; -c -o odbc_fdw.o odbc_fdw.c</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c:112: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘*’ token</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c: In function ‘odbc_fdw_handler’:</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c:129: error: ‘FdwRoutine’ has no member named ‘PlanForeignScan’</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c:129: error: ‘odbcPlanForeignScan’ undeclared (first use in this function)</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c:129: error: (Each undeclared identifier is reported only once</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c:129: error: for each function it appears in.)</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c: At top level:</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c:709: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘*’ token</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c: In function ‘odbcBeginForeignScan’:</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c:806: warning: implicit declaration of function ‘RelationGetRelid’</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c:882: error: dereferencing pointer to incomplete type</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c:893: error: dereferencing pointer to incomplete type</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c:949: error: dereferencing pointer to incomplete type</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c:992: error: dereferencing pointer to incomplete type</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >odbc_fdw.c:1251:2: warning: no newline at end of file</font></div><div><font color="#333333"   face="Arial, Helvetica, simsun, u5b8bu4f53"   size="2"   >gmake: *** [odbc_fdw.o] Error 1</font></div><p></p></pre></div></div></div>支持9.2需要修改一下odbc_fdw.c.
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="PostgreSQL odbc_fdw - 德哥@Digoal - PostgreSQL"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">管理 R 搜索路径 (like postgresql search_path?)</h2>
	<h5 id="">2015-06-30 10:26:06&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/1638770402015530101314994/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;">R 的搜索路径是一个层级结构，例如我们可以使用search()查看当前的层级。<wbr><div><pre class="prettyprint"   ><p></p><div><font size="2"   >&gt; search()</font></div><div><font size="2"   >[1] ".GlobalEnv" &nbsp; &nbsp; &nbsp; &nbsp;"package:stats" &nbsp; &nbsp; "package:graphics"&nbsp;</font></div><div><font size="2"   >[4] "package:grDevices" "package:utils" &nbsp; &nbsp; "package:datasets"&nbsp;</font></div><div><font size="2"   >[7] "package:methods" &nbsp; "Autoloads" &nbsp; &nbsp; &nbsp; &nbsp; "package:base" &nbsp;</font></div><p></p></pre></div><div>说明当前有9个层级，从1开始编号直到9，当然也可以直接使用名字。</div><div>例如我们可以使用ls()或objects()看看每个层级的对象：</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >&gt; ls(1)</font></div><div><font size="2"   >[1] "x"</font></div><div><font size="2"   >&gt; ls(.GlobalEnv)</font></div><div><font size="2"   >[1] "x"</font></div></div><div><div><font size="2"   >&gt; objects(2)</font></div><div><font size="2"   >&nbsp; [1] "acf" &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"acf2AR" &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "add.scope" &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >&nbsp; [4] "add1" &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "addmargins" &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "aggregate" &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >&nbsp; [7] "aggregate.data.frame" "aggregate.ts" &nbsp; &nbsp; &nbsp; &nbsp; "AIC" &nbsp; &nbsp; &nbsp; &nbsp;</font></div></div><div><font size="2"   >......</font></div><p></p></pre></div><div>现在我们可以创建一个数据框，并使用attach()将数据框绑定到第二个层级，其他层级顺序往后排。</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >&gt; x &lt;- data.frame(a=1:10,b=100:109,c=101:110)</font></div><div><font size="2"   >&gt; x</font></div><div><font size="2"   >&nbsp; &nbsp; a &nbsp; b &nbsp; c</font></div><div><font size="2"   >1 &nbsp; 1 100 101</font></div><div><font size="2"   >2 &nbsp; 2 101 102</font></div><div><font size="2"   >3 &nbsp; 3 102 103</font></div><div><font size="2"   >4 &nbsp; 4 103 104</font></div><div><font size="2"   >5 &nbsp; 5 104 105</font></div><div><font size="2"   >6 &nbsp; 6 105 106</font></div><div><font size="2"   >7 &nbsp; 7 106 107</font></div><div><font size="2"   >8 &nbsp; 8 107 108</font></div><div><font size="2"   >9 &nbsp; 9 108 109</font></div><div><font size="2"   >10 10 109 110</font></div><div><font size="2"   >&gt; attach(x)</font></div><p></p></pre></div><div>现在多了一个搜索路径x</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >&gt; search()</font></div><div><font size="2"   >&nbsp;[1] ".GlobalEnv" &nbsp; &nbsp; &nbsp; &nbsp;"x" &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "package:stats" &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp;[4] "package:graphics" &nbsp;"package:grDevices" "package:utils" &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp;[7] "package:datasets" &nbsp;"package:methods" &nbsp; "Autoloads" &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >[10] "package:base"</font></div><p></p></pre></div><div>这个搜索路径的对象有哪些呢？</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >&gt; ls(x)</font></div><div><font size="2"   >[1] "a" "b" "c"</font></div><div><font size="2"   >&gt; ls(2)</font></div><div><font size="2"   >[1] "a" "b" "c"</font></div><p></p></pre></div><div>正好是数据框x的几个name，是的通过这种方法，可以直接使用数据框的对象，而不需要使用数据框来引用。</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >&gt; a</font></div><div><font size="2"   >&nbsp;[1] &nbsp;1 &nbsp;2 &nbsp;3 &nbsp;4 &nbsp;5 &nbsp;6 &nbsp;7 &nbsp;8 &nbsp;9 10</font></div><div><font size="2"   >&gt; b</font></div><div><font size="2"   >&nbsp;[1] 100 101 102 103 104 105 106 107 108 109</font></div><div><font size="2"   >&gt; c</font></div><div><font size="2"   >&nbsp;[1] 101 102 103 104 105 106 107 108 109 110</font></div><p></p></pre></div><div>这些数据是不会被改变的，例如：</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >&gt; a &lt;- b</font></div><div><font size="2"   >&gt; a</font></div><div><font size="2"   >&nbsp;[1] 100 101 102 103 104 105 106 107 108 109</font></div><p></p></pre></div><div>你看到的这个a是创建在1号搜索路径的，而不是2号搜索路径。</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >&gt; ls(1)</font></div><div><font size="2"   >[1] "a" "x"</font></div><p></p></pre></div><div>所以只要删掉1号搜索路径的a, 又可以查看2号搜索路径的a了。它是没有变化的。</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >&gt; ls(2)</font></div><div><font size="2"   >[1] "a" "b" "c"</font></div></div><div><div><font size="2"   >&gt; rm(a)</font></div><div><font size="2"   >&gt; a</font></div><div><font size="2"   >&nbsp;[1] &nbsp;1 &nbsp;2 &nbsp;3 &nbsp;4 &nbsp;5 &nbsp;6 &nbsp;7 &nbsp;8 &nbsp;9 10</font></div><div><font size="2"   >&gt; ls(1)</font></div><div><font size="2"   >[1] "x"</font></div></div><p></p></pre></div><div>解除数据框的绑定，</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >&gt; detach(x)</font></div><div><font size="2"   >&gt; ls(x)</font></div><div><font size="2"   >[1] "a" "b" "c"</font></div><div><div><font size="2"   >&gt; objects(x)</font></div><div><font size="2"   >[1] "a" "b" "c"</font></div></div></div><div><div><font size="2"   >&gt; search()</font></div><div><font size="2"   >[1] ".GlobalEnv" &nbsp; &nbsp; &nbsp; &nbsp;"package:stats" &nbsp; &nbsp; "package:graphics"&nbsp;</font></div><div><font size="2"   >[4] "package:grDevices" "package:utils" &nbsp; &nbsp; "package:datasets"&nbsp;</font></div><div><font size="2"   >[7] "package:methods" &nbsp; "Autoloads" &nbsp; &nbsp; &nbsp; &nbsp; "package:base"&nbsp;</font></div></div><p></p></pre></div><div>解除绑定后，无法直接使用数据框中的对象。</div><div><div style="line-height: 28px;"   ><pre class="prettyprint"   ><p></p><div style="line-height: 28px;"   ><font size="2"   >&gt; a</font></div><div style="line-height: 28px;"   ><font size="2"   >Error: object 'a' not found</font></div><p></p></pre></div></div><div style="line-height: 28px;"   ><br></div><div style="line-height: 28px;"   >[参考]</div><div style="line-height: 28px;"   >1.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://cran.r-project.org/doc/manuals/r-release/R-intro.html#Lists-and-data-frames"   >http://cran.r-project.org/doc/manuals/r-release/R-intro.html#Lists-and-data-frames</a></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="管理 R 搜索路径 (like postgresql search_path?) - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">network block device(nbd)</h2>
	<h5 id="">2014-09-18 11:09:26&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201481810535133/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>网络块设备是一个廉价的共享存储解决方案, 结合分布式文件系统可以构建比较有规模的共享块设备.</div><div>例如, 在以下架构里面, 分布式存储提供冗余,共享和扩展性.&nbsp;</div><div>多台NBD提供冗余以及共享网络块设备.</div><div>NBD SERVER和分布式存储可以共享主机, 也可以分开主机.&nbsp;</div><div><br></div><div>这个架构需要注意的问题,</div><div>例如操作系统层缓存, 当从nbd-server切换到另一个nbd-server时, 如果有缓存为写入镜像文件的话, 会导致数据丢失.</div><div><br></div><div><div><img title="network block device(nbd) - 德哥@Digoal - PostgreSQL research"   alt="network block device(nbd) - 德哥@Digoal - PostgreSQL research"   style="margin:0 10px 0 0;"   src="http://img1.ph.126.net/90cHiEn0OAKsBDHuNoGNhw==/6608721291376168174.png"   ></div><br></div><div>例子 :&nbsp;</div><div>使用nbd构建Oracle-RAC :&nbsp;</div><div>典型的例子, 使用共享存储.</div><div><div><img title="network block device(nbd) - 德哥@Digoal - PostgreSQL research"   alt="network block device(nbd) - 德哥@Digoal - PostgreSQL research"   style="margin:0 10px 0 0;"   src="http://img1.ph.126.net/MC0CHMG7MclCzDKkaXo9Fg==/781656010425750850.gif"   ></div><div>使用NBD :&nbsp;</div><div><img title="network block device(nbd) - 德哥@Digoal - PostgreSQL research"   alt="network block device(nbd) - 德哥@Digoal - PostgreSQL research"   style="margin:0 10px 0 0;"   src="http://img2.ph.126.net/RuR1_THAdGzjKhF0NMRdlQ==/3243999106690839287.gif"   ></div><br></div><div>NBD在WIKI中的介绍 :&nbsp;</div><div><br></div><div><h1 id="firstHeading"   lang="en"   style="font-weight: normal; margin: 0px 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(170, 170, 170); font-size: 1.8em; line-height: 1.3; font-family: 'Linux Libertine', Georgia, Times, serif; background: none;"   ><span dir="auto"   >Network block device</span></h1><div id="bodyContent"   style="position:inherit; line-height: 1.6; font-size: 0.875em; color: rgb(37, 37, 37); font-family: sans-serif;"   ><div id="siteSub"   style="display: inline; font-size: 13px;"   >From Wikipedia, the free encyclopedia</div><div id="contentSub"   style="font-size: 12px; line-height: 1.2em; margin: 0px 0px 1.4em 1em; color: rgb(84, 84, 84); width: auto;"   ></div><div id="jump-to-nav"   style="overflow: hidden; height: 0px; zoom: 1; -webkit-user-select: none; margin-top: -1.4em; margin-bottom: 1.4em;"   ><a style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Network_block_device#mw-navigation"   ></a><a style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Network_block_device#p-search"   ></a></div><div id="mw-content-text"   lang="en"   dir="ltr"   style="direction: ltr;"   ><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   >In&nbsp;<a title="Linux" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Linux"   >Linux</a>, a&nbsp;<b>network block device</b>&nbsp;is a&nbsp;<a title="Device node" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Device_node"   >device node</a>&nbsp;whose content is provided by a remote machine. Typically, network block devices are used to access a storage device that does not physically reside in the local machine but on a remote one. As an example, the local machine can access a&nbsp;<a title="Fixed disk" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Fixed_disk"   >fixed disk</a>&nbsp;that is attached to another computer.</p><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   ></p><div id="toc"   style="border: 1px solid rgb(170, 170, 170); padding: 7px; font-size: 13px; display: table; zoom: 1; background-color: rgb(249, 249, 249);"   ><div id="toctitle"   style="direction: ltr; text-align: center;"   ><h2 style="color: black; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border: none; font-size: 13px; display: inline; line-height: 1.3; background: none;"   >Contents</h2>&nbsp;<span style="-webkit-user-select: none;"   >&nbsp;[<a id="togglelink" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Network_block_device#"   >hide</a>]&nbsp;</span></div><ul style="line-height: 1.6; list-style-type: none; margin-top: 0.3em; margin-bottom: 0.3em; margin-left: 0px; list-style-image: none;"   ><li style="margin-bottom: 0.1em;"   ><a style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Network_block_device#Kernel_client.2Fuserspace_server"   ><span>1</span>&nbsp;<span>Kernel client/userspace server</span></a></li><li style="margin-bottom: 0.1em;"   ><a style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Network_block_device#Example"   ><span>2</span>&nbsp;<span>Example</span></a></li><li style="margin-bottom: 0.1em;"   ><a style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Network_block_device#Availability"   ><span>3</span>&nbsp;<span>Availability</span></a></li><li style="margin-bottom: 0.1em;"   ><a style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Network_block_device#See_also"   ><span>4</span>&nbsp;<span>See also</span></a></li><li style="margin-bottom: 0.1em;"   ><a style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Network_block_device#References"   ><span>5</span>&nbsp;<span>References</span></a></li><li style="margin-bottom: 0.1em;"   ><a style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Network_block_device#External_links"   ><span>6</span>&nbsp;<span>External links</span></a></li></ul></div><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   ></p><h2 style="color: black; font-weight: normal; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(170, 170, 170); font-family: 'Linux Libertine', Georgia, Times, serif; line-height: 1.3; background: none;"   ><span id="Kernel_client.2Fuserspace_server"   >Kernel client/userspace server</span><span style="-webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; display: inline-block; white-space: nowrap; unicode-bidi: -webkit-isolate; font-family: sans-serif;"   ><span style="margin-right: 0px; color: rgb(85, 85, 85); margin-left: 0px;"   >[</span><a title="Edit section: Kernel client/userspace server" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/w/index.php?title=Network_block_device&amp;action=edit&amp;section=1"   >edit</a><span style="margin-left: 0px; color: rgb(85, 85, 85); margin-right: 0px;"   >]</span></span></h2><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   >Technically, a network block device is realized by two components. In the client machine, where the device node is to work, a kernel module named&nbsp;<code style="font-family: monospace, Courier; color: black; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; padding: 1px 4px; background-color: rgb(249, 249, 249);"   >nbd</code>&nbsp;controls the device. Whenever a program tries to access the device, this kernel module forwards the request to the server machine, where the data physically resides.</p><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   >On the server machine, requests from the client are handled by a userspace program called&nbsp;<code style="font-family: monospace, Courier; color: black; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; padding: 1px 4px; background-color: rgb(249, 249, 249);"   >nbd-server</code>. This program is not implemented as a kernel module because all it has to do is to serve network requests, which in turn just requires regular access to the server filesystem.</p><h2 style="color: black; font-weight: normal; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(170, 170, 170); font-family: 'Linux Libertine', Georgia, Times, serif; line-height: 1.3; background: none;"   ><span id="Example"   >Example</span><span style="-webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; display: inline-block; white-space: nowrap; unicode-bidi: -webkit-isolate; font-family: sans-serif;"   ><span style="margin-right: 0px; color: rgb(85, 85, 85); margin-left: 0px;"   >[</span><a title="Edit section: Example" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/w/index.php?title=Network_block_device&amp;action=edit&amp;section=2"   >edit</a><span style="margin-left: 0px; color: rgb(85, 85, 85); margin-right: 0px;"   >]</span></span></h2><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   >If the file&nbsp;<code style="font-family: monospace, Courier; color: black; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; padding: 1px 4px; background-color: rgb(249, 249, 249);"   >/tmp/xxx</code>&nbsp;on ComputerA has to be made accessible on ComputerB, one performs the following steps:</p><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   >On ComputerA:</p><pre style="font-family: monospace, Courier; color: black; border: 1px solid rgb(221, 221, 221); padding: 1em; line-height: 1.3em; background-color: rgb(249, 249, 249);"   >nbd-server 2000 /tmp/xxx
</pre><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   >On ComputerB:</p><pre style="font-family: monospace, Courier; color: black; border: 1px solid rgb(221, 221, 221); padding: 1em; line-height: 1.3em; background-color: rgb(249, 249, 249);"   >modprobe nbd
nbd-client ComputerA 2000 /dev/nbd0
</pre><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   >The file is now accessible on ComputerB as device&nbsp;<code style="font-family: monospace, Courier; color: black; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; padding: 1px 4px; background-color: rgb(249, 249, 249);"   >/dev/nbd0</code>. If the original file was for example a&nbsp;<a title="Disk image" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Disk_image"   >disk image</a>, it could be mounted for example via&nbsp;<code style="font-family: monospace, Courier; color: black; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; padding: 1px 4px; background-color: rgb(249, 249, 249);"   >mount /dev/nbd0 /mnt/whatever</code>.</p><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   >The command&nbsp;<code style="font-family: monospace, Courier; color: black; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; padding: 1px 4px; background-color: rgb(249, 249, 249);"   >modprobe nbd</code>&nbsp;is not necessary if module loading is done automatically. Once the module is in the kernel,&nbsp;<code style="font-family: monospace, Courier; color: black; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; padding: 1px 4px; background-color: rgb(249, 249, 249);"   >nbd-client</code>&nbsp;is used to send commands to it, such as associating a given remote file to a given local nb device. To finish using&nbsp;<code style="font-family: monospace, Courier; color: black; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; padding: 1px 4px; background-color: rgb(249, 249, 249);"   >/dev/nbd0</code>, that is, to destroy its association with the file on other computer, one can run&nbsp;<code style="font-family: monospace, Courier; color: black; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; padding: 1px 4px; background-color: rgb(249, 249, 249);"   >nbd-client -d /dev/nbd0</code>&nbsp;on ComputerB.</p><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   >In this example, 2000 is the number of the server&nbsp;<a title="Network port" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Network_port"   >port</a>&nbsp;through which the file is made accessible. Any available port could be used.</p><h2 style="color: black; font-weight: normal; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(170, 170, 170); font-family: 'Linux Libertine', Georgia, Times, serif; line-height: 1.3; background: none;"   ><span id="Availability"   >Availability</span><span style="-webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; display: inline-block; white-space: nowrap; unicode-bidi: -webkit-isolate; font-family: sans-serif;"   ><span style="margin-right: 0px; color: rgb(85, 85, 85); margin-left: 0px;"   >[</span><a title="Edit section: Availability" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/w/index.php?title=Network_block_device&amp;action=edit&amp;section=3"   >edit</a><span style="margin-left: 0px; color: rgb(85, 85, 85); margin-right: 0px;"   >]</span></span></h2><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   >The network block device client module is available on&nbsp;<a title="Linux" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Linux"   >Linux</a>&nbsp;and&nbsp;<a title="GNU Hurd" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/GNU_Hurd"   >GNU Hurd</a>.</p><p style="margin-top: 0.5em; margin-bottom: 0.5em; line-height: inherit;"   >Since the server is a userspace program, it can potentially run on every&nbsp;<a title="Unix-like" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Unix-like"   >Unix-like</a>&nbsp;platform. It was ported to&nbsp;<a title="Solaris (operating system)" style="text-decoration: none; color: rgb(11, 0, 128); background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Solaris_(operating_system)"   >Solaris</a>.<sup id="cite_ref-1"   style="line-height: 1; unicode-bidi: -webkit-isolate; font-size: 12px;"   ><a style="text-decoration: none; color: rgb(11, 0, 128); white-space: nowrap; background: none;" rel="nofollow" href="http://en.wikipedia.org/wiki/Network_block_device#cite_note-1"   >[1]</a></sup></p></div></div></div><div><br></div><div>在CentOS或RHEL下可以使用EPEL附加仓库安装nbd :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@150 postgresql-9.3.5]# yum install -y nbd</font></div><div><font size="2"   >Loaded plugins: fastestmirror, refresh-packagekit, security, versionlock</font></div><div><font size="2"   >Loading mirror speeds from cached hostfile</font></div><div><font size="2"   >epel/metalink &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| 5.4 kB &nbsp; &nbsp; 00:00 &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >&nbsp;* base: mirrors.skyshe.cn</font></div><div><font size="2"   >&nbsp;* epel: mirrors.ustc.edu.cn</font></div><div><font size="2"   >&nbsp;* extras: mirrors.163.com</font></div><div><font size="2"   >&nbsp;* updates: centos.mirror.cdnetworks.com</font></div><div><font size="2"   >base &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | 3.7 kB &nbsp; &nbsp; 00:00 &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >extras &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | 3.3 kB &nbsp; &nbsp; 00:00 &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >updates &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| 3.4 kB &nbsp; &nbsp; 00:00 &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >updates/primary_db &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | 5.3 MB &nbsp; &nbsp; 00:21 &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >Setting up Install Process</font></div><div><font size="2"   >Resolving Dependencies</font></div><div><font size="2"   >--&gt; Running transaction check</font></div><div><font size="2"   >---&gt; Package nbd.x86_64 0:2.9.20-7.el6 will be installed</font></div><div><font size="2"   >--&gt; Finished Dependency Resolution</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >Dependencies Resolved</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >====================================================================================================================================</font></div><div><font size="2"   >&nbsp;Package &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Arch &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Version &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Repository &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Size</font></div><div><font size="2"   >====================================================================================================================================</font></div><div><font size="2"   >Installing:</font></div><div><font size="2"   >&nbsp;nbd &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; x86_64 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.9.20-7.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; epel &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;43 k</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >Transaction Summary</font></div><div><font size="2"   >====================================================================================================================================</font></div><div><font size="2"   >Install &nbsp; &nbsp; &nbsp; 1 Package(s)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >Total download size: 43 k</font></div><div><font size="2"   >Installed size: 83 k</font></div><div><font size="2"   >Downloading Packages:</font></div><div><font size="2"   >nbd-2.9.20-7.el6.x86_64.rpm &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp;43 kB &nbsp; &nbsp; 00:00 &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >Running rpm_check_debug</font></div><div><font size="2"   >Running Transaction Test</font></div><div><font size="2"   >Transaction Test Succeeded</font></div><div><font size="2"   >Running Transaction</font></div><div><font size="2"   >&nbsp; Installing : nbd-2.9.20-7.el6.x86_64 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1/1&nbsp;</font></div><div><font size="2"   >&nbsp; Verifying &nbsp;: nbd-2.9.20-7.el6.x86_64 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1/1&nbsp;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >Installed:</font></div><div><font size="2"   >&nbsp; nbd.x86_64 0:2.9.20-7.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >Complete!</font></div><p></p></pre></div><div><br></div><div>包含的内容 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@150 postgresql-9.3.5]# rpm -ql nbd</font></div><div><font size="2"   >/usr/bin/nbd-server</font></div><div><font size="2"   >/usr/sbin/nbd-client</font></div><div><font size="2"   >/usr/share/doc/nbd-2.9.20</font></div><div><font size="2"   >/usr/share/doc/nbd-2.9.20/README</font></div><div><font size="2"   >/usr/share/doc/nbd-2.9.20/cliserv.h</font></div><div><font size="2"   >/usr/share/doc/nbd-2.9.20/nbd-tester-client.c</font></div><div><font size="2"   >/usr/share/doc/nbd-2.9.20/simple_test</font></div><div><font size="2"   >/usr/share/man/man1/nbd-server.1.gz</font></div><div><font size="2"   >/usr/share/man/man5/nbd-server.5.gz</font></div><div><font size="2"   >/usr/share/man/man8/nbd-client.8.gz</font></div><p></p></pre></div><wbr><div><br></div>[参考]<wbr><div>1.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://en.wikipedia.org/wiki/Network_block_device"   >http://en.wikipedia.org/wiki/Network_block_device</a></div><div>2.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://www.fi.muni.cz/~kripac/orac-nbd/"   >http://www.fi.muni.cz/~kripac/orac-nbd/</a></div><div>3.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://www.fi.muni.cz/~kripac/oracle-altix/"   >http://www.fi.muni.cz/~kripac/oracle-altix/</a></div><div>4.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://sourceforge.net/projects/nbd/"   >http://sourceforge.net/projects/nbd/</a></div><div>5.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="https://github.com/yoe/nbd"   >https://github.com/yoe/nbd</a></div><div>6.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://nbd.sourceforge.net/"   >http://nbd.sourceforge.net/</a></div><div>7.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://web.freenas.org/images/resources/freenas9.2.1/freenas9.2.1_guide.pdf"   >http://web.freenas.org/images/resources/freenas9.2.1/freenas9.2.1_guide.pdf</a></div><div>8.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://fedoraproject.org/wiki/EPEL"   >http://fedoraproject.org/wiki/EPEL</a></div><div>9.&nbsp;</div><div>man 1 nbd-server</div><div>man 5 nbd-server</div><div>man 8 nbd-client</div><div><br></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="network block device(nbd) - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">PostgreSQL 9.5 new feature - lets BRIN be used with R-Tree-like indexing strategies For "inclusion" opclasses</h2>
	<h5 id="">2015-05-26 9:29:39&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201542684752153/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>PostgreSQL 9.5 新增了BRIN索引访问方法，存储了每个连续的数据块的边界值信息，例如最大值，最小值，是否包含空值。</div><div>非常适合流式数据自增列的（例如序列，时间戳）索引，索引可以做到很小，而且定位比较精准，适合B-Tree类似的扫描。</div><div>参见：</div><div><a target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201531931956500/"   >http://blog.163.com/digoal@126/blog/static/163877040201531931956500/</a></div><div><br></div><div>PostgreSQL 9.5 最近又增加了BRIN的类似R-Tree的索引策略，支持包含系的操作符。</div><div>目前实现了cidr/inet, range, box类型的包含，相交，在旁，等操作符。</div><div>未来还会添加更多类型的操作符，PostGIS中的一些类型也可能会实现BRIN的访问方法。</div><div><pre class="prettyprint"   ><p></p><div><span style="line-height: 28px;"   ><font size="2"   >Add BRIN infrastructure for "inclusion" opclasses</font></span></div><div><div><font size="2"   ><br></font></div><div><font size="2"   >This lets BRIN be used with R-Tree-like indexing strategies.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >Also provided are operator classes for range types, box and inet/cidr.</font></div><div><font size="2"   >The infrastructure provided here should be sufficient to create operator</font></div><div><font size="2"   >classes for similar datatypes; for instance, opclasses for PostGIS</font></div><div><font size="2"   >geometries should be doable, though we didn't try to implement one.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >(A box/point opclass was also submitted, but we ripped it out before</font></div><div><font size="2"   >commit because the handling of floating point comparisons in existing</font></div><div><font size="2"   >code is inconsistent and would generate corrupt indexes.)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >Author: Emre Hasegeli. &nbsp;Cosmetic changes by me</font></div><div><font size="2"   >Review: Andreas Karlsson</font></div></div><p></p></pre></div><div><br></div><div>BRIN索引访问方法目前支持的操作符如下：</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >postgres=# create or replace function gettypname(oid) returns name as $$</font></div><div><font size="2"   >postgres$# &nbsp; select typname from pg_type where oid=$1;</font></div><div><font size="2"   >postgres$# $$ language sql strict;</font></div><div><font size="2"   >CREATE FUNCTION</font></div><div><font size="2"   >postgres=# select oprname,gettypname(oprleft),gettypname(oprright) from pg_operator where oid in (select amopopr from pg_amop where amopmethod=(select oid from pg_am where amname='brin'));</font></div><div><font size="2"   >&nbsp;oprname | gettypname &nbsp;| gettypname &nbsp;</font></div><div><font size="2"   >---------+-------------+-------------</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | int4 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | int4 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | int4 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| int4 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| int4 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | char &nbsp; &nbsp; &nbsp; &nbsp;| char</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | name &nbsp; &nbsp; &nbsp; &nbsp;| name</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | int2 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | int2 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | int4 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | int4 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | text &nbsp; &nbsp; &nbsp; &nbsp;| text</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | tid &nbsp; &nbsp; &nbsp; &nbsp; | tid</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | tid &nbsp; &nbsp; &nbsp; &nbsp; | tid</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | tid &nbsp; &nbsp; &nbsp; &nbsp; | tid</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| tid &nbsp; &nbsp; &nbsp; &nbsp; | tid</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| tid &nbsp; &nbsp; &nbsp; &nbsp; | tid</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | int8 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | int8 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | int8 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| int8 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| int8 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | int8 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | int8 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | int8 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| int8 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| int8 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;&lt;&lt; &nbsp; &nbsp; &nbsp;| box &nbsp; &nbsp; &nbsp; &nbsp; | box  严格在左</font></div><div><font size="2"   >&nbsp;&amp;&lt; &nbsp; &nbsp; &nbsp;| box &nbsp; &nbsp; &nbsp; &nbsp; | box  <span style="line-height: 21px;"   >Does not extend to the right of?</span></font></div><div><font size="2"   >&nbsp;&amp;&gt; &nbsp; &nbsp; &nbsp;| box &nbsp; &nbsp; &nbsp; &nbsp; | box  <span style="line-height: 21px;"   >Does not extend to the left of?</span></font></div><div><font size="2"   >&nbsp;&gt;&gt; &nbsp; &nbsp; &nbsp;| box &nbsp; &nbsp; &nbsp; &nbsp; | box  严格在右</font></div><div><font size="2"   >&nbsp;&lt;@ &nbsp; &nbsp; &nbsp;| box &nbsp; &nbsp; &nbsp; &nbsp; | box  <span style="line-height: 21px;"   >Contained in or on?</span></font></div><div><font size="2"   >&nbsp;@&gt; &nbsp; &nbsp; &nbsp;| box &nbsp; &nbsp; &nbsp; &nbsp; | box  <span style="line-height: 21px;"   >Contains?</span></font></div><div><font size="2"   >&nbsp;~= &nbsp; &nbsp; &nbsp;| box &nbsp; &nbsp; &nbsp; &nbsp; | box  <span style="line-height: 21px;"   >Same as?</span></font></div><div><font size="2"   >&nbsp;&amp;&amp; &nbsp; &nbsp; &nbsp;| box &nbsp; &nbsp; &nbsp; &nbsp; | box  <span style="line-height: 21px;"   >Overlaps? (One point in common makes this true.)</span></font></div><div><font size="2"   >&nbsp;@&gt; &nbsp; &nbsp; &nbsp;| box &nbsp; &nbsp; &nbsp; &nbsp; | point</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | int2 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | int4 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| int2 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| int4 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| int2 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| int4 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | int2 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | int4 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | int2 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | int4 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | int2 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | int4 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| int2 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| int4 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| int2 &nbsp; &nbsp; &nbsp; &nbsp;| int4</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| int4 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | abstime &nbsp; &nbsp; | abstime</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | abstime &nbsp; &nbsp; | abstime</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | abstime &nbsp; &nbsp; | abstime</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| abstime &nbsp; &nbsp; | abstime</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| abstime &nbsp; &nbsp; | abstime</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | reltime &nbsp; &nbsp; | reltime</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | reltime &nbsp; &nbsp; | reltime</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | reltime &nbsp; &nbsp; | reltime</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| reltime &nbsp; &nbsp; | reltime</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| reltime &nbsp; &nbsp; | reltime</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | oid &nbsp; &nbsp; &nbsp; &nbsp; | oid</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | oid &nbsp; &nbsp; &nbsp; &nbsp; | oid</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | oid &nbsp; &nbsp; &nbsp; &nbsp; | oid</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| oid &nbsp; &nbsp; &nbsp; &nbsp; | oid</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| oid &nbsp; &nbsp; &nbsp; &nbsp; | oid</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | float4 &nbsp; &nbsp; &nbsp;| float4</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | float4 &nbsp; &nbsp; &nbsp;| float4</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | float4 &nbsp; &nbsp; &nbsp;| float4</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| float4 &nbsp; &nbsp; &nbsp;| float4</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| float4 &nbsp; &nbsp; &nbsp;| float4</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | char &nbsp; &nbsp; &nbsp; &nbsp;| char</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| char &nbsp; &nbsp; &nbsp; &nbsp;| char</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | char &nbsp; &nbsp; &nbsp; &nbsp;| char</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| char &nbsp; &nbsp; &nbsp; &nbsp;| char</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | name &nbsp; &nbsp; &nbsp; &nbsp;| name</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| name &nbsp; &nbsp; &nbsp; &nbsp;| name</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | name &nbsp; &nbsp; &nbsp; &nbsp;| name</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| name &nbsp; &nbsp; &nbsp; &nbsp;| name</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | text &nbsp; &nbsp; &nbsp; &nbsp;| text</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| text &nbsp; &nbsp; &nbsp; &nbsp;| text</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | text &nbsp; &nbsp; &nbsp; &nbsp;| text</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| text &nbsp; &nbsp; &nbsp; &nbsp;| text</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | float8 &nbsp; &nbsp; &nbsp;| float8</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | float8 &nbsp; &nbsp; &nbsp;| float8</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| float8 &nbsp; &nbsp; &nbsp;| float8</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | float8 &nbsp; &nbsp; &nbsp;| float8</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| float8 &nbsp; &nbsp; &nbsp;| float8</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | bpchar &nbsp; &nbsp; &nbsp;| bpchar</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | bpchar &nbsp; &nbsp; &nbsp;| bpchar</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| bpchar &nbsp; &nbsp; &nbsp;| bpchar</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | bpchar &nbsp; &nbsp; &nbsp;| bpchar</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| bpchar &nbsp; &nbsp; &nbsp;| bpchar</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | date &nbsp; &nbsp; &nbsp; &nbsp;| date</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | date &nbsp; &nbsp; &nbsp; &nbsp;| date</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| date &nbsp; &nbsp; &nbsp; &nbsp;| date</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | date &nbsp; &nbsp; &nbsp; &nbsp;| date</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| date &nbsp; &nbsp; &nbsp; &nbsp;| date</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | time &nbsp; &nbsp; &nbsp; &nbsp;| time</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | time &nbsp; &nbsp; &nbsp; &nbsp;| time</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| time &nbsp; &nbsp; &nbsp; &nbsp;| time</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | time &nbsp; &nbsp; &nbsp; &nbsp;| time</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| time &nbsp; &nbsp; &nbsp; &nbsp;| time</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | timetz &nbsp; &nbsp; &nbsp;| timetz</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | timetz &nbsp; &nbsp; &nbsp;| timetz</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| timetz &nbsp; &nbsp; &nbsp;| timetz</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | timetz &nbsp; &nbsp; &nbsp;| timetz</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| timetz &nbsp; &nbsp; &nbsp;| timetz</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | float4 &nbsp; &nbsp; &nbsp;| float8</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | float4 &nbsp; &nbsp; &nbsp;| float8</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | float4 &nbsp; &nbsp; &nbsp;| float8</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| float4 &nbsp; &nbsp; &nbsp;| float8</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| float4 &nbsp; &nbsp; &nbsp;| float8</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | float8 &nbsp; &nbsp; &nbsp;| float4</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | float8 &nbsp; &nbsp; &nbsp;| float4</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | float8 &nbsp; &nbsp; &nbsp;| float4</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| float8 &nbsp; &nbsp; &nbsp;| float4</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| float8 &nbsp; &nbsp; &nbsp;| float4</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | timestamptz | timestamptz</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | timestamptz | timestamptz</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| timestamptz | timestamptz</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | timestamptz | timestamptz</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| timestamptz | timestamptz</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | interval &nbsp; &nbsp;| interval</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | interval &nbsp; &nbsp;| interval</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| interval &nbsp; &nbsp;| interval</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | interval &nbsp; &nbsp;| interval</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| interval &nbsp; &nbsp;| interval</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | macaddr &nbsp; &nbsp; | macaddr</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | macaddr &nbsp; &nbsp; | macaddr</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| macaddr &nbsp; &nbsp; | macaddr</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | macaddr &nbsp; &nbsp; | macaddr</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| macaddr &nbsp; &nbsp; | macaddr</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | inet &nbsp; &nbsp; &nbsp; &nbsp;| inet</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | inet &nbsp; &nbsp; &nbsp; &nbsp;| inet</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| inet &nbsp; &nbsp; &nbsp; &nbsp;| inet</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | inet &nbsp; &nbsp; &nbsp; &nbsp;| inet</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| inet &nbsp; &nbsp; &nbsp; &nbsp;| inet</font></div><div><font size="2"   >&nbsp;&lt;&lt; &nbsp; &nbsp; &nbsp;| inet &nbsp; &nbsp; &nbsp; &nbsp;| inet  <span style="line-height: 21px;"   >is contained by</span></font></div><div><font size="2"   >&nbsp;&lt;&lt;= &nbsp; &nbsp; | inet &nbsp; &nbsp; &nbsp; &nbsp;| inet  <span style="line-height: 21px;"   >is contained by or equals</span></font></div><div><font size="2"   >&nbsp;&gt;&gt; &nbsp; &nbsp; &nbsp;| inet &nbsp; &nbsp; &nbsp; &nbsp;| inet  <span style="line-height: 21px;"   >contains</span></font></div><div><font size="2"   >&nbsp;&gt;&gt;= &nbsp; &nbsp; | inet &nbsp; &nbsp; &nbsp; &nbsp;| inet  <span style="line-height: 21px;"   >contains or equals</span></font></div><div><font size="2"   >&nbsp;&amp;&amp; &nbsp; &nbsp; &nbsp;| inet &nbsp; &nbsp; &nbsp; &nbsp;| inet  <span style="line-height: 21px;"   >contains or is contained by</span></font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | numeric &nbsp; &nbsp; | numeric</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | numeric &nbsp; &nbsp; | numeric</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| numeric &nbsp; &nbsp; | numeric</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | numeric &nbsp; &nbsp; | numeric</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| numeric &nbsp; &nbsp; | numeric</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | bit &nbsp; &nbsp; &nbsp; &nbsp; | bit</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | bit &nbsp; &nbsp; &nbsp; &nbsp; | bit</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | bit &nbsp; &nbsp; &nbsp; &nbsp; | bit</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| bit &nbsp; &nbsp; &nbsp; &nbsp; | bit</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| bit &nbsp; &nbsp; &nbsp; &nbsp; | bit</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | varbit &nbsp; &nbsp; &nbsp;| varbit</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | varbit &nbsp; &nbsp; &nbsp;| varbit</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | varbit &nbsp; &nbsp; &nbsp;| varbit</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| varbit &nbsp; &nbsp; &nbsp;| varbit</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| varbit &nbsp; &nbsp; &nbsp;| varbit</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | int2 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | int2 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | int2 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| int2 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| int2 &nbsp; &nbsp; &nbsp; &nbsp;| int8</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | int8 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | int8 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | int8 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| int8 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| int8 &nbsp; &nbsp; &nbsp; &nbsp;| int2</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | bytea &nbsp; &nbsp; &nbsp; | bytea</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | bytea &nbsp; &nbsp; &nbsp; | bytea</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| bytea &nbsp; &nbsp; &nbsp; | bytea</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | bytea &nbsp; &nbsp; &nbsp; | bytea</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| bytea &nbsp; &nbsp; &nbsp; | bytea</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | timestamp &nbsp; | timestamp</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | timestamp &nbsp; | timestamp</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| timestamp &nbsp; | timestamp</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | timestamp &nbsp; | timestamp</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| timestamp &nbsp; | timestamp</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | date &nbsp; &nbsp; &nbsp; &nbsp;| timestamp</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| date &nbsp; &nbsp; &nbsp; &nbsp;| timestamp</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | date &nbsp; &nbsp; &nbsp; &nbsp;| timestamp</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| date &nbsp; &nbsp; &nbsp; &nbsp;| timestamp</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | date &nbsp; &nbsp; &nbsp; &nbsp;| timestamp</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | date &nbsp; &nbsp; &nbsp; &nbsp;| timestamptz</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| date &nbsp; &nbsp; &nbsp; &nbsp;| timestamptz</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | date &nbsp; &nbsp; &nbsp; &nbsp;| timestamptz</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| date &nbsp; &nbsp; &nbsp; &nbsp;| timestamptz</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | date &nbsp; &nbsp; &nbsp; &nbsp;| timestamptz</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | timestamp &nbsp; | date</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| timestamp &nbsp; | date</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | timestamp &nbsp; | date</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| timestamp &nbsp; | date</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | timestamp &nbsp; | date</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | timestamptz | date</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| timestamptz | date</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | timestamptz | date</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| timestamptz | date</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | timestamptz | date</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | timestamp &nbsp; | timestamptz</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| timestamp &nbsp; | timestamptz</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | timestamp &nbsp; | timestamptz</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| timestamp &nbsp; | timestamptz</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | timestamp &nbsp; | timestamptz</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | timestamptz | timestamp</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| timestamptz | timestamp</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | timestamptz | timestamp</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| timestamptz | timestamp</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | timestamptz | timestamp</font></div><div><font size="2"   >&nbsp;&lt;&lt;| &nbsp; &nbsp; | box &nbsp; &nbsp; &nbsp; &nbsp; | box  <span style="line-height: 21px;"   >Is strictly below?</span></font></div><div><font size="2"   >&nbsp;&amp;&lt;| &nbsp; &nbsp; | box &nbsp; &nbsp; &nbsp; &nbsp; | box  <span style="line-height: 21px;"   >Does not extend above?</span></font></div><div><font size="2"   >&nbsp;|&amp;&gt; &nbsp; &nbsp; | box &nbsp; &nbsp; &nbsp; &nbsp; | box  <span style="line-height: 21px;"   >Does not extend below?</span></font></div><div><font size="2"   >&nbsp;|&gt;&gt; &nbsp; &nbsp; | box &nbsp; &nbsp; &nbsp; &nbsp; | box  <span style="line-height: 21px;"   >Is strictly above?</span></font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | uuid &nbsp; &nbsp; &nbsp; &nbsp;| uuid</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | uuid &nbsp; &nbsp; &nbsp; &nbsp;| uuid</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | uuid &nbsp; &nbsp; &nbsp; &nbsp;| uuid</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| uuid &nbsp; &nbsp; &nbsp; &nbsp;| uuid</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| uuid &nbsp; &nbsp; &nbsp; &nbsp;| uuid</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | pg_lsn &nbsp; &nbsp; &nbsp;| pg_lsn</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | pg_lsn &nbsp; &nbsp; &nbsp;| pg_lsn</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | pg_lsn &nbsp; &nbsp; &nbsp;| pg_lsn</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| pg_lsn &nbsp; &nbsp; &nbsp;| pg_lsn</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| pg_lsn &nbsp; &nbsp; &nbsp;| pg_lsn</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | anyrange &nbsp; &nbsp;| anyrange</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | anyrange &nbsp; &nbsp;| anyrange</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| anyrange &nbsp; &nbsp;| anyrange</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| anyrange &nbsp; &nbsp;| anyrange</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | anyrange &nbsp; &nbsp;| anyrange</font></div><div><font size="2"   >&nbsp;&amp;&amp; &nbsp; &nbsp; &nbsp;| anyrange &nbsp; &nbsp;| anyrange  <span style="line-height: 21px;"   >overlap (have points in common)</span></font></div><div><font size="2"   >&nbsp;@&gt; &nbsp; &nbsp; &nbsp;| anyrange &nbsp; &nbsp;| anyelement  <span style="line-height: 21px;"   >contains element</span></font></div><div><font size="2"   >&nbsp;@&gt; &nbsp; &nbsp; &nbsp;| anyrange &nbsp; &nbsp;| anyrange  <span style="line-height: 21px;"   >contains range</span></font></div><div><font size="2"   >&nbsp;&lt;@ &nbsp; &nbsp; &nbsp;| anyrange &nbsp; &nbsp;| anyrange  <span style="line-height: 21px;"   >range is contained by</span></font></div><div><font size="2"   >&nbsp;&lt;&lt; &nbsp; &nbsp; &nbsp;| anyrange &nbsp; &nbsp;| anyrange  <span style="line-height: 21px;"   >strictly left of</span></font></div><div><font size="2"   >&nbsp;&gt;&gt; &nbsp; &nbsp; &nbsp;| anyrange &nbsp; &nbsp;| anyrange  <span style="line-height: 21px;"   >strictly right of</span></font></div><div><font size="2"   >&nbsp;&amp;&lt; &nbsp; &nbsp; &nbsp;| anyrange &nbsp; &nbsp;| anyrange  <span style="line-height: 21px;"   >does not extend to the right of</span></font></div><div><font size="2"   >&nbsp;&amp;&gt; &nbsp; &nbsp; &nbsp;| anyrange &nbsp; &nbsp;| anyrange  <span style="line-height: 21px;"   >does not extend to the left of</span></font></div><div><font size="2"   >&nbsp;-|- &nbsp; &nbsp; | anyrange &nbsp; &nbsp;| anyrange  <span style="line-height: 21px;"   >is adjacent to</span></font></div><div><font size="2"   >(237 rows)</font></div><p></p></pre></div><div><br></div><div>操作符含义详见：</div><div><a target="_blank" rel="nofollow" href="http://www.postgresql.org/docs/devel/static/functions.html"   >http://www.postgresql.org/docs/devel/static/functions.html</a></div><wbr><div><br></div>[参考]<wbr><div>1.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=b0b7be61337fc64147f2ad0af5bf2c0e6b8a709f"   >http://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=b0b7be61337fc64147f2ad0af5bf2c0e6b8a709f</a></div><div>2.&nbsp;<a target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201531931956500/"   >http://blog.163.com/digoal@126/blog/static/163877040201531931956500/</a><a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://git.postgresql.org/gitweb/?p=postgresql.git;a=commit;h=b0b7be61337fc64147f2ad0af5bf2c0e6b8a709f"   ><br></a><span style="line-height: 28px;"   >
</span><a style="line-height: 28px;" rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="PostgreSQL 9.5 new feature - lets BRIN be used with R-Tree-like indexing strategies For inclusion opclasses - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div></div>
	</div>
</div>
</body>
</html>
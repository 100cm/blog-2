<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">python class & inherit</h2>
	<h5 id="">2015-02-02 12:18:21&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/16387704020151211444690/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;">类定义举例<div><pre class="prettyprint"   ><p></p><div><font size="2"   >class Human:</font></div><div><font size="2"   >&nbsp;&nbsp;<span style="line-height: 28px;"   ># self有且必须有, 而且要放第一个参数的位置, 而且所有的方法也需要self放在第一位置.</span></font></div><div><font size="2"   >&nbsp; def __init__(self, v1, v2, v3):</font></div><div><font size="2"   >&nbsp; &nbsp; self.name = v1</font></div><div><font size="2"   >&nbsp; &nbsp; self.sex = v2</font></div><div><font size="2"   >&nbsp; &nbsp; self.age = v3</font></div><div><font size="2"   >&nbsp; def how_old(self):</font></div><div><font size="2"   >&nbsp; &nbsp; return(self.age)</font></div><p></p></pre></div><div><br></div><div><div>实例化</div><div><div style="line-height: 28px;"   ><pre class="prettyprint"   ><p></p><div><div style="line-height: 28px;"   ><font size="2"   >&gt;&gt;&gt; digoal=Human('digoal','male',32)</font></div><div style="line-height: 28px;"   ><font size="2"   >&gt;&gt;&gt; digoal.name</font></div><div style="line-height: 28px;"   ><font size="2"   >'digoal'</font></div><div style="line-height: 28px;"   ><font size="2"   >&gt;&gt;&gt; digoal.sex</font></div><div style="line-height: 28px;"   ><font size="2"   >'male'</font></div><div style="line-height: 28px;"   ><font size="2"   >&gt;&gt;&gt; digoal.age</font></div><div style="line-height: 28px;"   ><font size="2"   >32</font></div><div style="line-height: 28px;"   ><font size="2"   >&gt;&gt;&gt; digoal.how_old()</font></div><div style="line-height: 28px;"   ><font size="2"   >32</font></div></div><div style="line-height: 28px;"   ><div style="line-height: 28px;"   ><font size="2"   >&gt;&gt;&gt; digoal.age=100</font></div><div style="line-height: 28px;"   ><font size="2"   >&gt;&gt;&gt; digoal.how_old()</font></div><div style="line-height: 28px;"   ><font size="2"   >100</font></div></div><p></p></pre></div></div><div style="line-height: 28px;"   ><div style="line-height: 28px;"   >使用dir()函数返回对象内的方法, 变量等.</div><div style="line-height: 28px;"   ><div style="line-height: 28px;"   ><pre class="prettyprint"   ><p></p><div style="line-height: 28px;"   ><font size="2"   >&gt;&gt;&gt; dir(digoal)</font></div><div style="line-height: 28px;"   ><font size="2"   >['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'how_old', 'name', 'sex']</font></div><p></p></pre></div><div style="line-height: 28px;"   >不带参数输出的是当前的变量</div><div style="line-height: 28px;"   ><div style="line-height: 28px;"   ><pre class="prettyprint"   ><p></p><div style="line-height: 28px;"   ><font size="2"   >&gt;&gt;&gt; a=1</font></div><div style="line-height: 28px;"   ><font size="2"   >&gt;&gt;&gt; dir()</font></div><div style="line-height: 28px;"   ><font size="2"   >['__builtins__', '__doc__', '__loader__', '__name__', '__package__', '__spec__', 'a']</font></div><p></p></pre></div></div><div style="line-height: 28px;"   ><br></div><div style="line-height: 28px;"   >输出变量类型</div><div style="line-height: 28px;"   ><pre class="prettyprint"   ><p></p><div style="line-height: 28px;"   ><font size="2"   >&gt;&gt;&gt; type(digoal)</font></div><div style="line-height: 28px;"   ><font size="2"   >&lt;class '__main__.Human'&gt;</font></div><p></p></pre></div><div style="line-height: 28px;"   >输出变量位置</div><div style="line-height: 28px;"   ><pre class="prettyprint"   ><p></p><div style="line-height: 28px;"   ><font size="2"   >&gt;&gt;&gt; digoal</font></div><div style="line-height: 28px;"   ><font size="2"   >&lt;__main__.Human object at 0x7fb4bf5aabe0&gt;</font></div><p></p></pre></div></div></div><div><br></div><div>继承</div></div><div>例如扩展list, 使之带name属性.</div><div>类名称中添加扩展类参数, 如下.</div><div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >&gt;&gt;&gt; class NamedList(list):</font></div><div><font size="2"   >... &nbsp; def __init__(self, v_name='',v_l=[]):</font></div><div><font size="2"   >... &nbsp; &nbsp; list.__init__([]) &nbsp; &nbsp; &nbsp;# 扩展类list初始化</font></div><div><font size="2"   >... &nbsp; &nbsp; self.name=v_name</font></div><div><font size="2"   >... &nbsp; &nbsp; self.extend(v_l)</font></div><div><font size="2"   >...&nbsp;</font></div><div><font size="2"   >&gt;&gt;&gt; a=NamedList('abc')</font></div><div><font size="2"   >&gt;&gt;&gt; a.name</font></div><div><font size="2"   >'abc'</font></div><p></p></pre></div><div>NamedList包含了list的所有变量和方法.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >&gt;&gt;&gt; dir(a)</font></div><div><font size="2"   >['__add__', '__class__', '__contains__', '__delattr__', '__delitem__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__gt__', '__hash__', '__iadd__', '__imul__', '__init__', '__iter__', '__le__', '__len__', '__lt__', '__module__', '__mul__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__reversed__', '__rmul__', '__setattr__', '__setitem__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'append', 'clear', 'copy', 'count', 'extend', 'index', 'insert', 'name', 'pop', 'remove', 'reverse', 'sort']</font></div><div><font size="2"   >&gt;&gt;&gt; a.extend([1,2,3,4])</font></div><div><font size="2"   >&gt;&gt;&gt; a</font></div><div><font size="2"   >[1, 2, 3, 4]</font></div><div><font size="2"   >&gt;&gt;&gt; a.reverse()</font></div><div><font size="2"   >&gt;&gt;&gt; a</font></div><div><font size="2"   >[4, 3, 2, 1]</font></div><p></p></pre></div></div><div><br></div><div>[其他]</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >1. Create a empty dictionary using the dict() &nbsp;factory function or using {} .</font></div><div><font size="2"   >创建空字典(类似json), 使用dict()构造函数, 或{}构造器</font></div><div><font size="2"   >例子 :&nbsp;</font></div><div><font size="2"   >To access the value associated with the key Name in a dictionary called person, use the familiar square bracket notation: person['Name'] .</font></div><div><font size="2"   >Like list and set, a Python's dictionary dynamically grows as new data is added to the data structure.</font></div><div><font size="2"   >Populate a dictionary as you go:&nbsp;</font></div><div><font size="2"   >&nbsp; new_d = {} &nbsp;or new_d = dict() and then&nbsp;</font></div><div><font size="2"   >&nbsp; d['Name'] = 'Eric Idle'&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; or do the same thing all in the one go:&nbsp;</font></div><div><font size="2"   >&nbsp; new_d = {'Name': 'Eric Idle'}</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >2. The class keyword lets you define a class.</font></div><div><font size="2"   >定义类, 使用class关键字, 一般类名称大写开头,&nbsp;</font></div><div><font size="2"   >继承类需要在类名称后加上继承类名作为参数例如</font></div><div><font size="2"   >class NamedList(list):</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >3. Class methods (your code) are defined in much the same way as functions, that is, with the def keyword.</font></div><div><font size="2"   >   Class attributes (your data) are just like variables that exist within object instances.</font></div><div><font size="2"   >   The __init__() &nbsp;method can be defined within a class to initialize object instances.</font></div><div><span style="line-height: 28px;"   ><font size="2"   >   Every method defined in a class must provide self as its first argument.</font></span></div><div><font size="2"   >类方法定义和函数定义类似, 使用def method_name(self, 其他参数):</font></div><div><font size="2"   >类方法必须使用self参数作为第一个参数.</font></div><div><font size="2"   >__init__()用于创建实例时初始化实例.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >4. Every attribute in a class must be prefixed with self. &nbsp;in order to associate it data with its instance.</font></div><div><font size="2"   >类的定义中, 所有类的属性都必须以self开头. 例如self.name</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >5. Classes can be built from scratch or can inherit from Python's built-in classes or from other custom classes.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >6. Classes can be put into a Python module and uploaded to PyPI.</font></div></div><div><font size="2"   >类可以放到模块中, 并upload到PyPI.</font></div><p></p></pre></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="python class  inherit - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
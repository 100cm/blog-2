CentOS 6.x x64  
  
### gcc
#### gmp
https://gmplib.org/#DOWNLOAD  
  
```
cd ~
wget https://gmplib.org/download/gmp/gmp-6.1.1.tar.bz2
tar -jxvf gmp-6.1.1.tar.bz2
cd gmp-6.1.1
./configure --prefix=/home/dege.zzz/app/gmp
make -j 32
make install

export LD_LIBRARY_PATH=/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
```
  
#### mpfr
http://www.mpfr.org/mpfr-current/#download  
  
```
cd ~
wget http://www.mpfr.org/mpfr-current/mpfr-3.1.4.tar.bz2
tar -jxvf mpfr-3.1.4.tar.bz2
cd mpfr-3.1.4
./configure --prefix=/home/dege.zzz/app/mpfr --with-gmp-include=/home/dege.zzz/app/gmp/include --with-gmp-lib=/home/dege.zzz/app/gmp/lib
make -j 32 
make install

export LD_LIBRARY_PATH=/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
```
  
#### mpc
http://www.multiprecision.org/  
  
```
cd ~
wget ftp://ftp.gnu.org/gnu/mpc/mpc-1.0.3.tar.gz
tar -zxvf mpc-1.0.3.tar.gz
cd mpc-1.0.3
./configure --prefix=/home/dege.zzz/app/mpc --with-gmp=/home/dege.zzz/app/gmp --with-mpfr=/home/dege.zzz/app/mpfr
make -j 32
make install
export LD_LIBRARY_PATH=/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
```
  
#### isl
```
cd ~
wget ftp://gcc.gnu.org/pub/gcc/infrastructure/isl-0.16.1.tar.bz2
tar -jxvf isl-0.16.1.tar.bz2
cd isl-0.16.1
./configure --prefix=/home/dege.zzz/app/isl --with-gmp-prefix=/home/dege.zzz/app/gmp
make -j 32
make install
export LD_LIBRARY_PATH=/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
```
  
#### cloog
http://www.cloog.org/  
  
```
cd ~
wget http://www.bastoul.net/cloog/pages/download/count.php3?url=./cloog-0.18.4.tar.gz
tar -zxvf cloog-0.18.4.tar.gz
cd cloog-0.18.4
./configure --prefix=/home/dege.zzz/app/cloog --with-isl-prefix=/home/dege.zzz/app/isl --with-gmp-prefix=/home/dege.zzz/app/gmp
make -j 32
make install
export LD_LIBRARY_PATH=/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
export PATH=/home/dege.zzz/app/cloog/bin:$PATH
```
  
#### gcc
https://gcc.gnu.org/gcc-4.9/  
  
```
wget http://gcc.skazkaforyou.com/releases/gcc-4.9.4/gcc-4.9.4.tar.bz2
tar -jxvf gcc-4.9.4.tar.bz2
cd gcc-4.9.4
LDFLAGS="-L/home/dege.zzz/app/cloog/lib -L/home/dege.zzz/app/mpc/lib -L/home/dege.zzz/app/mpfr/lib -L/home/dege.zzz/app/gmp/lib -L/home/dege.zzz/app/isl/lib" ./configure --prefix=/home/dege.zzz/app/gcc4.9.4 --with-mpc=/home/dege.zzz/app/mpc --with-mpfr=/home/dege.zzz/app/mpfr --with-gmp=/home/dege.zzz/app/gmp --with-cloog=/home/dege.zzz/app/cloog --with-isl=/home/dege.zzz/app/isl --disable-isl-version-check --disable-multilib
make -j 32
make install
export LD_LIBRARY_PATH=/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
export PATH=/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
### cmake
```
cd ~
wget https://cmake.org/files/v3.6/cmake-3.6.1.tar.gz
tar -zxvf cmake-3.6.1.tar.gz
cd cmake-3.6.1
./configure --parallel=32 --prefix=/home/dege.zzz/app/cmake
make -j 32
make install

export PATH=/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
### json-c-devl
```
cd ~
wget http://oss.metaparadigm.com/json-c/json-c-0.9.tar.gz
tar -zxvf json-c-0.9.tar.gz
cd json-c-0.9
./configure --prefix=/home/dege.zzz/app/json-c-devel 
make
make install
ln -s /home/dege.zzz/app/json-c-devel/include/json /home/dege.zzz/app/json-c-devel/include/json-c

export LD_LIBRARY_PATH=/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
```
  
### boost
```
cd ~
wget http://sourceforge.net/projects/boost/files/boost/1.56.0/boost_1_56_0.tar.bz2
tar -jxvf boost_1_56_0.tar.bz2
cd boost_1_56_0
./bootstrap.sh --prefix=/home/dege.zzz/app/boost
./b2 --prefix=/home/dege.zzz/app/boost link=static runtime-link=static variant=release
./b2 install
export LD_LIBRARY_PATH=/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
export PATH=/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
### thrift
```
cd ~
wget http://archive.apache.org/dist/thrift/0.9.1/thrift-0.9.1.tar.gz
tar -zxvf thrift-0.9.1.tar.gz
cd thrift-0.9.1
./configure --prefix=/home/dege.zzz/app/thrift --with-boost=/home/dege.zzz/app/boost --without-tests
make -j 32
sudo make install
export LD_LIBRARY_PATH=/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
export PATH=/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
### protobuf
```
sudo
# yum install -y autoconf automake libtool curl make gcc-c++ unzip

cd ~
git clone https://github.com/google/protobuf
cd protobuf
git checkout 3.0.0-GA
./autogen.sh
./configure --prefix=/home/dege.zzz/app/protobuf 
make -j 32
make check -j 32
make install
export LD_LIBRARY_PATH=/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
export PATH=/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
### curl
```
cd ~
wget https://curl.haxx.se/download/curl-7.44.0.tar.gz
tar -zxvf curl-7.44.0.tar.gz
cd curl-7.44.0
./configure --prefix=/home/dege.zzz/app/curl
make -j 32
make install -j 32
export LD_LIBRARY_PATH=/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
export PATH=/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
### JDK
```
cd ~
http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html
get   
Java SE Development Kit 8u102
Linux x64	173.03 MB  	jdk-8u102-linux-x64.tar.gz

tar -zxvf jdk-8u102-linux-x64.tar.gz
mv jdk1.8.0_102 /home/dege.zzz/app/

export JAVA_HOME=/home/dege.zzz/app/jdk1.8.0_102
```
  
### apache-maven
http://maven.apache.org/download.cgi  
  
```
wget http://mirrors.cnnic.cn/apache/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz
tar -zxvf apache-maven-3.3.9-bin.tar.gz
mv apache-maven-3.3.9 /home/dege.zzz/app/

export LD_LIBRARY_PATH=/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH

export PATH=/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
```
or you can  
-------------
cd ~
sudo
# wget http://repos.fedorapeople.org/repos/dchen/apache-maven/epel-apache-maven.repo -O /etc/yum.repos.d/epel-apache-maven.repo
# sed -i s/\$releasever/6/g /etc/yum.repos.d/epel-apache-maven.repo
# yum install -y apache-maven
--------------
```
  
### python pip paramiko pycrypto
```
cd ~
wget https://www.python.org/ftp/python/2.7.12/Python-2.7.12.tgz
tar -zxvf Python-2.7.12.tgz
cd Python-2.7.12
./configure --prefix=/home/dege.zzz/app/python2.7 --enable-shared
make -j 32
make install

export LD_LIBRARY_PATH=/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH

export PATH=/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
sudo   
```
export LD_LIBRARY_PATH=/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
export PATH=/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH

# vi ~/.pip/pip.conf
[global]
trusted-host=mirrors.aliyun.com
index-url=http://mirrors.aliyun.com/pypi/simple/

wget https://bootstrap.pypa.io/get-pip.py

sudo python get-pip.py

sudo pip --retries=50 --timeout=300 install simplejson unittest2 pycrypto pygresql pyyaml lockfile paramiko psi

sudo pip --retries=50 --timeout=300 install http://darcs.idyll.org/~t/projects/figleaf-0.6.1.tar.gz

sudo pip --retries=50 --timeout=300 install http://sourceforge.net/projects/pychecker/files/pychecker/0.8.19/pychecker-0.8.19.tar.gz
```
  
### yum 
```
yum install --skip-broken -y texlive-latex libgfortran gcc-gfortran make gperf snappy-devel bzip2-devel libevent-devel libuuid-devel libgsasl-devel libxml2-devel readline-devel openssl-devel bison apr-devel libyaml-devel flex lcov libesmtp-devel
```
  
## os
```
mkdir -p /data01/corefiles

chmod 777 /data01/corefiles


vi /etc/sysctl.conf

# add by digoal.zhou
fs.aio-max-nr = 1048576
fs.file-max = 76724600
kernel.core_pattern= /data01/corefiles/core_%e_%u_%t_%s.%p         # /data01/corefiles事先建好，权限777
kernel.sem = 4096 2147483647 2147483646 512000    # 信号量, ipcs -l 或 -u 查看，每16个进程一组，每组信号量需要17个信号量。
kernel.shmall = 107374182      # 所有共享内存段相加大小限制(建议内存的80%)
kernel.shmmax = 274877906944   # 最大单个共享内存段大小(建议为内存一半), >9.2的版本已大幅降低共享内存的使用
kernel.shmmni = 819200         # 一共能生成多少共享内存段，每个PG数据库集群至少2个共享内存段
net.core.netdev_max_backlog = 10000
net.core.rmem_default = 262144       # The default setting of the socket receive buffer in bytes.
net.core.rmem_max = 4194304          # The maximum receive socket buffer size in bytes
net.core.wmem_default = 262144       # The default setting (in bytes) of the socket send buffer.
net.core.wmem_max = 4194304          # The maximum send socket buffer size in bytes.
net.core.somaxconn = 4096
net.ipv4.tcp_max_syn_backlog = 4096
net.ipv4.tcp_keepalive_intvl = 20
net.ipv4.tcp_keepalive_probes = 3
net.ipv4.tcp_keepalive_time = 60
net.ipv4.tcp_mem = 8388608 12582912 16777216
net.ipv4.tcp_fin_timeout = 5
net.ipv4.tcp_synack_retries = 2
net.ipv4.tcp_syncookies = 1    # 开启SYN Cookies。当出现SYN等待队列溢出时，启用cookie来处理，可防范少量的SYN攻击
net.ipv4.tcp_timestamps = 1    # 减少time_wait
net.ipv4.tcp_tw_recycle = 0    # 如果=1则开启TCP连接中TIME-WAIT套接字的快速回收，但是NAT环境可能导致连接失败，建议服务端关闭它
net.ipv4.tcp_tw_reuse = 1      # 开启重用。允许将TIME-WAIT套接字重新用于新的TCP连接
net.ipv4.tcp_max_tw_buckets = 262144
net.ipv4.tcp_rmem = 8192 87380 16777216
net.ipv4.tcp_wmem = 8192 65536 16777216
net.nf_conntrack_max = 1200000
net.netfilter.nf_conntrack_max = 1200000
vm.dirty_background_bytes = 4096000000       #  系统脏页到达这个值，系统后台刷脏页调度进程 pdflush（或其他） 自动将(dirty_expire_centisecs/100）秒前的脏页刷到磁盘
vm.dirty_expire_centisecs = 6000             #  比这个值老的脏页，将被刷到磁盘。6000表示60秒。
vm.dirty_ratio = 80                          #  如果系统进程刷脏页太慢，使得系统脏页超过内存 80 % 时，则用户进程如果有写磁盘的操作（如fsync, fdatasync等调用），则需要主动把系统脏页刷出。
vm.dirty_writeback_centisecs = 50            #  pdflush（或其他）后台刷脏页进程的唤醒间隔， 50表示0.5秒。
vm.extra_free_kbytes = 4096000
vm.min_free_kbytes = 2097152
vm.mmap_min_addr = 65536
vm.overcommit_memory = 0     #  在分配内存时，允许少量over malloc
vm.overcommit_ratio = 90     #  当overcommit_memory = 2 时，用于参与计算允许指派的内存大小。
vm.swappiness = 0            #  关闭交换分区
vm.zone_reclaim_mode = 0     # 禁用 numa, 或者在vmlinux中禁止.
net.ipv4.ip_local_port_range = 40000 65535    # 本地自动分配的TCP, UDP端口号范围

sysctl -p

vi /etc/security/limits.conf
* soft    nofile  1024000
* hard    nofile  1024000
* soft    nproc   unlimited
* hard    nproc   unlimited
* soft    core    unlimited
* hard    core    unlimited
* soft    memlock unlimited
* hard    memlock unlimited

rm -f /etc/security/limits.d/90-nproc.conf
```
  
## hadoop
```
cd ~
https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html  

http://apache.fayea.com/hadoop/common/stable/  

wget http://apache.fayea.com/hadoop/common/stable/hadoop-2.7.3.tar.gz
tar -zxvf hadoop-2.7.3.tar.gz
mv hadoop-2.7.3 /home/dege.zzz/app/
cd /home/dege.zzz/app/hadoop-2.7.3

$ bin/hadoop
Usage: hadoop [--config confdir] [COMMAND | CLASSNAME]
  CLASSNAME            run the class named CLASSNAME
 or
  where COMMAND is one of:
  fs                   run a generic filesystem user client
  version              print the version
  jar <jar>            run a jar file
                       note: please use "yarn jar" to launch
                             YARN applications, not this command.
  checknative [-a|-h]  check native hadoop and compression libraries availability
  distcp <srcurl> <desturl> copy file or directories recursively
  archive -archiveName NAME -p <parent path> <src>* <dest> create a hadoop archive
  classpath            prints the class path needed to get the
  credential           interact with credential providers
                       Hadoop jar and the required libraries
  daemonlog            get/set the log level for each daemon
  trace                view and modify Hadoop tracing settings

Most commands print help when invoked w/o parameters.
```
  
### hdfs
```
vi etc/hadoop/core-site.xml
<configuration>
    <property>
        <name>fs.defaultFS</name>
        <value>hdfs://localhost:8020</value>
    </property>
</configuration>

vi etc/hadoop/hdfs-site.xml
<configuration>
    <property>
        <name>dfs.replication</name>
        <value>1</value>
    </property>
</configuration>


$ cd ~
$ ssh-keygen -t dsa -P '' -f ~/.ssh/id_dsa
$ cat ~/.ssh/id_dsa.pub >> ~/.ssh/authorized_keys
$ chmod 0600 ~/.ssh/authorized_keys
$ ssh localhost date
Wed Aug 31 10:56:24 CST 2016


$ bin/hdfs namenode -format


$ vi etc/hadoop/hadoop-env.sh
#export JAVA_HOME=${JAVA_HOME}
export JAVA_HOME=/home/dege.zzz/app/jdk1.8.0_102
export HADOOP_HOME=/home/dege.zzz/app/hadoop-2.7.3


$sbin/start-dfs.sh
Starting namenodes on [localhost]
localhost: starting namenode, logging to /u01/dege.zzz/dege.zzz/app/hadoop-2.7.3/logs/hadoop-dege.zzz-namenode-rds097224085.tbc.out
localhost: starting datanode, logging to /u01/dege.zzz/dege.zzz/app/hadoop-2.7.3/logs/hadoop-dege.zzz-datanode-rds097224085.tbc.out
Starting secondary namenodes [0.0.0.0]
0.0.0.0: starting secondarynamenode, logging to /u01/dege.zzz/dege.zzz/app/hadoop-2.7.3/logs/hadoop-dege.zzz-secondarynamenode-rds097224085.tbc.out


view http://xxx.xxx.xxx.xxx:50070/
```
  
### yarn
如果需要使用它来做资源管理的话  
  
YARN is only needed when you want to use YARN as the global resource manager  
  
```
$ cp etc/hadoop/mapred-site.xml.template etc/hadoop/mapred-site.xml
$ vi etc/hadoop/mapred-site.xml

<configuration>
    <property>
        <name>mapreduce.framework.name</name>
        <value>yarn</value>
    </property>
</configuration>

$ vi etc/hadoop/yarn-site.xml
<configuration>
    <property>
        <name>yarn.nodemanager.aux-services</name>
        <value>mapreduce_shuffle</value>
    </property>
</configuration>

$ sbin/start-yarn.sh
starting yarn daemons
starting resourcemanager, logging to /u01/dege.zzz/dege.zzz/app/hadoop-2.7.3/logs/yarn-dege.zzz-resourcemanager-rds097224085.tbc.out
localhost: starting nodemanager, logging to /u01/dege.zzz/dege.zzz/app/hadoop-2.7.3/logs/yarn-dege.zzz-nodemanager-rds097224085.tbc.out


view http://xxx.xxx.xxx.xxx:8088/
```
  
## R
```
cd ~
wget http://zlib.net/zlib-1.2.8.tar.gz
tar -zxvf zlib-1.2.8.tar.gz
cd zlib-1.2.8
./configure --prefix=/home/dege.zzz/app/zlib --64 
make
make install


cd ~
wget http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz
tar -zxvf bzip2-1.0.6.tar.gz
cd bzip2-1.0.6
vi Makefile
CFLAGS=-fPIC -Wall -Winline -O2 -g $(BIGFILES)

make
make install PREFIX=/home/dege.zzz/app/bzip2


cd ~
wget http://tukaani.org/xz/xz-5.2.2.tar.gz
tar -zxvf xz-5.2.2.tar.gz
cd xz-5.2.2
./configure --prefix=/home/dege.zzz/app/xz
make -j 32
make install


cd ~
wget http://downloads.sourceforge.net/project/pcre/pcre/8.39/pcre-8.39.tar.bz2?r=https%3A%2F%2Fsourceforge.net%2Fprojects%2Fpcre%2Ffiles%2Fpcre%2F8.39%2F&ts=1472619017&use_mirror=ncu
tar -jxvf pcre-8.39.tar.bz2
cd pcre-8.39
./configure --prefix=/home/dege.zzz/app/pcre --enable-utf8
make -j 32
make install


cd ~
wget http://ftp.gnu.org/gnu/texinfo/texinfo-6.1.tar.gz
tar -zxvf texinfo-6.1.tar.gz
cd texinfo-6.1
./configure --prefix=/home/dege.zzz/app/texinfo
make -j 32
make install


cd ~
wget http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz
tar -zxvf install-tl-unx.tar.gz
cd install-tl-20160830
./install-tl 

 a [X] Essential programs and files      A [ ] Indic scripts                   
 b [ ] BibTeX additional styles          B [ ] Italian                         
 c [ ] TeX auxiliary programs            C [ ] Japanese                        
 d [ ] ConTeXt and packages              D [ ] Korean                          
 e [ ] Additional fonts                  E [ ] Other languages                 
 f [X] Recommended fonts                 F [ ] Polish                          
 g [ ] Graphics and font utilities       G [ ] Portuguese                      
 h [ ] Additional formats                H [ ] Spanish                         
 i [ ] Games typesetting                 I [X] LaTeX fundamental packages      
 j [ ] Generic additional packages       J [ ] LaTeX additional packages       
 k [ ] Generic recommended packages      K [ ] LaTeX recommended packages      
 l [X] HTML/SGML/XML support             L [ ] LuaTeX packages                 
 m [ ] Humanities packages               M [ ] Mathematics packages            
 n [ ] African scripts                   N [ ] MetaPost and Metafont packages  
 o [ ] Arabic                            O [ ] Music packages                  
 p [ ] Chinese                           P [ ] Omega packages                  
 s [ ] Chinese/Japanese/Korean (base)    S [ ] Graphics, pictures, diagrams    
 t [ ] Cyrillic                          T [ ] Plain TeX packages              
 u [ ] Czech/Slovak                      U [ ] PSTricks                        
 v [X] US and UK English                 V [ ] Publisher styles, theses, etc.  
 w [ ] Other European languages          W [ ] Natural and computer sciences   
 x [ ] French                            X [ ] Windows-only support programs   
 y [ ] German                            Y [ ] XeTeX and packages              
 z [ ] Greek                            
 Z [ ] TeXworks editor; TL includes only the Windows binary


 <1> TEXDIR:       /home/dege.zzz/app/texlive
     support tree: /home/dege.zzz/app/texlive/texmf-dist

 <2> TEXMFLOCAL:     /home/dege.zzz/app/texlive/texmf-local
 <3> TEXMFSYSVAR:    /home/dege.zzz/app/texlive/texmf-var
 <4> TEXMFSYSCONFIG: /home/dege.zzz/app/texlive/texmf-config

 <5> TEXMFVAR:       ~/.texlive2016/texmf-var
 <6> TEXMFCONFIG:    ~/.texlive2016/texmf-config
 <7> TEXMFHOME:      /home/dege.zzz/app/texlive/texmf


mkdir /home/dege.zzz/app/texlive/texmf


export LD_LIBRARY_PATH=/home/dege.zzz/app/texinfo/lib:/home/dege.zzz/app/pcre/lib:/home/dege.zzz/app/xz/lib:/home/dege.zzz/app/bzip2/lib:/home/dege.zzz/app/zlib/lib:/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH

export PATH=/home/dege.zzz/app/texlive/bin/x86_64-linux:/home/dege.zzz/app/texinfo/bin:/home/dege.zzz/app/pcre/bin:/home/dege.zzz/app/xz/bin:/home/dege.zzz/app/bzip2/bin:/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH


cd ~
wget http://mirrors.ctan.org/fonts/inconsolata.zip
unzip inconsolata.zip
mv inconsolata/* /home/dege.zzz/app/texlive/texmf/
mktexlsr /home/dege.zzz/app/texlive/texmf



sudo yum install -y texinfo-tex texinfo



wget https://mirrors.tuna.tsinghua.edu.cn/CRAN/src/base/R-3/R-3.3.1.tar.gz
tar -zxvf R-3.3.1.tar.gz
cd R-3.3.1

CPPFLAGS="-I/home/dege.zzz/app/pcre/include -I/home/dege.zzz/app/xz/include -I/home/dege.zzz/app/zlib/include -I/home/dege.zzz/app/bzip2/include" LDFLAGS="-L/home/dege.zzz/app/texinfo/lib -L/home/dege.zzz/app/pcre/lib -L/home/dege.zzz/app/xz/lib -L/home/dege.zzz/app/bzip2/lib -L/home/dege.zzz/app/zlib/lib" ./configure --prefix=/home/dege.zzz/app/R --enable-R-shlib --enable-R-static-lib --with-x=no --with-libpth-prefix=/home/dege.zzz/app/zlib --with-libpth-prefix=/home/dege.zzz/app/bzip2 --with-libpth-prefix=/home/dege.zzz/app/xz --with-libpth-prefix=/home/dege.zzz/app/pcre --with-libpth-prefix=/home/dege.zzz/app/texinfo 


make -j 32
make install all


export LD_LIBRARY_PATH=/home/dege.zzz/app/R/lib64:/home/dege.zzz/app/texinfo/lib:/home/dege.zzz/app/pcre/lib:/home/dege.zzz/app/xz/lib:/home/dege.zzz/app/bzip2/lib:/home/dege.zzz/app/zlib/lib:/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH

export PATH=/home/dege.zzz/app/R/bin:/home/dege.zzz/app/texlive/bin/x86_64-linux:/home/dege.zzz/app/texinfo/bin:/home/dege.zzz/app/pcre/bin:/home/dege.zzz/app/xz/bin:/home/dege.zzz/app/bzip2/bin:/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
## ORCA
貌似HAWQ是自己编译ORCA  
```
total 28
drwxr-xr-x  5 dege.zzz users 4096 Aug 31 16:08 googletest
-rw-r--r--  1 dege.zzz users   91 Aug 31 16:07 gporca.commit
-rw-r--r--  1 dege.zzz users   89 Aug 31 16:07 gpos.commit
-rw-r--r--  1 dege.zzz users   94 Aug 31 16:07 gp-xerces.commit
-rw-r--r--  1 dege.zzz users   41 Aug 31 16:07 postgres.commit
-rw-r--r--  1 dege.zzz users  374 Aug 31 16:07 README
drwxr-xr-x 14 dege.zzz users 4096 Aug 31 17:11 thrift
```
  
### GPOS
```
cd ~
git clone https://github.com/greenplum-db/gpos
cd gpos
mkdir build
cd build
cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/home/dege.zzz/app/gpos_home ../
make install
export LD_LIBRARY_PATH=/home/dege.zzz/app/gpos_home/lib:/home/dege.zzz/app/R/lib64:/home/dege.zzz/app/texinfo/lib:/home/dege.zzz/app/pcre/lib:/home/dege.zzz/app/xz/lib:/home/dege.zzz/app/bzip2/lib:/home/dege.zzz/app/zlib/lib:/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
```
  
### gp-xerces
```
cd ~
git clone https://github.com/greenplum-db/gp-xerces
cd gp-xerces
mkdir build
cd build
../configure --prefix=/home/dege.zzz/app/gp-xerces_home
make -j 32
make install
export LD_LIBRARY_PATH=/home/dege.zzz/app/gp-xerces_home/lib:/home/dege.zzz/app/gpos_home/lib:/home/dege.zzz/app/R/lib64:/home/dege.zzz/app/texinfo/lib:/home/dege.zzz/app/pcre/lib:/home/dege.zzz/app/xz/lib:/home/dege.zzz/app/bzip2/lib:/home/dege.zzz/app/zlib/lib:/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
export PATH=/home/dege.zzz/app/gp-xerces_home/bin:/home/dege.zzz/app/R/bin:/home/dege.zzz/app/texlive/bin/x86_64-linux:/home/dege.zzz/app/texinfo/bin:/home/dege.zzz/app/pcre/bin:/home/dege.zzz/app/xz/bin:/home/dege.zzz/app/bzip2/bin:/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
### gporca
```
cd ~
git clone https://github.com/greenplum-db/gporca.git
cd gporca
mkdir build
cd build
cmake -D CMAKE_BUILD_TYPE=RELEASE \
-D CMAKE_INSTALL_PREFIX=/home/dege.zzz/app/gporca_home \
-D GPOS_INCLUDE_DIR=/home/dege.zzz/app/gpos_home/include \
-D GPOS_LIBRARY=/home/dege.zzz/app/gpos_home/lib/libgpos.so \
-D XERCES_INCLUDE_DIR=/home/dege.zzz/app/gp-xerces_home/include \
-D XERCES_LIBRARY=/home/dege.zzz/app/gp-xerces_home/lib/libxerces-c.so ../
make -j 32
make install
export LD_LIBRARY_PATH=/home/dege.zzz/app/gporca_home/lib:/home/dege.zzz/app/gp-xerces_home/lib:/home/dege.zzz/app/gpos_home/lib:/home/dege.zzz/app/R/lib64:/home/dege.zzz/app/texinfo/lib:/home/dege.zzz/app/pcre/lib:/home/dege.zzz/app/xz/lib:/home/dege.zzz/app/bzip2/lib:/home/dege.zzz/app/zlib/lib:/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
```
  
## others
### gperf
```
cd ~
wget http://ftp.gnu.org/pub/gnu/gperf/gperf-3.0.4.tar.gz
tar -zxvf gperf-3.0.4.tar.gz
cd gperf-3.0.4
./configure --prefix=/home/dege.zzz/app/gperf
make -j 32
make install

export PATH=/home/dege.zzz/app/gperf/bin:/home/dege.zzz/app/gp-xerces_home/bin:/home/dege.zzz/app/R/bin:/home/dege.zzz/app/texlive/bin/x86_64-linux:/home/dege.zzz/app/texinfo/bin:/home/dege.zzz/app/pcre/bin:/home/dege.zzz/app/xz/bin:/home/dege.zzz/app/bzip2/bin:/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
### snappy
```
cd ~
git clone https://github.com/google/snappy
cd snappy
./autogen.sh
./configure --prefix=/home/dege.zzz/app/snappy
make -j 32
make install
export LD_LIBRARY_PATH=/home/dege.zzz/app/snappy/lib:/home/dege.zzz/app/gporca_home/lib:/home/dege.zzz/app/gp-xerces_home/lib:/home/dege.zzz/app/gpos_home/lib:/home/dege.zzz/app/R/lib64:/home/dege.zzz/app/texinfo/lib:/home/dege.zzz/app/pcre/lib:/home/dege.zzz/app/xz/lib:/home/dege.zzz/app/bzip2/lib:/home/dege.zzz/app/zlib/lib:/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
```
  
### apr
```
cd ~
wget http://mirrors.cnnic.cn/apache//apr/apr-1.5.2.tar.bz2
tar -jxvf apr-1.5.2.tar.bz2
cd apr-1.5.2
./configure --prefix=/home/dege.zzz/app/apr
make
make install

export LD_LIBRARY_PATH=/home/dege.zzz/app/apr/lib:/home/dege.zzz/app/snappy/lib:/home/dege.zzz/app/gporca_home/lib:/home/dege.zzz/app/gp-xerces_home/lib:/home/dege.zzz/app/gpos_home/lib:/home/dege.zzz/app/R/lib64:/home/dege.zzz/app/texinfo/lib:/home/dege.zzz/app/pcre/lib:/home/dege.zzz/app/xz/lib:/home/dege.zzz/app/bzip2/lib:/home/dege.zzz/app/zlib/lib:/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH

export PATH=/home/dege.zzz/app/apr/bin:/home/dege.zzz/app/gperf/bin:/home/dege.zzz/app/gp-xerces_home/bin:/home/dege.zzz/app/R/bin:/home/dege.zzz/app/texlive/bin/x86_64-linux:/home/dege.zzz/app/texinfo/bin:/home/dege.zzz/app/pcre/bin:/home/dege.zzz/app/xz/bin:/home/dege.zzz/app/bzip2/bin:/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
### automake
```
cd ~
wget http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.gz
tar -zxvf autoconf-2.69.tar.gz
cd autoconf-2.69
./configure --prefix=/home/dege.zzz/app/autoconf
make -j 32
make install
export PATH=/home/dege.zzz/app/autoconf/bin:/home/dege.zzz/app/apr/bin:/home/dege.zzz/app/gperf/bin:/home/dege.zzz/app/gp-xerces_home/bin:/home/dege.zzz/app/R/bin:/home/dege.zzz/app/texlive/bin/x86_64-linux:/home/dege.zzz/app/texinfo/bin:/home/dege.zzz/app/pcre/bin:/home/dege.zzz/app/xz/bin:/home/dege.zzz/app/bzip2/bin:/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH


cd ~
wget http://ftp.gnu.org/gnu/automake/automake-1.15.tar.gz
tar -zxvf automake-1.15.tar.gz
cd automake-1.15
./configure --prefix=/home/dege.zzz/app/automake
make -j 32
make install
export PATH=/home/dege.zzz/app/automake/bin:/home/dege.zzz/app/autoconf/bin:/home/dege.zzz/app/apr/bin:/home/dege.zzz/app/gperf/bin:/home/dege.zzz/app/gp-xerces_home/bin:/home/dege.zzz/app/R/bin:/home/dege.zzz/app/texlive/bin/x86_64-linux:/home/dege.zzz/app/texinfo/bin:/home/dege.zzz/app/pcre/bin:/home/dege.zzz/app/xz/bin:/home/dege.zzz/app/bzip2/bin:/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
```
  
### bison
```
cd ~
wget http://ftp.gnu.org/gnu/bison/bison-3.0.4.tar.gz
tar -zxvf bison-3.0.4.tar.gz
cd bison-3.0.4
./configure --prefix=/home/dege.zzz/app/bison
make -j 32
make install

export PATH=/home/dege.zzz/app/bison/bin:/home/dege.zzz/app/automake/bin:/home/dege.zzz/app/autoconf/bin:/home/dege.zzz/app/apr/bin:/home/dege.zzz/app/gperf/bin:/home/dege.zzz/app/gp-xerces_home/bin:/home/dege.zzz/app/R/bin:/home/dege.zzz/app/texlive/bin/x86_64-linux:/home/dege.zzz/app/texinfo/bin:/home/dege.zzz/app/pcre/bin:/home/dege.zzz/app/xz/bin:/home/dege.zzz/app/bzip2/bin:/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH

export LD_LIBRARY_PATH=/home/dege.zzz/app/bison/lib:/home/dege.zzz/app/apr/lib:/home/dege.zzz/app/snappy/lib:/home/dege.zzz/app/gporca_home/lib:/home/dege.zzz/app/gp-xerces_home/lib:/home/dege.zzz/app/gpos_home/lib:/home/dege.zzz/app/R/lib64:/home/dege.zzz/app/texinfo/lib:/home/dege.zzz/app/pcre/lib:/home/dege.zzz/app/xz/lib:/home/dege.zzz/app/bzip2/lib:/home/dege.zzz/app/zlib/lib:/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
```
  
## hawq
\# The Apache HAWQ source code can be obtained from the the following link: 
\# Apache Repo: https://git-wip-us.apache.org/repos/asf/incubator-hawq.git or 
\# GitHub Mirror: https://github.com/apache/incubator-hawq 
  
```
git clone https://git-wip-us.apache.org/repos/asf/incubator-hawq.git

CODE_BASE=`pwd`/incubator-hawq
 
cd $CODE_BASE
```
  
### libhdfs3
```
cd ~
wget ftp://ftp.gnu.org/gnu/gsasl/libgsasl-1.8.0.tar.gz
tar -zxvf libgsasl-1.8.0.tar.gz
cd libgsasl-1.8.0
./configure --prefix=/home/dege.zzz/app/sasl
make -j 32
make install

git clone https://github.com/google/googletest
mkdir build
cd build
cmake -DCMAKE_INSTALL_PREFIX:PATH=/home/dege.zzz/app/google ..
make
make install


export PATH=/home/dege.zzz/app/bison/bin:/home/dege.zzz/app/automake/bin:/home/dege.zzz/app/autoconf/bin:/home/dege.zzz/app/apr/bin:/home/dege.zzz/app/gperf/bin:/home/dege.zzz/app/gp-xerces_home/bin:/home/dege.zzz/app/R/bin:/home/dege.zzz/app/texlive/bin/x86_64-linux:/home/dege.zzz/app/texinfo/bin:/home/dege.zzz/app/pcre/bin:/home/dege.zzz/app/xz/bin:/home/dege.zzz/app/bzip2/bin:/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH

export LD_LIBRARY_PATH=/home/dege.zzz/app/google/lib:/home/dege.zzz/app/sasl/lib:/home/dege.zzz/app/bison/lib:/home/dege.zzz/app/apr/lib:/home/dege.zzz/app/snappy/lib:/home/dege.zzz/app/gporca_home/lib:/home/dege.zzz/app/gp-xerces_home/lib:/home/dege.zzz/app/gpos_home/lib:/home/dege.zzz/app/R/lib64:/home/dege.zzz/app/texinfo/lib:/home/dege.zzz/app/pcre/lib:/home/dege.zzz/app/xz/lib:/home/dege.zzz/app/bzip2/lib:/home/dege.zzz/app/zlib/lib:/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH


cd $CODE_BASE/depends/libhdfs3

/*
  git clone https://github.com/Pivotal-Data-Attic/pivotalrd-libhdfs3
*/

mkdir build
cd build
../bootstrap --prefix=/home/dege.zzz/app/libhdfs3 --dependency=/home/dege.zzz/app/protobuf:/home/dege.zzz/app/sasl:/home/dege.zzz/app/google
make -j 32
make install


export PATH=/home/dege.zzz/app/bison/bin:/home/dege.zzz/app/automake/bin:/home/dege.zzz/app/autoconf/bin:/home/dege.zzz/app/apr/bin:/home/dege.zzz/app/gperf/bin:/home/dege.zzz/app/gp-xerces_home/bin:/home/dege.zzz/app/R/bin:/home/dege.zzz/app/texlive/bin/x86_64-linux:/home/dege.zzz/app/texinfo/bin:/home/dege.zzz/app/pcre/bin:/home/dege.zzz/app/xz/bin:/home/dege.zzz/app/bzip2/bin:/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH

export LD_LIBRARY_PATH=/home/dege.zzz/app/libhdfs3/lib:/home/dege.zzz/app/google/lib:/home/dege.zzz/app/sasl/lib:/home/dege.zzz/app/bison/lib:/home/dege.zzz/app/apr/lib:/home/dege.zzz/app/snappy/lib:/home/dege.zzz/app/gporca_home/lib:/home/dege.zzz/app/gp-xerces_home/lib:/home/dege.zzz/app/gpos_home/lib:/home/dege.zzz/app/R/lib64:/home/dege.zzz/app/texinfo/lib:/home/dege.zzz/app/pcre/lib:/home/dege.zzz/app/xz/lib:/home/dege.zzz/app/bzip2/lib:/home/dege.zzz/app/zlib/lib:/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
```
  
### libyarn
```
cd ~
cd $CODE_BASE/depends/libyarn
mkdir build
cd build
../bootstrap --prefix=/home/dege.zzz/app/libyarn --dependency=/home/dege.zzz/app/protobuf:/home/dege.zzz/app/sasl:/home/dege.zzz/app/google
make -j 32
make install

export PATH=/home/dege.zzz/app/bison/bin:/home/dege.zzz/app/automake/bin:/home/dege.zzz/app/autoconf/bin:/home/dege.zzz/app/apr/bin:/home/dege.zzz/app/gperf/bin:/home/dege.zzz/app/gp-xerces_home/bin:/home/dege.zzz/app/R/bin:/home/dege.zzz/app/texlive/bin/x86_64-linux:/home/dege.zzz/app/texinfo/bin:/home/dege.zzz/app/pcre/bin:/home/dege.zzz/app/xz/bin:/home/dege.zzz/app/bzip2/bin:/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH

export LD_LIBRARY_PATH=/home/dege.zzz/app/libyarn/lib:/home/dege.zzz/app/libhdfs3/lib:/home/dege.zzz/app/google/lib:/home/dege.zzz/app/sasl/lib:/home/dege.zzz/app/bison/lib:/home/dege.zzz/app/apr/lib:/home/dege.zzz/app/snappy/lib:/home/dege.zzz/app/gporca_home/lib:/home/dege.zzz/app/gp-xerces_home/lib:/home/dege.zzz/app/gpos_home/lib:/home/dege.zzz/app/R/lib64:/home/dege.zzz/app/texinfo/lib:/home/dege.zzz/app/pcre/lib:/home/dege.zzz/app/xz/lib:/home/dege.zzz/app/bzip2/lib:/home/dege.zzz/app/zlib/lib:/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH
```
  
### hawq
```
cd ~
cd $CODE_BASE/depends/libyarn

export R_HOME=/home/dege.zzz/app/R
export PATH=/home/dege.zzz/app/bison/bin:/home/dege.zzz/app/automake/bin:/home/dege.zzz/app/autoconf/bin:/home/dege.zzz/app/apr/bin:/home/dege.zzz/app/gperf/bin:/home/dege.zzz/app/gp-xerces_home/bin:/home/dege.zzz/app/R/bin:/home/dege.zzz/app/texlive/bin/x86_64-linux:/home/dege.zzz/app/texinfo/bin:/home/dege.zzz/app/pcre/bin:/home/dege.zzz/app/xz/bin:/home/dege.zzz/app/bzip2/bin:/home/dege.zzz/app/python2.7/bin:/home/dege.zzz/app/apache-maven-3.3.9/bin:/home/dege.zzz/app/curl/bin:/home/dege.zzz/app/protobuf/bin:/home/dege.zzz/app/thrift/bin:/home/dege.zzz/boost_1_56_0/stage/bin:/home/dege.zzz/app/cmake/bin:/home/dege.zzz/app/gcc4.9.4/bin:/home/dege.zzz/app/cloog/bin:$PATH
export LD_LIBRARY_PATH=/home/dege.zzz/app/libyarn/lib:/home/dege.zzz/app/libhdfs3/lib:/home/dege.zzz/app/google/lib:/home/dege.zzz/app/sasl/lib:/home/dege.zzz/app/bison/lib:/home/dege.zzz/app/apr/lib:/home/dege.zzz/app/snappy/lib:/home/dege.zzz/app/gporca_home/lib:/home/dege.zzz/app/gp-xerces_home/lib:/home/dege.zzz/app/gpos_home/lib:/home/dege.zzz/app/R/lib64:/home/dege.zzz/app/texinfo/lib:/home/dege.zzz/app/pcre/lib:/home/dege.zzz/app/xz/lib:/home/dege.zzz/app/bzip2/lib:/home/dege.zzz/app/zlib/lib:/home/dege.zzz/app/python2.7/lib:/home/dege.zzz/app/apache-maven-3.3.9/lib:/home/dege.zzz/app/curl/lib:/home/dege.zzz/app/protobuf/lib:/home/dege.zzz/app/thrift/lib:/home/dege.zzz/boost_1_56_0/stage/lib:/home/dege.zzz/app/json-c-devel/lib:/home/dege.zzz/app/gcc4.9.4/lib:/home/dege.zzz/app/gcc4.9.4/lib64:/home/dege.zzz/app/cloog/lib:/home/dege.zzz/app/isl/lib:/home/dege.zzz/app/mpc/lib:/home/dege.zzz/app/mpfr/lib:/home/dege.zzz/app/gmp/lib:$LD_LIBRARY_PATH


/* 
sudo vi /etc/ld.so.conf
/home/dege.zzz/app/bison/lib
/home/dege.zzz/app/apr/lib
/home/dege.zzz/app/snappy/lib
/home/dege.zzz/app/gporca_home/lib
/home/dege.zzz/app/gp-xerces_home/lib
/home/dege.zzz/app/gpos_home/lib
/home/dege.zzz/app/R/lib64
/home/dege.zzz/app/texinfo/lib
/home/dege.zzz/app/pcre/lib
/home/dege.zzz/app/xz/lib
/home/dege.zzz/app/bzip2/lib
/home/dege.zzz/app/zlib/lib
/home/dege.zzz/app/python2.7/lib
/home/dege.zzz/app/apache-maven-3.3.9/lib
/home/dege.zzz/app/curl/lib
/home/dege.zzz/app/protobuf/lib
/home/dege.zzz/app/thrift/lib
/home/dege.zzz/boost_1_56_0/stage/lib
/home/dege.zzz/app/json-c-devel/lib
/home/dege.zzz/app/gcc4.9.4/lib
/home/dege.zzz/app/gcc4.9.4/lib64
/home/dege.zzz/app/cloog/lib
/home/dege.zzz/app/isl/lib
/home/dege.zzz/app/mpc/lib
/home/dege.zzz/app/mpfr/lib
/home/dege.zzz/app/gmp/lib
*/



CPPFLAGS="-I/home/dege.zzz/app/libyarn/lib -I/home/dege.zzz/app/libhdfs3/lib -I/home/dege.zzz/app/google/lib -I/home/dege.zzz/app/sasl/lib -I/home/dege.zzz/app/protobuf/include -I/home/dege.zzz/app/apr/include -I/home/dege.zzz/app/json-c-devel/include -I/home/dege.zzz/app/boost/include -I/home/dege.zzz/app/snappy/include -I/home/dege.zzz/app/python2.7/include -I/home/dege.zzz/app/thrift/include -I/home/dege.zzz/app/gporca_home/include -I/home/dege.zzz/app/hadoop-2.7.3/include" LDFLAGS="-L/home/dege.zzz/app/libyarn/lib  -L/home/dege.zzz/app/libhdfs3/lib -L/home/dege.zzz/app/google/lib -L/home/dege.zzz/app/sasl/lib -L/lib -L/lib64 -L/usr/lib -L/usr/lib64 -L/home/dege.zzz/app/protobuf/lib -L/home/dege.zzz/app/bison/lib -L/home/dege.zzz/app/apr/lib -L/home/dege.zzz/app/json-c-devel/lib -L/home/dege.zzz/app/boost/lib -L/home/dege.zzz/app/snappy/lib -L/home/dege.zzz/app/python2.7/lib -L/home/dege.zzz/app/R/lib64 -L/home/dege.zzz/app/thrift/lib -L/home/dege.zzz/app/gporca_home/lib -L/home/dege.zzz/app/hadoop-2.7.3/lib" ./configure --prefix=/home/dege.zzz/app/hawq --with-python --with-r --with-pgcrypto --with-openssl --with-thrift --enable-debug --enable-orca --enable-gphdfs




make -j 32

很多类似错误
./configure: line 17165: syntax error near unexpected token `QT5,'
./configure: line 17165: `    PKG_CHECK_MODULES(QT5, Qt5Core >= 5.0, Qt5Network >= 5.0,'


vi depends/thirdparty/thrift/configure.ac

注释

  #if test "$with_qt4" = "yes";  then
  #  PKG_CHECK_MODULES(QT, QtCore >= 4.3, QtNetwork >= 4.3, have_qt=yes, have_qt=no)
  #fi

  #if test "$with_qt5" = "yes";  then
  #  PKG_CHECK_MODULES([QT5], [Qt5Core >= 5.0, Qt5Network >= 5.0],
  #                    [have_qt5=yes;qt_reduce_reloc=`$PKG_CONFIG --variable=qt_config Qt5Core | grep "reduce_relocations"`],
  #                    [have_qt5=no])
  #fi

#if test "$with_c_glib" = "yes"; then
#  PKG_CHECK_MODULES([GLIB], [glib-2.0 >= 2.0], have_glib2=yes, have_glib2=no)
#  PKG_CHECK_MODULES([GOBJECT], [gobject-2.0 >= 2.0], have_gobject2=yes, have_gobject2=no)
#  if test "$have_glib2" = "yes" -a "$have_gobject2" = "yes" ; then
#    have_c_glib="yes"
#  fi
#fi

#if test "$with_csharp" = "yes";  then
#  PKG_CHECK_MODULES(MONO, mono >= 2.11.0, mono_2_11=yes, mono_2_11=no)
#  if test "$mono_2_11" == "yes"; then
#    AC_PATH_PROG([MCS], [mcs])
#    if test "x$MCS" != "x"; then
#      mono_mcs="yes"
#    fi
#  fi
#  PKG_CHECK_MODULES(MONO, mono >= 2.0.0, net_3_5=yes, net_3_5=no)
#  PKG_CHECK_MODULES(MONO, mono >= 1.2.4, have_mono=yes, have_mono=no)
#  if test "$have_mono" = "yes" ; then
#    have_csharp="yes"
#  fi
#fi

make clean
make distclean



或

git checkout 2.0.0.0-incubating

CPPFLAGS="-I/home/dege.zzz/app/libyarn/include -I/home/dege.zzz/app/libhdfs3/include -I/home/dege.zzz/app/google/include -I/home/dege.zzz/app/sasl/include -I/home/dege.zzz/app/protobuf/include -I/home/dege.zzz/app/apr/include -I/home/dege.zzz/app/json-c-devel/include -I/home/dege.zzz/app/boost/include -I/home/dege.zzz/app/snappy/include -I/home/dege.zzz/app/python2.7/include -I/home/dege.zzz/app/thrift/include -I/home/dege.zzz/app/gporca_home/include -I/home/dege.zzz/app/hadoop-2.7.3/include" LDFLAGS="-L/home/dege.zzz/app/libyarn/lib  -L/home/dege.zzz/app/libhdfs3/lib -L/home/dege.zzz/app/google/lib -L/home/dege.zzz/app/sasl/lib -L/lib -L/lib64 -L/usr/lib -L/usr/lib64 -L/home/dege.zzz/app/protobuf/lib -L/home/dege.zzz/app/bison/lib -L/home/dege.zzz/app/apr/lib -L/home/dege.zzz/app/json-c-devel/lib -L/home/dege.zzz/app/boost/lib -L/home/dege.zzz/app/snappy/lib -L/home/dege.zzz/app/python2.7/lib -L/home/dege.zzz/app/R/lib64 -L/home/dege.zzz/app/thrift/lib -L/home/dege.zzz/app/gporca_home/lib -L/home/dege.zzz/app/hadoop-2.7.3/lib" ./configure --prefix=/home/dege.zzz/app/hawq --with-python --with-r --with-pgcrypto --with-openssl --enable-debug --enable-orca --without-libyarn --without-libhdfs3 --without-thrift


重新执行
make -j 32

make install
```


```
git checkout 2.0.0.0-incubating

CPPFLAGS="-I/home/dege.zzz/app/libyarn/include -I/home/dege.zzz/app/libhdfs3/include -I/home/dege.zzz/app/google/include -I/home/dege.zzz/app/sasl/include -I/home/dege.zzz/app/protobuf/include -I/home/dege.zzz/app/apr/include -I/home/dege.zzz/app/json-c-devel/include -I/home/dege.zzz/app/boost/include -I/home/dege.zzz/app/snappy/include -I/home/dege.zzz/app/python2.7/include -I/home/dege.zzz/app/thrift/include -I/home/dege.zzz/app/gporca_home/include -I/home/dege.zzz/app/hadoop-2.7.3/include" LDFLAGS="-L/home/dege.zzz/app/libyarn/lib  -L/home/dege.zzz/app/libhdfs3/lib -L/home/dege.zzz/app/google/lib -L/home/dege.zzz/app/sasl/lib -L/lib -L/lib64 -L/usr/lib -L/usr/lib64 -L/home/dege.zzz/app/protobuf/lib -L/home/dege.zzz/app/bison/lib -L/home/dege.zzz/app/apr/lib -L/home/dege.zzz/app/json-c-devel/lib -L/home/dege.zzz/app/boost/lib -L/home/dege.zzz/app/snappy/lib -L/home/dege.zzz/app/python2.7/lib -L/home/dege.zzz/app/R/lib64 -L/home/dege.zzz/app/thrift/lib -L/home/dege.zzz/app/gporca_home/lib -L/home/dege.zzz/app/hadoop-2.7.3/lib" ./configure --prefix=/home/dege.zzz/app/hawq --with-python --with-r --with-pgcrypto --with-openssl --enable-debug --enable-orca=no --without-libyarn --without-libhdfs3 --without-thrift

```
  





vi envhawq.sh  




## start hawq


## stop hawq





## test hawq








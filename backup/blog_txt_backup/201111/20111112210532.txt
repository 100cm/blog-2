PostgreSQL research

a dream

2011-11-12 21:05:32   查看原文>>

昨天晚上做了个梦，场景是火车站，很多人在排队买票，而且每个队伍的人数都差不多，还有插队的。

于是联想到了负载均衡。

其实一支队伍中如果出现了某个人买票很慢或者插队的人很多的情况，队伍应该会比其他队伍长很多。

为什么每个队伍的人数都差不多呢。

很简单，因为排队买票的人不傻。不会挑长的队伍去排，每次新增买票的人肯定是往短的队伍去排。

插队的人可以理解为有特殊需求的事物，买很长时间的可以理解为长事物。

而要达到每个队伍的人数都差不多，那就要在分配时知道每个队伍的长度，而不是round-robin的模式。


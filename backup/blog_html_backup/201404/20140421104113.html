<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">Check Your System's reliable write for usespace call (like fsync used in postgresql)</h2>
	<h5 id="">2014-04-21 10:41:13&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/1638770402014321102237248/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>一般在我们使用的存储硬件环境中包含多个层面的缓存.</div><div>数据库缓存, 操作系统缓存, RAID卡缓存, 磁盘缓存. 数据库为了提供持久化的能力, 同时提供较高的性能, 引入了重做日志的概念, 也就是说在完成一笔交易之前, 必须确保重做日志已经写入到持久化的存储当中才可以, 这样即使异常DOWN机, 也能从重做日志中恢复数据到DOWN机前的状态, 不会造成数据丢失.</div><div>在PostgreSQL中这个功能交给wal日志来完成.</div><div>所以wal日志的写操作必须是到达持久化设备的, PostgreSQL支持多种fsync方法(只要操作系统支持). &nbsp; 例如 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >#wal_sync_method = fsync &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# the default is the first option</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # supported by the operating system:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # &nbsp; open_datasync</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # &nbsp; fdatasync (default on Linux)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # &nbsp; fsync</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # &nbsp; fsync_writethrough</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # &nbsp; open_sync</font></div><p></p></pre></div><div>但是这些接口是不是真正可靠, 还和你使用的环境有关, 例如在硬盘层面, 如果开启了硬盘的cache, 但是没有硬盘的电源保护的话, 断电后, 硬盘层面的CACHE就会丢失.</div><div>这里提供了一种测试系统中是否存在这种隐患的方法和程序, 是一位贡献值使用perl写的, 测试需要另一台服务端的支持.</div><div>代码的下载 :&nbsp;</div><div><a target="_blank" rel="nofollow" href="https://gist.github.com/bradfitz/3172656"   >https://gist.github.com/bradfitz/3172656</a></div><div>1. 服务端开启一个监听</div><div>2. 客户端连接到这个监听, 并往本地设备中写入数据, 将写入数据状态传递给服务端.</div><div>3. 异常关闭客户端的机器(如断电)</div><div>4. 重启客户端的机器</div><div>5. 重新连接到服务端, 校验本地的文件和服务端记录的写操作是否一致.</div><div>例如 :&nbsp;</div><div>1. 在服务端启动一个监听, 默认是5400端口, 如果这个端口被占据, 可以启动另一个端口.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-33 ~]# ./test.pl -l</font></div><div></div><p></p></pre></div><div>2. 在被检测的客户端启动一个测试程序, 在要测试的块设备上创建一个文件, 指定文件的大小.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-150 ~]# df -h</font></div><div><font size="2"   >Filesystem &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Size &nbsp;Used Avail Use% Mounted on</font></div><div><font size="2"   >/dev/sdc1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;29G &nbsp;9.2G &nbsp; 19G &nbsp;34% /</font></div><div><font size="2"   >tmpfs &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;48G &nbsp; &nbsp; 0 &nbsp; 48G &nbsp; 0% /dev/shm</font></div><div><font size="2"   >/dev/sdc3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;98G &nbsp; 30G &nbsp; 64G &nbsp;32% /opt</font></div><div><font size="2"   >/dev/sdd1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 183G &nbsp; 33G &nbsp;142G &nbsp;19% /ssd1</font></div><div><font size="2"   >/dev/sda1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 221G &nbsp;7.9G &nbsp;202G &nbsp; 4% /ssd3</font></div><div><font size="2"   >/dev/sdb1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 221G &nbsp; 36G &nbsp;173G &nbsp;18% /ssd4</font></div><p></p></pre></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >mount -v|grep sda</font></div><div><font size="2"   >/dev/sda1 on /ssd3 type ext4 (rw,noatime,nodiratime)</font></div><p></p></pre></div><div><br></div><div>例如我这里要测试/dev/sda这个块设备</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-150 ssd4]# ./test.pl -s 172.16.3.33 create /ssd3/test_file 500</font></div><div></div><p></p></pre></div><div>测试过程中, 写操作会记录到服务端的文件中, 例如 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-33 ~]# less 172.16.3.150.diskchecker&nbsp;</font></div><div><font size="2"   >0 &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; 675424 &nbsp;11</font></div><div><font size="2"   >1 &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; 213869 &nbsp;9</font></div><div><font size="2"   >2 &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; 1094685 6</font></div><div><font size="2"   >3 &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; 439115 &nbsp;24</font></div><div><font size="2"   >4 &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; 380096 &nbsp;4</font></div><div><font size="2"   >5 &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; 259825 &nbsp;11</font></div><div><font size="2"   >6 &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; 985175 &nbsp;30</font></div><p></p></pre></div><div><br></div><div>3. 在测试过程中, 关闭测试机的电源(这里指172.16.3.150), 这里关闭电源使用拔电源线的方式.</div><div><br></div><div>4. 重启<span style="line-height: 28px;"   >172.16.3.150, 校验</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-150 ssd4]# ./test.pl -s 172.16.3.33 verify /ssd3/test_file</font></div><div><font size="2"   >&nbsp;verifying: 0.00%</font></div><div><font size="2"   >&nbsp;verifying: 23.87%</font></div><div><font size="2"   >&nbsp;verifying: 66.38%</font></div><div><font size="2"   >&nbsp;verifying: 100.00%</font></div><div><font size="2"   >Total errors: 0</font></div><p></p></pre></div><div>errors=0表示没有数据丢失.</div><div>被检测的系统为CentOS 6.4 x64, 硬盘 OCZ Revodrive3</div><div><br></div><div>附/dev/sda1的块设备信息</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-150 ~]# hdparm -I /dev/sda</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >/dev/sda:</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >ATA device, with non-removable media</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Model Number: &nbsp; &nbsp; &nbsp; OCZ-REVODRIVE3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Serial Number: &nbsp; &nbsp; &nbsp;OCZ-Z2134R0TLQBNE659</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Firmware Revision: &nbsp;2.15 &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Transport: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Serial, ATA8-AST, SATA 1.0a, SATA II Extensions, SATA Rev 2.5, SATA Rev 2.6, SATA Rev 3.0</font></div><div><font size="2"   >Standards:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Used: unknown (minor revision code 0x0110)&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Supported: 8 7 6 5&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Likely used: 8</font></div><div><font size="2"   >Configuration:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Logical &nbsp; &nbsp; &nbsp; &nbsp; max &nbsp; &nbsp; current</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; cylinders &nbsp; &nbsp; &nbsp; 16383 &nbsp; 16383</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; heads &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 16 &nbsp; &nbsp; &nbsp;16</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; sectors/track &nbsp; 63 &nbsp; &nbsp; &nbsp;63</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; --</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; CHS current addressable sectors: &nbsp; 16514064</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; LBA &nbsp; &nbsp;user addressable sectors: &nbsp;468883199</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; LBA48 &nbsp;user addressable sectors: &nbsp;468883199</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Logical &nbsp;Sector size: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 512 bytes</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Physical Sector size: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 512 bytes</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Logical Sector-0 offset: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 bytes</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; device size with M = 1024*1024: &nbsp; &nbsp; &nbsp;228946 MBytes</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; device size with M = 1000*1000: &nbsp; &nbsp; &nbsp;240068 MBytes (240 GB)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; cache/buffer size &nbsp;= unknown</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Nominal Media Rotation Rate: Solid State Device</font></div><div><font size="2"   >Capabilities:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; LBA, IORDY(can be disabled)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Queue depth: 32</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Standby timer values: spec'd by Standard, no device specific minimum</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; R/W multiple sector transfer: Max = 16 &nbsp;Current = 16</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Advanced power management level: 254</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; DMA: mdma0 mdma1 mdma2 udma0 udma1 udma2 udma3 udma4 udma5 *udma6&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Cycle time: min=120ns recommended=120ns</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; PIO: pio0 pio1 pio2 pio3 pio4&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Cycle time: no flow control=120ns &nbsp;IORDY flow control=120ns</font></div><div><font size="2"   >Commands/features:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Enabled Supported:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;SMART feature set</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Security Mode feature set</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Power Management feature set</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Write cache</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Look-ahead</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Host Protected Area feature set</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;WRITE_BUFFER command</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;READ_BUFFER command</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;NOP cmd</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;DOWNLOAD_MICROCODE</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Advanced Power Management feature set</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Power-Up In Standby feature set</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;SET_FEATURES required to spinup after power up</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;48-bit Address feature set</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Mandatory FLUSH_CACHE</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;FLUSH_CACHE_EXT</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;SMART error logging</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;SMART self-test</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;General Purpose Logging feature set</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;WRITE_{DMA|MULTIPLE}_FUA_EXT</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;64-bit World wide name</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;IDLE_IMMEDIATE with UNLOAD</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Write-Read-Verify feature set</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;WRITE_UNCORRECTABLE_EXT command</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;{READ,WRITE}_DMA_EXT_GPL commands</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Segmented DOWNLOAD_MICROCODE</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Gen1 signaling speed (1.5Gb/s)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Gen2 signaling speed (3.0Gb/s)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;unknown 76[3]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Native Command Queueing (NCQ)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Host-initiated interface power management</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Phy event counters</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;unknown 76[14]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;unknown 76[15]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DMA Setup Auto-Activate optimization</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Device-initiated interface power management</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Software settings preservation</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;SMART Command Transport (SCT) feature set</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;SCT Data Tables (AC5)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Data Set Management TRIM supported</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;DOWNLOAD MICROCODE DMA command</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;SET MAX SETPASSWORD/UNLOCK DMA commands</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;WRITE BUFFER DMA command</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;READ BUFFER DMA command</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp;Deterministic read after TRIM</font></div><div><font size="2"   >Security:&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Master password revision code = 65534</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; supported</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; not &nbsp; &nbsp; enabled</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; not &nbsp; &nbsp; locked</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; not &nbsp; &nbsp; frozen</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; not &nbsp; &nbsp; expired: security count</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; not &nbsp; &nbsp; supported: enhanced erase</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; 2min for SECURITY ERASE UNIT.&nbsp;</font></div><div><font size="2"   >Logical Unit WWN Device Identifier: 5e83a97e827c316e</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; NAA &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 5</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; IEEE OUI &nbsp; &nbsp; &nbsp; &nbsp;: e83a97</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Unique ID &nbsp; &nbsp; &nbsp; : e827c316e</font></div><div><font size="2"   >Checksum: correct</font></div><p></p></pre></div><div><br></div>[参考]<wbr><div>1.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="https://gist.github.com/bradfitz/3172656"   >https://gist.github.com/bradfitz/3172656</a></div><div>2.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://brad.livejournal.com/2116715.html"   >http://brad.livejournal.com/2116715.html</a></div><div>3.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://highperfpostgres.com/disk-plug-pull-testing/"   >http://highperfpostgres.com/disk-plug-pull-testing/</a></div><div>4.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://momjian.us/main/writings/pgsql/hw_selection.pdf"   >http://momjian.us/main/writings/pgsql/hw_selection.pdf</a></div><div><br></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="Check Your Systems reliable write for usespace call (like fsync used in postgresql) - 德哥@Digoal - PostgreSQL"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
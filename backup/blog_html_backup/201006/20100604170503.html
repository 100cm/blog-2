<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">[psqlodbc manual] Compiling psqlODBC on Unix</h2>
	<h5 id="">2010-06-04 17:05:03&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/16387704020105455327/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><SPAN style="WIDOWS: 2; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; BORDER-COLLAPSE: separate; FONT: medium Simsun; WHITE-SPACE: normal; ORPHANS: 2; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">
<H1>Compiling psqlODBC on Unix</H1>
<P>Following psqlODBC's move away from the main PostgreSQL source tree, Peter Eisentraut was kind enough provide a build environment for us which is now included in psqlODBC tarballs.</P>
<H2>Installation</H2>
<P>To install, just try something like:</P>
<BLOCKQUOTE><PRE>% tar -zxvf psqlodbc-xx.xx.xxxx.tar.gz
% cd psqlodbc-xx.xx.xxxx
% ./configure
% make
% make install
</PRE></BLOCKQUOTE>
<P>The configure script will accept the following useful options:</P>
<UL>
<LI>--with-libpq=DIR postgresql path(--without-libpq is not need libpq)</LI>
<LI>--with-unixodbc=DIR path or direct odbc_config file (default:yes)</LI>
<LI>--with-iodbc=DIR path or direct iodbc-config file</LI>
<LI>--with-odbcver=VERSION change default ODBC version number [0x0351]</LI>
<LI>--enable-pthreads (thread-safe driver on some platforms)</LI>
<LI>--disable-unicode (build non-Unicode driver)</LI>
<LI>--disable-openssl (build non-OpenSSL driver)</LI>
<LI>--help</LI></UL>
<H2>Building a distribution</H2>
<H3>Prerequisites</H3>
<UL>
<LI>Autoconf 2.59 or higher</LI>
<LI>Automake 1.9.2 (Lower versions are rejected, version 1.7 untested.)</LI>
<LI>Libtool 1.5.10 or higher</LI>
<LI>PostgreSQL source tree (8.4 branch)</LI></UL>
<H3>Bootstrapping</H3>
<BLOCKQUOTE><PRE>autoreconf -i
</PRE></BLOCKQUOTE>
<P>You can run 'make maintainer-clean' to remove all the files this generates.</P>
<H3>Building</H3>
<BLOCKQUOTE><PRE>./configure
make
make install
</PRE></BLOCKQUOTE>
<P>configure has the same options that the PostgreSQL configure used to have for ODBC, namely --with-iodbc or --with-unixodbc</P>
<H3>Making a Source Distribution</H3>
<P>'make dist' makes a file psqlodbc-xx.xx.xxxx.tar.gz. It's even better to use 'make distcheck', which runs a number of tests to see if the distribution is internally consistent.</P>
<P>The distribution does not contain any Windows-specific files (*.def, maybe others). If it is desired to include them, edit Makefile.am.</P></SPAN></div>
	</div>
</div>
</body>
</html>
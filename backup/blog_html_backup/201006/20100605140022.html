<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">Oracle10g using emca config dbconsole</h2>
	<h5 id="">2010-06-05 14:00:22&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/1638770402010552022694/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>在grid control没有出来之前，ORACLE数据库的监控和管理可以通过dbconsole来完成。</div><div>有了dbconsole，对数据库性能和是否需要升级硬件等等的把控就显得轻松很多，否则的话还需要借助其他的监控工具，如cacti,nagios,hq等等。</div>在创建数据库的时候如果没有选择安装EM，那么后期如果需要配置dbconsole的话，可以通过emca命令来完成。<div><div>下面来看看一个简单的配置过程:<br><div>1. 首先要修改一下数据库参数,以满足dbconsole的需求。</div><div><span style="font-size:16.0pt;font-family:Verdana; mso-ascii-font-family:Verdana;mso-fareast-font-family:宋体;mso-bidi-font-family: +mn-cs;color:black;language:en-US;">alter system set </span><span style="font-size:16.0pt;font-family:Verdana;mso-ascii-font-family:Verdana; mso-fareast-font-family:宋体;mso-bidi-font-family:+mn-cs;color:black;language: en-US;">shared_pool_size</span><span style="font-size:16.0pt;font-family:Verdana; mso-ascii-font-family:Verdana;mso-fareast-font-family:宋体;mso-bidi-font-family: +mn-cs;color:black;language:en-US;">=80M scope=both;</span></div><div><span style="font-size:16.0pt;font-family:Verdana; mso-ascii-font-family:Verdana;mso-fareast-font-family:宋体;mso-bidi-font-family: +mn-cs;color:black;language:en-US;"><span style="font-size:16.0pt;font-family:Verdana; mso-ascii-font-family:Verdana;mso-fareast-font-family:宋体;mso-bidi-font-family: +mn-cs;color:black;language:en-US;">alter system set </span><span style="font-size:16.0pt;font-family:Verdana;mso-ascii-font-family:Verdana; mso-fareast-font-family:宋体;mso-bidi-font-family:+mn-cs;color:black;language: en-US;">job_queue_processes</span><span style="font-size:16.0pt;font-family: Verdana;mso-ascii-font-family:Verdana;mso-fareast-font-family:宋体;mso-bidi-font-family: +mn-cs;color:black;language:en-US;">=1 scope=both;</span></span></div><div>2. 找几个没有被占用的端口</div><div>3. 创建资料库，配置agent和dbconsole,启动</div><div>emca -config dbcontrol db -repos create -silent -HOST digoal.sky-mobi.com.hz -SID digoal -PORT 1521 -ORACLE_HOME /opt/oracle/product/10.2.0/db_1 -DBSNMP_PWD oracle -SYSMAN_PWD oracle -SYS_PWD oracle -DBCONTROL_HTTP_PORT 8003 -AGENT_PORT 8004 -RMI_PORT 8005 -JMS_PORT 8006</div><div>说到创建资料库，配置agent和dbconsole，马上又看到了两年前设计的监控系统的影子。<a href="http://blog.163.com/digoal@126/blog/static/16387704020105444545420/">http://blog.163.com/digoal@126/blog/static/16387704020105444545420/</a>&nbsp;&nbsp;所以IT很多东西其实是相通的。</div><div><div><img title="Oracle10g using emca config dbconsole - 德哥(DiGoal,Just Do It!) - Not Only DBA" alt="Oracle10g using emca config dbconsole - 德哥(DiGoal,Just Do It!) - Not Only DBA" style="margin:0 10px 0 0;" src="http://img74.ph.126.net/LjmfxDgqBGMhkBedhmjDIw==/855402454225637395.jpg"></div>&nbsp;</div><div>具体的语法可以参考:</div><div>【参考】</div><div>emca --help<br><div><div>/opt/oracle/product/10.2.0/db_1/bin/emca [operation] [mode] [dbType] [flags] [parameters]</div><div><br></div><div>-h | --h | -help | --help: prints this help message&nbsp;</div><div>-version: prints the version</div><div><br></div><div>-config dbcontrol db [-repos (create | recreate)] [-cluster] [-silent] [-backup] [parameters]: configure Database Control for a database</div><div>-config centralAgent (db | asm) [-cluster] [-silent] [parameters]: configure central agent management</div><div>-config all db [-repos (create | recreate)] [-cluster] [-silent] [-backup] [parameters]: configure both Database Control and central agent management</div><div><br></div><div>-deconfig dbcontrol db [-repos drop] [-cluster] [-silent] [parameters]: de-configure Database Control</div><div>-deconfig centralAgent (db | asm) [-cluster] [ -silent] [parameters]: de-configure central agent management</div><div>-deconfig all db [-repos drop] [-cluster] [-silent] [parameters]: de-configure both Database Control and central agent management</div><div><br></div><div>-addInst (db | asm) [-silent] [parameters]: configure EM for a new RAC instance</div><div>-deleteInst (db | asm) [-silent] [parameters]: de-configure EM for a specified RAC instance</div><div><br></div><div>-reconfig ports [-cluster] [parameters]: explicitly reassign Database Control ports</div><div>-reconfig dbcontrol -cluster [-silent] [parameters]: reconfigures RAC Database Control deployment</div><div><br></div><div>-displayConfig dbcontrol -cluster [-silent] [parameters]: displays information about the RAC Database Control configuration</div><div><br></div><div>-upgrade (db | asm | db_asm) [-cluster] [-silent] [parameters]: upgrades an earlier version of the EM configuration to the current version</div><div><br></div><div>-restore (db | asm | db_asm) [-cluster] [-silent] [parameters]: restores the current version of the EM configuration to an earlier version</div><div><br></div><div>Parameters and Options:</div><div>[parameters]: [ -respFile fileName ] [ -paramName paramValue ]*&nbsp;</div><div>db: perform configuration operation for a database (including databases that use ASM)</div><div>asm: perform configuration operation for an ASM-only instance</div><div>db_asm: perform upgrade/restore operation for a database and an ASM instance</div><div>-repos create: create a new Database Control repository</div><div>-repos drop: drop the current Database Control repository</div><div>-repos recreate: drop the current Database Control repository and recreate a new one</div><div>-cluster: perform configuration operation for a RAC database</div><div>-silent: perform configuration operation without prompting for parameters</div><div>-backup: configure automatic backup for a database</div><div><br></div><div>Parameters for single instance databases</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;HOST: Database hostname</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;SID: Database SID</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;PORT: Listener port number</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;ORACLE_HOME: Database ORACLE_HOME</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;HOST_USER: Host username for automatic backup</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;HOST_USER_PWD: Host user password for automatic backup</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;BACKUP_SCHEDULE: Automatic backup schedule (HH:MM)</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;EMAIL_ADDRESS: Email address for notifications</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;MAIL_SERVER_NAME: Outgoing Mail (SMTP) server for notifications</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;ASM_OH: ASM ORACLE_HOME</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;ASM_SID: ASM SID</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;ASM_PORT: ASM port</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;ASM_USER_ROLE: ASM user role</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;ASM_USER_NAME: ASM username</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;ASM_USER_PWD: ASM user password</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;SRC_OH: ORACLE_HOME for the database to be upgraded</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;DBSNMP_PWD: Password for DBSNMP user</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;SYSMAN_PWD: Password for SYSMAN user</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;SYS_PWD: Password for SYS user</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;DBCONTROL_HTTP_PORT: Database Control HTTP port</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;AGENT_PORT: EM agent port</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;RMI_PORT: RMI port for Database Control</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;JMS_PORT: JMS port for Database Control</div><div><br></div><div>Additional Parameters for cluster databases</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;CLUSTER_NAME: Cluster name</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;DB_UNIQUE_NAME: Database unique name</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;SERVICE_NAME: Service name</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;EM_NODE: Database Control node name</div><div>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;EM_SID_LIST: Agent SID list [comma separated]</div></div></div></div></div></div>
	</div>
</div>
</body>
</html>
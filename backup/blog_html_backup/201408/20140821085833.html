<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">PostgreSQL an stable hash library - pghashlib</h2>
	<h5 id="">2014-08-21 8:58:33&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201472183858105/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>一个稳定的哈希库, 对数据库来说是非常重要的, 例如我们有一个应用场景, 在数据库中存储了文本以及文本对应的哈希值.&nbsp;</div><div>假设这个哈希值是通过hashtext函数得到的, 那么我们希望的是hashtext函数是稳定的, 例如任何时候传入一个相同的参数得到的哈希值是一样的.</div><div>如 :&nbsp;</div><div>hashtext('abc') =&nbsp;-785388649</div><div>应用场景举例,&nbsp;</div><div>1. 例如plproxy, 通过hashtext来路由数据.</div><div>2. 例如pg-xc, pg-xl的基于列的distribute算法. 也需要一个stable的算法. (当然, 这些在PG-XC,PG-XL中自己保证)</div><div>3. skytools中londiste3的split算法函数, 也需要一个稳定的算法.&nbsp;</div><div><br></div><div>PostgreSQL 9.3.5 中 hashtext的代码如下, 显然它是依赖机器的<span style="line-height: 28px;"   >ENDIAN的</span><span style="line-height: 28px;"   >&nbsp;:&nbsp;</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >src/backend/access/hash/hashfunc.c</font></div><div><div><font size="2"   ><br></font></div><div><font size="2"   >Datum</font></div><div><font size="2"   >hashtext(PG_FUNCTION_ARGS)</font></div><div><font size="2"   >{</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; text &nbsp; &nbsp; &nbsp; *key = PG_GETARG_TEXT_PP(0);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; Datum &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; result;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /*</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Note: this is currently identical in behavior to hashvarlena, but keep</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* it as a separate function in case we someday want to do something</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* different in non-C locales. &nbsp;(See also hashbpchar, if so.)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; result = hash_any((unsigned char *) VARDATA_ANY(key),</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VARSIZE_ANY_EXHDR(key));</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* Avoid leaking memory for toasted inputs */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; PG_FREE_IF_COPY(key, 0);</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; return result;</font></div><div><font size="2"   >}</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >/*</font></div><div><font size="2"   >&nbsp;* hash_any() -- hash a variable-length key into a 32-bit value</font></div><div><font size="2"   >&nbsp;* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;k &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : the key (the unaligned variable-length array of bytes)</font></div><div><font size="2"   >&nbsp;* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;len &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : the length of the key, counting by bytes</font></div><div><font size="2"   >&nbsp;*</font></div><div><font size="2"   >&nbsp;* Returns a uint32 value. &nbsp;Every bit of the key affects every bit of</font></div><div><font size="2"   >&nbsp;* the return value. &nbsp;Every 1-bit and 2-bit delta achieves avalanche.</font></div><div><font size="2"   >&nbsp;* About 6*len+35 instructions. The best hash table sizes are powers</font></div><div><font size="2"   >&nbsp;* of 2. &nbsp;There is no need to do mod a prime (mod is sooo slow!).</font></div><div><font size="2"   >&nbsp;* If you need less than 32 bits, use a bitmask.</font></div><div><font size="2"   >&nbsp;*</font></div><div><font size="2"   >&nbsp;* Note: we could easily change this function to return a 64-bit hash value</font></div><div><font size="2"   >&nbsp;* by using the final values of both b and c. &nbsp;b is perhaps a little less</font></div><div><font size="2"   >&nbsp;* well mixed than c, however.</font></div><div><font size="2"   >&nbsp;*/</font></div><div><font size="2"   >Datum</font></div><div><font size="2"   >hash_any(register const unsigned char *k, register int keylen)</font></div><div><font size="2"   >{</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; register uint32 a,</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b,</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c,</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; len;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* Set up the internal state */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; len = keylen;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; a = b = c = 0x9e3779b9 + len + 3923095;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* If the source pointer is word-aligned, we use word-wide fetches */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; if (((intptr_t) k &amp; UINT32_ALIGN_MASK) == 0)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; {</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Code path for aligned source data */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; register const uint32 *ka = (const uint32 *) k;</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* handle most of the key */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (len &gt;= 12)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ka[0];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ka[1];</font></div></div><div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ka[2];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mix(a, b, c);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ka += 3;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; len -= 12;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* handle the last 11 bytes */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; k = (const unsigned char *) ka;</font></div><div><font size="2"   >#ifdef WORDS_BIGENDIAN</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; switch (len)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 11:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ((uint32) k[10] &lt;&lt; 8);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 10:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ((uint32) k[9] &lt;&lt; 16);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 9:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ((uint32) k[8] &lt;&lt; 24);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* the lowest byte of c is reserved for the length */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 8:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ka[1];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ka[0];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 7:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ((uint32) k[6] &lt;&lt; 8);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 6:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ((uint32) k[5] &lt;&lt; 16);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 5:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ((uint32) k[4] &lt;&lt; 24);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 4:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ka[0];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 3:</font></div></div><div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ((uint32) k[2] &lt;&lt; 8);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 2:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ((uint32) k[1] &lt;&lt; 16);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 1:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ((uint32) k[0] &lt;&lt; 24);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* case 0: nothing left to add */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</font></div><div><font size="2"   >#else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* !WORDS_BIGENDIAN */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; switch (len)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 11:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ((uint32) k[10] &lt;&lt; 24);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 10:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ((uint32) k[9] &lt;&lt; 16);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 9:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ((uint32) k[8] &lt;&lt; 8);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* the lowest byte of c is reserved for the length */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 8:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ka[1];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ka[0];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 7:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ((uint32) k[6] &lt;&lt; 16);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 6:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ((uint32) k[5] &lt;&lt; 8);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 5:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += k[4];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 4:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ka[0];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</font></div></div><div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 3:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ((uint32) k[2] &lt;&lt; 16);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 2:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ((uint32) k[1] &lt;&lt; 8);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 1:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += k[0];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* case 0: nothing left to add */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</font></div><div><font size="2"   >#endif &nbsp; /* WORDS_BIGENDIAN */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; }</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; else</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; {</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Code path for non-aligned source data */</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* handle most of the key */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (len &gt;= 12)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</font></div><div><font size="2"   >#ifdef WORDS_BIGENDIAN</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += (k[3] + ((uint32) k[2] &lt;&lt; 8) + ((uint32) k[1] &lt;&lt; 16) + ((uint32) k[0] &lt;&lt; 24));</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += (k[7] + ((uint32) k[6] &lt;&lt; 8) + ((uint32) k[5] &lt;&lt; 16) + ((uint32) k[4] &lt;&lt; 24));</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += (k[11] + ((uint32) k[10] &lt;&lt; 8) + ((uint32) k[9] &lt;&lt; 16) + ((uint32) k[8] &lt;&lt; 24));</font></div><div><font size="2"   >#else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* !WORDS_BIGENDIAN */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += (k[0] + ((uint32) k[1] &lt;&lt; 8) + ((uint32) k[2] &lt;&lt; 16) + ((uint32) k[3] &lt;&lt; 24));</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += (k[4] + ((uint32) k[5] &lt;&lt; 8) + ((uint32) k[6] &lt;&lt; 16) + ((uint32) k[7] &lt;&lt; 24));</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += (k[8] + ((uint32) k[9] &lt;&lt; 8) + ((uint32) k[10] &lt;&lt; 16) + ((uint32) k[11] &lt;&lt; 24));</font></div><div><font size="2"   >#endif &nbsp; /* WORDS_BIGENDIAN */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mix(a, b, c);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; k += 12;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; len -= 12;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* handle the last 11 bytes */</font></div><div><font size="2"   >#ifdef WORDS_BIGENDIAN</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; switch (len) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/* all the case statements fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 11:</font></div></div><div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ((uint32) k[10] &lt;&lt; 8);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 10:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ((uint32) k[9] &lt;&lt; 16);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 9:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ((uint32) k[8] &lt;&lt; 24);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* the lowest byte of c is reserved for the length */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 8:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += k[7];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 7:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ((uint32) k[6] &lt;&lt; 8);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 6:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ((uint32) k[5] &lt;&lt; 16);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 5:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ((uint32) k[4] &lt;&lt; 24);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 4:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += k[3];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 3:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ((uint32) k[2] &lt;&lt; 8);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 2:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ((uint32) k[1] &lt;&lt; 16);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 1:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ((uint32) k[0] &lt;&lt; 24);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* case 0: nothing left to add */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</font></div><div><font size="2"   >#else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* !WORDS_BIGENDIAN */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; switch (len) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/* all the case statements fall through */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 11:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ((uint32) k[10] &lt;&lt; 24);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 10:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ((uint32) k[9] &lt;&lt; 16);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 9:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c += ((uint32) k[8] &lt;&lt; 8);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* the lowest byte of c is reserved for the length */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 8:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ((uint32) k[7] &lt;&lt; 24);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 7:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ((uint32) k[6] &lt;&lt; 16);</font></div></div><div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 6:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += ((uint32) k[5] &lt;&lt; 8);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 5:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; b += k[4];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 4:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ((uint32) k[3] &lt;&lt; 24);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 3:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ((uint32) k[2] &lt;&lt; 16);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 2:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += ((uint32) k[1] &lt;&lt; 8);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 1:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a += k[0];</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* case 0: nothing left to add */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</font></div><div><font size="2"   >#endif &nbsp; /* WORDS_BIGENDIAN */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; }</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; final(a, b, c);</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; /* report the result */</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; return UInt32GetDatum(c);</font></div><div><font size="2"   >}</font></div></div><p></p></pre></div><div>其实除了endian 的依赖, 还存在一个不稳定因素, 例如跨版本, PostgreSQL 8.x和PostgreSQL 9.x可能存在不同(当然这个要自己去验证), 未来也不保证PostgreSQL的hashtext函数代码不变.&nbsp;</div><div>那么问题就来了, 你的数据库如果迁移到其他endian架构, 或者数据库版本变迁都有可能带来hashtext结果的不一致问题. 从而导致存储的数据和新的hashtext得到的结果不一致.</div><div>为了解决hashtext不稳定因素, 我们需要一个不依赖数据库版本, 不依赖CPU架构的稳定库.</div><div>可以到&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="https://github.com/tvondra/pghashlib"   >https://github.com/tvondra/pghashlib</a>&nbsp;下载.</div><div>支持的算法很多, 有些算法是不依赖CPU架构的, 有些算法是依赖CPU架构的, 使用时需要注意.</div><div>简单的测试 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >[root@db-172-16-3-221 postgresql-9.3.5]# cd /opt/soft_bak/</font></div><div><font size="2"   >[root@db-172-16-3-221 soft_bak]# git clone https://github.com/tvondra/pghashlib</font></div><div><font size="2"   >Initialized empty Git repository in /opt/soft_bak/pghashlib/.git/</font></div><div><font size="2"   >remote: Counting objects: 221, done.</font></div><div><font size="2"   >remote: Total 221 (delta 0), reused 0 (delta 0)</font></div><div><font size="2"   >Receiving objects: 100% (221/221), 85.64 KiB, done.</font></div><div><font size="2"   >Resolving deltas: 100% (96/96), done.</font></div></div><div><font size="2"   >[root@db-172-16-3-221 soft_bak]# cd pghashlib/</font></div><div><div><font size="2"   >[root@db-172-16-3-221 pghashlib]# export PATH=/opt/pgsql/bin:$PATH</font></div><div><font size="2"   >[root@db-172-16-3-221 pghashlib]# which pg_config</font></div><div><font size="2"   >/opt/pgsql/bin/pg_config</font></div><div><font size="2"   >[root@db-172-16-3-221 pghashlib]# gmake clean</font></div></div><div><font size="2"   >[root@db-172-16-3-221 pghashlib]# gmake &amp;&amp; gmake install</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >创建extension</font></div><div><div><font size="2"   >postgres@db-172-16-3-221-&gt; psql</font></div><div><font size="2"   >psql (9.3.5)</font></div><div><font size="2"   >Type "help" for help.</font></div><div><font size="2"   >digoal=# create extension hashlib;</font></div><div><font size="2"   >CREATE EXTENSION</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >digoal=# \dx</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;List of installed extensions</font></div><div><font size="2"   >&nbsp; Name &nbsp; | Version | &nbsp; Schema &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp; Description &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >---------+---------+------------+------------------------------</font></div><div><font size="2"   >&nbsp;hashlib | 1.1 &nbsp; &nbsp; | public &nbsp; &nbsp; | Stable hash functions</font></div><div><font size="2"   >&nbsp;plpgsql | 1.0 &nbsp; &nbsp; | pg_catalog | PL/pgSQL procedural language</font></div><div><font size="2"   >(2 rows)</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >digoal=# \df</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;List of functions</font></div><div><font size="2"   >&nbsp;Schema | &nbsp; &nbsp; &nbsp;Name &nbsp; &nbsp; &nbsp;| Result data type | &nbsp; &nbsp; Argument data types &nbsp; &nbsp; | &nbsp;Type &nbsp;</font></div><div><font size="2"   >--------+----------------+------------------+-----------------------------+--------</font></div><div><font size="2"   >&nbsp;public | hash128_string | bytea &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| bytea, text &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | normal</font></div><div><font size="2"   >&nbsp;public | hash128_string | bytea &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| bytea, text, bigint &nbsp; &nbsp; &nbsp; &nbsp; | normal</font></div><div><font size="2"   >&nbsp;public | hash128_string | bytea &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| bytea, text, bigint, bigint | normal</font></div><div><font size="2"   >&nbsp;public | hash128_string | bytea &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| text, text &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| normal</font></div><div><font size="2"   >&nbsp;public | hash128_string | bytea &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| text, text, bigint &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| normal</font></div><div><font size="2"   >&nbsp;public | hash128_string | bytea &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| text, text, bigint, bigint &nbsp;| normal</font></div><div><font size="2"   >&nbsp;public | hash64_string &nbsp;| bigint &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | bytea, text &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | normal</font></div><div><font size="2"   >&nbsp;public | hash64_string &nbsp;| bigint &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | bytea, text, bigint &nbsp; &nbsp; &nbsp; &nbsp; | normal</font></div><div><font size="2"   >&nbsp;public | hash64_string &nbsp;| bigint &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | bytea, text, bigint, bigint | normal</font></div><div><font size="2"   >&nbsp;public | hash64_string &nbsp;| bigint &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | text, text &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| normal</font></div><div><font size="2"   >&nbsp;public | hash64_string &nbsp;| bigint &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | text, text, bigint &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| normal</font></div><div><font size="2"   >&nbsp;public | hash64_string &nbsp;| bigint &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | text, text, bigint, bigint &nbsp;| normal</font></div><div><font size="2"   >&nbsp;public | hash_int4 &nbsp; &nbsp; &nbsp;| integer &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| bigint, text &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| normal</font></div><div><font size="2"   >&nbsp;public | hash_int4 &nbsp; &nbsp; &nbsp;| integer &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| integer, text &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | normal</font></div><div><font size="2"   >&nbsp;public | hash_int8 &nbsp; &nbsp; &nbsp;| bigint &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | bigint, text &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| normal</font></div><div><font size="2"   >&nbsp;public | hash_string &nbsp; &nbsp;| integer &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| bytea, text &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | normal</font></div><div><font size="2"   >&nbsp;public | hash_string &nbsp; &nbsp;| integer &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| bytea, text, integer &nbsp; &nbsp; &nbsp; &nbsp;| normal</font></div><div><font size="2"   >&nbsp;public | hash_string &nbsp; &nbsp;| integer &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| text, text &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| normal</font></div><div><font size="2"   >&nbsp;public | hash_string &nbsp; &nbsp;| integer &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| text, text, integer &nbsp; &nbsp; &nbsp; &nbsp; | normal</font></div><div><font size="2"   >(19 rows)</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >digoal=# select hash64_string('abc','crc32');</font></div><div><font size="2"   >&nbsp;hash64_string&nbsp;</font></div><div><font size="2"   >---------------</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;891568578</font></div><div><font size="2"   >(1 row)</font></div></div><p></p></pre></div><div><br></div><div>[其他]</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >rst2html README.rst &gt; hashlib.html</font></div><div><font size="2"   >/bin/sh: rst2html: command not found</font></div><div><font size="2"   >gmake: *** [hashlib.html] Error 127</font></div><div><font size="2"   >gmake: *** Deleting file `hashlib.html'</font></div></div><div><font size="2"   >安装时如果遇到这个问题, 需要docutils包. (python-docutils)</font></div><div><font size="2"   >yum install -y docutils</font></div><p></p></pre></div><wbr><div><br></div>[参考]<wbr><div>1.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="https://github.com/tvondra/pghashlib"   >https://github.com/tvondra/pghashlib</a></div><div>2.&nbsp;</div><div><h1 style="box-sizing: border-box; font-size: 2.25em; margin-right: 0px; margin-bottom: 16px; margin-left: 0px; line-height: 1.2;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; margin-top: 0px !important;"   >pghashlib</h1><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   >The goal of pghashlib is to provide stable hashes for PostgeSQL, "stable" in the sense that their implementation does not change, they are independent from PostgeSQL version.</p><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   >Some string hashes may be dependent on CPU architecture, so that they return different return on big-endian architecture from little-endian architecture. It you want to be architectures-independent, then use algorithms that don't depend on endianess.</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-installation" aria-hidden="true" rel="nofollow" href="https://github.com/tvondra/pghashlib#installation"   ></a>Installation</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   >You need PostgreSQL developent environment. Then simply:</p><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; margin-top: 0px; margin-bottom: 16px; padding: 16px; line-height: 1.45; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-wrap: normal; color: rgb(51, 51, 51); background-color: rgb(247, 247, 247);"   >$ make
$ make install
$ psql -d ... -c "create extension hashlib"
</pre><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-functions" aria-hidden="true" rel="nofollow" href="https://github.com/tvondra/pghashlib#functions"   ></a>Functions</h2><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em;position:inherit; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-hash_string" aria-hidden="true" rel="nofollow" href="https://github.com/tvondra/pghashlib#hash_string"   ></a>hash_string</h3><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; margin-top: 0px; margin-bottom: 16px; padding: 16px; line-height: 1.45; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-wrap: normal; color: rgb(51, 51, 51); background-color: rgb(247, 247, 247);"   >hash_string(data text,  algo text [, initval int4]) returns int4
hash_string(data bytea, algo text [, initval int4]) returns int4
</pre><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   >This hashes the data with specified algorithm, returns 32-bit result.</p><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em;position:inherit; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-hash64_string" aria-hidden="true" rel="nofollow" href="https://github.com/tvondra/pghashlib#hash64_string"   ></a>hash64_string</h3><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; margin-top: 0px; margin-bottom: 16px; padding: 16px; line-height: 1.45; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-wrap: normal; color: rgb(51, 51, 51); background-color: rgb(247, 247, 247);"   >hash64_string(data text, algo text, [, iv1 int8 [, iv2 int8]]) returns int8
hash64_string(data byte, algo text, [, iv1 int8 [, iv2 int8]]) returns int8
</pre><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   >Uses same algorithms as hash_string() but returns 64-bit result.</p><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em;position:inherit; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-hash128_string" aria-hidden="true" rel="nofollow" href="https://github.com/tvondra/pghashlib#hash128_string"   ></a>hash128_string</h3><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; margin-top: 0px; margin-bottom: 16px; padding: 16px; line-height: 1.45; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-wrap: normal; color: rgb(51, 51, 51); background-color: rgb(247, 247, 247);"   >hash64_string(data text, algo text, [, initval int4]) returns bytea
hash64_string(data byte, algo text, [, initval int4]) returns bytea
</pre><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   >Uses same algorithms as hash_string() but returns 128-bit result.</p><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em;position:inherit; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-hash_int4" aria-hidden="true" rel="nofollow" href="https://github.com/tvondra/pghashlib#hash_int4"   ></a>hash_int4</h3><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; margin-top: 0px; margin-bottom: 16px; padding: 16px; line-height: 1.45; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-wrap: normal; color: rgb(51, 51, 51); background-color: rgb(247, 247, 247);"   >hash_int4(val int4) returns int4
</pre><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   >Hash 32-bit integer.</p><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em;position:inherit; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-hash_int8" aria-hidden="true" rel="nofollow" href="https://github.com/tvondra/pghashlib#hash_int8"   ></a>hash_int8</h3><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; margin-top: 0px; margin-bottom: 16px; padding: 16px; line-height: 1.45; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-wrap: normal; color: rgb(51, 51, 51); background-color: rgb(247, 247, 247);"   >hash_int8(val int8) returns int8
</pre><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   >Hash 64-bit integer.</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-string-hashing-algorithms" aria-hidden="true" rel="nofollow" href="https://github.com/tvondra/pghashlib#string-hashing-algorithms"   ></a>String hashing algorithms</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   >List of currently provided algorithms.</p><table style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; margin-top: 0px; margin-bottom: 16px; display: block; width: 728px; overflow: auto; word-break: normal; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.600000381469727px;"   ><thead valign="bottom"   style="box-sizing: border-box;"   ><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204);"   ><th style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Algorithm</th><th style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >CPU-indep</th><th style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Bits</th><th style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >IV bits</th><th style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Partial</th><th style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Description</th></tr></thead><tbody valign="top"   style="box-sizing: border-box;"   ><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >city64</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >64</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >64</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >CityHash64</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); background-color: rgb(248, 248, 248);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >city128</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >128</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >128</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >CityHash128</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >crc32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >yes</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >yes</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >CRC32</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); background-color: rgb(248, 248, 248);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >lookup2</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >64</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Jenkins lookup2</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >lookup3be</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >yes</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >64</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Jenkins lookup3 big-endian</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); background-color: rgb(248, 248, 248);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >lookup3le</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >yes</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >64</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Jenkins lookup3 little-endian</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >lookup3</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >64</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Jenkins lookup3 CPU-native</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); background-color: rgb(248, 248, 248);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >murmur3</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >MurmurHash v3, 32-bit variant</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >md5</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >yes</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >128</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >128</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >MD5</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); background-color: rgb(248, 248, 248);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >pgsql84</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >64</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >0</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Hacked lookup3 in Postgres 8.4+</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >siphash24</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >yes</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >64</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >128</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >SipHash-2-4</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); background-color: rgb(248, 248, 248);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >spooky</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >128</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >128</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >no</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >SpookyHash</td></tr></table><dl style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; padding: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   ><dt style="box-sizing: border-box; padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold;"   >CPU-independence</dt><dd style="box-sizing: border-box; margin-left: 0px; padding: 0px 16px; margin-bottom: 16px;"   >Whether hash output is independent of CPU endianess. If not, then hash result is different on little-endian machines (x86) and big-endian machines (sparc).</dd><dt style="box-sizing: border-box; padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold;"   >Bits</dt><dd style="box-sizing: border-box; margin-left: 0px; padding: 0px 16px; margin-bottom: 16px;"   >Maximum number of output bits that hash can output. If longer result is requested, result will be zero-padded.</dd><dt style="box-sizing: border-box; padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold;"   >IV bits</dt><dd style="box-sizing: border-box; margin-left: 0px; padding: 0px 16px; margin-bottom: 16px;"   >Maximum number of input bits for "initial value".</dd><dt style="box-sizing: border-box; padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold;"   >Partial hashing</dt><dd style="box-sizing: border-box; margin-left: 0px; padding: 0px 16px; margin-bottom: 16px;"   >Whether long string can be hashed in smaller parts, by giving last value as initval to next hash call.</dd></dl><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-integer-hashing-algorithms" aria-hidden="true" rel="nofollow" href="https://github.com/tvondra/pghashlib#integer-hashing-algorithms"   ></a>Integer hashing algorithms</h2><table style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; margin-top: 0px; margin-bottom: 16px; display: block; width: 728px; overflow: auto; word-break: normal; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.600000381469727px;"   ><thead valign="bottom"   style="box-sizing: border-box;"   ><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204);"   ><th style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Algorithm</th><th style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Bits</th><th style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Description</th><th style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Notes</th></tr></thead><tbody valign="top"   style="box-sizing: border-box;"   ><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >wang32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Thomas Wang hash32shift</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >&nbsp;</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); background-color: rgb(248, 248, 248);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >wang32mult</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Thomas Wang hash32shiftmult</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >&nbsp;</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >jenkins</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Bob Jenkins hash with 6 shifts</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >&nbsp;</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); background-color: rgb(248, 248, 248);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >wang64</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >64</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Thomas Wang hash64shift</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >&nbsp;</td></tr><tr style="box-sizing: border-box; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204);"   ><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >wang64to32</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >64</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Thomas Wang hash6432shift</td><td style="box-sizing: border-box; padding: 6px 13px; border: 1px solid rgb(221, 221, 221);"   >Result can be cast to int4</td></tr></table><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   >All algorithms here have the property that they are "reversible", that means there is 1:1 mapping between input and output.</p><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   >This propery is useful for creating well-defined "random" sort order over unique integer id's. Or picking up random row from table with unique id's.</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-links" aria-hidden="true" rel="nofollow" href="https://github.com/tvondra/pghashlib#links"   ></a>Links</h2><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   ><li style="box-sizing: border-box;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="http://burtleburtle.net/bob/hash/doobs.html"   >Lookup2/3 hashes</a>&nbsp;by Bob Jenkins.</li></ul><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   ><li style="box-sizing: border-box;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="http://code.google.com/p/smhasher/"   >MurmurHash</a>&nbsp;by Austin Appleby.</li></ul><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   ><li style="box-sizing: border-box;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="http://burtleburtle.net/bob/hash/integer.html"   >Integer hashes</a>&nbsp;by Bob Jenkins.</li></ul><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   ><li style="box-sizing: border-box;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="http://www.cris.com/~Ttwang/tech/inthash.htm"   >Integer hashes</a>&nbsp;by Thomas Wang.</li></ul><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   ><li style="box-sizing: border-box;"   >Google's&nbsp;<a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="http://code.google.com/p/cityhash/"   >CityHash</a>. 64/128/256-bit output.</li></ul><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px;"   ><li style="box-sizing: border-box;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="http://www.burtleburtle.net/bob/hash/spooky.html"   >SpookyHash</a>&nbsp;by Bob Jenkins. 128-bit output.</li></ul><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.600000381469727px; margin-bottom: 0px !important;"   ><li style="box-sizing: border-box;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="https://131002.net/siphash/"   >SipHash-2-4</a>&nbsp;by Jean-Philippe Aumasson and Daniel J. Bernstein.</li></ul></div><div><br></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="PostgreSQL an stable hash library - pghashlib - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">SAN Inter-Fabric Routing and Vitrual Fabrics</h2>
	<h5 id="">2010-05-23 0:19:39&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201042301939401/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><span style="font-family: Tahoma, Arial, Helvetica, sans-serif; line-height: normal; font-size: 13px; color: rgb(51, 68, 85);"><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">先说IFR：</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">光纤通道属于第二层的协议，当两个或更多的光纤交换机连接，并组成一个大的FLAT型光纤网络时，光纤交换机需要确保整个光纤网络中没有重复的二层地址。</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">数据传输使用FSPF（Fabric Shortest &nbsp;Path First）协议选择最优路径进行数据传输（链路速度，延时，传输负载等）。</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">另外，光纤交换机之间需要同步SNS（Simple Name Server)，以确保所有的交换机都可以看到整个FABRIC中连接的TARGET设备，INITIOR才可以与TARGET进行跨SWITCH的访问。</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">ZONE在FCSW中被用作initiro和target作用区的划分，只有在一个ZONE内的INITIOR和TARGET才可以相互通信。</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">类似于以太网的LAN，FABRIC网络相当于一个单地址空间的子网，当需要扩展FABRIC时，需要将SWITCH以及相应设备加入到这个FABRIC中。当然单个FABRIC网络由于ISL已经端口的原因等，扩展到一定的情况下，就不建议再扩了，建议再新启一个FABRIC。</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">在一个企业当中，当有多个大型的独立FABRIC需要互联，但是有不建议使用ISL连接的情况下，可以考虑使用IFR。实际上IFR设备担当了NAT代理的角色。</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;"></p><div><img title="SAN Inter-Fabric Routing and Vitrual Fabrics - 德哥(DiGoal,Just Do It!) - Not Only DBA" alt="SAN Inter-Fabric Routing and Vitrual Fabrics - 德哥(DiGoal,Just Do It!) - Not Only DBA" style="margin:0 10px 0 0;" src="http://img245.ph.126.net/aXN13rBj_Ti4N9VL_vpGFQ==/2114158550075509603.jpg"></div>&nbsp;</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;"><span style="line-height: normal;"><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">如图，这使得处于SAN A环境中的服务器可以访问SAN B中的存储就像访问本地存储一样。</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">在IFR环境中，SAN A ,B,C属于独立的自治域，所以一个FABRIC的配置改变不会影响其他的FABRIC。</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">有了IFR可以建立非常大的SAN环境。最重要的是IFR不管连接的FABRIC是不是一个销售商的。结合FCIP（FIBRE CHANNEL OVER IP），IFR可以将不同地域的存储通过WAN整合起来。</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">接下来说说VITRUAL FABRICS</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">在某种情况下可能需要一个比较大的共享FABRICS环境分离成多个逻辑的FABRICS。每一个虚拟FABRIC都有自己的ZONE数据库和RSCN广播域，跨越多个FCSW的情况也是如此。</p></span></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;"></p><div><img title="SAN Inter-Fabric Routing and Vitrual Fabrics - 德哥(DiGoal,Just Do It!) - Not Only DBA" alt="SAN Inter-Fabric Routing and Vitrual Fabrics - 德哥(DiGoal,Just Do It!) - Not Only DBA" style="margin:0 10px 0 0;" src="http://img623.ph.126.net/xRfLEe4xSGuHng6VeEiMug==/1684064785661571005.jpg"></div><div><span style="line-height: normal;"><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">虚拟光纤网络在技术上是通过AD（管理域）来划分的。每个管理域包含了自己的端口和设备。一个端口和设备不能属于多个虚拟光纤网，AD。但是一个端口或设备可以属于多个ZONE。</p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 18px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 18px;">先写到这里</p></span></div>&nbsp;</p></span></div>
	</div>
</div>
</body>
</html>
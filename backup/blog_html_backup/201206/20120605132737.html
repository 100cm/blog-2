<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">PostgreSQL plpgsql function debugging module : pldebugger</h2>
	<h5 id="">2012-06-05 13:27:37&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/16387704020125511841144/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;">以前写过一篇PostgreSQL 函数调试环境搭建的BLOG<div><div>《PostgreSQL 9.1.3 plpgsql debugger module》</div><div><a target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201222011550296/"  >http://blog.163.com/digoal@126/blog/static/163877040201222011550296/</a></div><div>源码来源比较老, 很多PG的代码都搬到github上面了, 其中也包含了pldebugger, 这篇BLOG还是讲函数调试环境的搭建, 只是从GITHUB上弄pldebugger的源码.</div><div>1. 首先要安装git客户端,</div><div>git的安装参考</div><div><div>《git install》</div><div><a target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201242512825860/"  >http://blog.163.com/digoal@126/blog/static/163877040201242512825860/</a></div></div><div>2. 获取源码</div><div><pre class="prettyprint"  ><p></p><div><font size="2"  >[root@db-172-16-3-33 soft_bak]# git clone git://git.postgresql.org/git/pldebugger.git</font></div><div><font size="2"  >Cloning into 'pldebugger'...</font></div><div><font size="2"  >remote: Counting objects: 366, done.</font></div><div><font size="2"  >remote: Compressing objects: 100% (262/262), done.</font></div><div><font size="2"  >remote: Total 366 (delta 233), reused 171 (delta 104)</font></div><div><font size="2"  >Receiving objects: 100% (366/366), 158.87 KiB | 3 KiB/s, done.</font></div><div><font size="2"  >Resolving deltas: 100% (233/233), done.</font></div><p></p></pre></div><div>2. 安装(测试时使用的是PostgreSQL 9.2 beta2源码)</div><div><pre class="prettyprint"  ><p></p><div><font size="2"  >mv pldebugger $PG_SRC/contrib/</font></div><div><font size="2"  ><br></font></div><div><font size="2"  >cd $PG_SRC/contrib/pldebugger</font></div><div><font size="2"  >export PGHOME=/opt/pgsql</font></div><div><font size="2"  >export PATH=$PGHOME/bin:$PATH</font></div><div><font size="2"  >make</font></div><div><font size="2"  >sudo make install</font></div><p></p></pre></div><div>3. 加载模块</div><div><pre class="prettyprint"  ><p></p><div><font size="2"  >digoal@localhost-&gt; psql</font></div><div><font size="2"  >psql (9.2beta2)</font></div><div><font size="2"  >Type "help" for help.</font></div><div><font size="2"  ><br></font></div><div><font size="2"  >digoal=&gt; \c digoal postgres</font></div><div><font size="2"  >You are now connected to database "digoal" as user "postgres".</font></div><div><font size="2"  >digoal=# create extension pldbgapi;</font></div><div><font size="2"  >CREATE EXTENSION</font></div><p></p></pre></div><div>4. 调试plpgsql函数</div><div>略,&nbsp;</div><div>参见</div><div><a style="line-height: 22px; " target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201222011550296/"  >http://blog.163.com/digoal@126/blog/static/163877040201222011550296/</a> </div><br><wbr></div></div>
	</div>
</div>
</body>
</html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">oVirt engine 3.4 installed on CentOS 6.x x64</h2>
	<h5 id="">2014-07-28 17:24:23&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/1638770402014628114756319/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div><div>oVirt是RHEV的上游开源产品,&nbsp;<span style="line-height: 28px;"   >管理也和RHEV非常相似,&nbsp;</span><span style="line-height: 28px;"   >主打KVM的虚拟机管理平台. 相比OpenStack更加轻量化.</span></div><div>本文先介绍一下oVirt engine在CentOS 6.x x64平台下的安装.</div><div>除了数据库我们使用自己编译的PostgreSQL 9.3.5, 因为从依赖安装的版本实在太老了. 其他都使用依赖安装.</div><div><br></div><div>导入yum源</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   ># wget http://resources.ovirt.org/pub/yum-repo/ovirt-release34.rpm</font></div><div><font size="2"   ># rpm -ivh&nbsp;ovirt-release34.rpm</font></div><p></p></pre></div><div>或者</div><pre class="prettyprint"   ><p></p><div><font size="2"   >yum localinstall -y&nbsp;http://resources.ovirt.org/pub/yum-repo/ovirt-release34.rpm</font></div><div></div><p></p></pre><div><span style="line-height: 28px;"   >导入的源, gpgcheck建议改成0, 省得安装gpgkey, 没安装的话, 后面安装一些包的时候还可能报错.</span></div><div>最好不要改成0, 导入KEY可参考</div><div><a target="_blank" href="http://blog.163.com/digoal@126/blog/static/1638770402014740018561/"   >http://blog.163.com/digoal@126/blog/static/1638770402014740018561/</a></div><div><br></div><div>安装ovirt-engine, yum自动解决依赖关系.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   ># yum install -y ovirt-engine</font></div><div><font size="2"   >&nbsp;ovirt-engine &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; 1.3 M</font></div><div><font size="2"   >&nbsp;otopi &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; noarch &nbsp; &nbsp; &nbsp; 1.2.2-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; 133 k</font></div><div><font size="2"   >&nbsp;otopi-java &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 1.2.2-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; &nbsp;23 k</font></div><div><font size="2"   >&nbsp;ovirt-engine-backend &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; &nbsp;10 M</font></div><div><font size="2"   >&nbsp;ovirt-engine-cli &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.0.5-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;epel &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 196 k</font></div><div><font size="2"   >&nbsp;ovirt-engine-dbscripts &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; 189 k</font></div><div><font size="2"   >&nbsp;ovirt-engine-lib &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; &nbsp;20 k</font></div><div><font size="2"   >&nbsp;ovirt-engine-restapi &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; 2.2 M</font></div><div><font size="2"   >&nbsp;ovirt-engine-sdk-python &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; noarch &nbsp; &nbsp; &nbsp; 3.4.3.0-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; 685 k</font></div><div><font size="2"   >&nbsp;ovirt-engine-setup &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; 4.2 k</font></div><div><font size="2"   >&nbsp;ovirt-engine-setup-base &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; &nbsp;94 k</font></div><div><font size="2"   >&nbsp;ovirt-engine-setup-plugin-ovirt-engine &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; 134 k</font></div><div><font size="2"   >&nbsp;ovirt-engine-setup-plugin-ovirt-engine-common &nbsp; &nbsp; &nbsp; noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; &nbsp;22 k</font></div><div><font size="2"   >&nbsp;ovirt-engine-setup-plugin-websocket-proxy &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; &nbsp;13 k</font></div><div><font size="2"   >&nbsp;ovirt-engine-tools &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; 178 k</font></div><div><font size="2"   >&nbsp;ovirt-engine-userportal &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; &nbsp;82 M</font></div><div><font size="2"   >&nbsp;ovirt-engine-webadmin-portal &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; 105 M</font></div><div><font size="2"   >&nbsp;ovirt-engine-websocket-proxy &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; &nbsp;13 k</font></div><div><font size="2"   >&nbsp;ovirt-host-deploy &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; noarch &nbsp; &nbsp; &nbsp; 1.2.2-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; &nbsp;72 k</font></div><div><font size="2"   >&nbsp;ovirt-host-deploy-java &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 1.2.2-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; 7.3 k</font></div><div><font size="2"   >&nbsp;ovirt-image-uploader &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.2-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; 104 k</font></div><div><font size="2"   >&nbsp;ovirt-iso-uploader &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;noarch &nbsp; &nbsp; &nbsp; 3.4.3-1.el6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ovirt-3.4-stable &nbsp; &nbsp; &nbsp; &nbsp;36 k</font></div><p></p></pre></div></div><div><br></div><div>准备nfs目录, 用于存放ISO文件. 数据库的表空间目录.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   ># mkdir -p /ssd4/ovirt/iso</font></div><div><span style="line-height: 28px;"   ><font size="2"   ># mkdir -p /ssd4/pg93/tbs_ovirt</font></span></div><p></p></pre></div><div><span style="line-height: 28px;"   ><br></span></div><div><span style="line-height: 28px;"   >配置/etc/hosts, 主机名.&nbsp;</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-150 ~]# cat /etc/hosts</font></div><div><font size="2"   >127.0.0.1 &nbsp; localhost localhost.localdomain localhost4 localhost4.localdomain4</font></div><div><font size="2"   >172.16.3.150 db-172-16-3-150.sky-mobi.com</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >[root@db-172-16-3-150 ~]# cat /etc/sysconfig/network</font></div><div><font size="2"   >NETWORKING=yes</font></div><div><font size="2"   >HOSTNAME=db-172-16-3-150.sky-mobi.com</font></div><div><font size="2"   >GATEWAY=172.16.3.1</font></div><p></p></pre></div><div><br></div><div>配置数据库, 因为使用engine-setup设置engine时, Local数据库配置不能指定端口, 所以先使用默认的5432端口.&nbsp;</div><div>(有误, 选择Remote数据库配置, 可以配置端口, 所以数据库端口随意即可.)</div><div>后期要改可以改配置文件.&nbsp;</div><div>/etc/ovirt-engine/engine.conf.d</div><div><br></div><div>配置数据库</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >[root@db-172-16-3-150 ~]# su - pg93</font></div><div><font size="2"   >pg93@db-172-16-3-150-&gt; psql</font></div><div><font size="2"   >psql (9.3.3)</font></div><div><font size="2"   >Type "help" for help.</font></div><div><font size="2"   >digoal=# show port;</font></div><div><font size="2"   >&nbsp;port&nbsp;</font></div><div><font size="2"   >------</font></div><div><font size="2"   >&nbsp;5432</font></div><div><font size="2"   >(1 row)</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >create role ovirt superuser login encrypted password 'ovirt';  -- 建议给超级用户, 完全配置好之后, 再改成普通用户. 配置report时貌似需要超级用户权限</font></div><div><font size="2"   >create tablespace tbs_ovirt location '<span style="line-height: 28px;"   >/ssd4/pg93/tbs_ovirt';</span></font></div><div><span style="line-height: 28px;"   ><font size="2"   >create database ovirt with template template0 encoding 'UTF8' tablespace tbs_ovirt owner ovirt; &nbsp;-- 数据库登录用户必须是owner, 因为需要新建language.</font></span></div><div><font size="2"   >grant all on tablespace tbs_ovirt to ovirt;</font></div><div><font size="2"   >&nbsp;\c ovirt ovirt</font></div><div><font size="2"   ><br></font></div><div><span style="line-height: 28px;"   ><font size="2"   >#  ovirt=&gt; create schema ovirt;  -- 目前oVirt不可使用自定义schema, 建议用public, 因为使用ovirt schema 后, web 管理界面会进不去.</font></span></div><div><span style="line-height: 28px;"   ><font size="2"   >#　错误参考　</font></span><a style="line-height: 28px; font-family: 'Hiragino Sans GB W3', 'Hiragino Sans GB', Arial, Helvetica, simsun, &#23435;&#20307;;" target="_blank" href="http://blog.163.com/digoal@126/blog/static/1638770402014714521962/"   ><font size="2"   >http://blog.163.com/digoal@126/blog/static/1638770402014714521962/</font></a></div><div><font size="2"   >#  CREATE SCHEMA</font></div><div><font size="2"   >#  ovirt=&gt; \q</font></div></div><p></p></pre></div><div><span style="line-height: 28px;"   >另外使用engine-setup前, 建议安装和后端数据库版本相同的数据库, jdbc等. 建议使用的目录结构和yum安装的postgresql , jdbc等目录结构一至. --exec-prefix=/usr</span></div><div><br></div><div>配置ovirt engine. 按提示输入即可.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-150 ~]# engine-setup&nbsp;</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Initializing</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Environment setup</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Configuration files: ['/etc/ovirt-engine-setup.conf.d/10-packaging.conf']</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Log file: /var/log/ovirt-engine/setup/ovirt-engine-setup-20140728115413-jfj1wp.log</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Version: otopi-1.2.2 (otopi-1.2.2-1.el6)</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Environment packages setup</font></div><div><font size="2"   >[ INFO &nbsp;] Yum Downloading: epel-debuginfo/metalink 2.4 k(43%)</font></div><div><font size="2"   >[ INFO &nbsp;] Yum Downloading: repomdRx7eXltmp.xml (0%)</font></div><div><font size="2"   >[ INFO &nbsp;] Yum Downloading: repomdSxJzf2tmp.xml (0%)</font></div><div><font size="2"   >[ INFO &nbsp;] Yum Status: Downloading Packages</font></div><div><font size="2"   >[ INFO &nbsp;] Yum Download/Verify: iproute-2.6.32-32.el6_5.x86_64</font></div><div><font size="2"   >[ INFO &nbsp;] Yum Status: Check Package Signatures</font></div><div><font size="2"   >[ INFO &nbsp;] Yum Status: Running Test Transaction</font></div><div><font size="2"   >[ INFO &nbsp;] Yum Status: Running Transaction</font></div><div><font size="2"   >[ INFO &nbsp;] Yum update: 1/2: iproute-2.6.32-32.el6_5.x86_64</font></div><div><font size="2"   >[ INFO &nbsp;] Yum updated: 2/2: iproute</font></div><div><font size="2"   >[ INFO &nbsp;] Yum Verify: 1/2: iproute.x86_64 0:2.6.32-32.el6_5 - u</font></div><div><font size="2"   >[ INFO &nbsp;] Yum Verify: 2/2: iproute.x86_64 0:2.6.32-23.el6 - ud</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Programs detection</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Environment setup</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Environment customization</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== PRODUCT OPTIONS ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== PACKAGES ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >[ INFO &nbsp;] Checking for product updates...</font></div><div><font size="2"   >[ INFO &nbsp;] No product updates found</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== NETWORK CONFIGURATION ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Host fully qualified DNS name of this server [db-172-16-3-150.sky-mobi.com]:&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Setup can automatically configure the firewall on this system.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Note: automatic configuration of the firewall may overwrite current settings.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Do you want Setup to configure the firewall? (Yes, No) [Yes]: No</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== DATABASE CONFIGURATION ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Where is the Engine database located? (Local, Remote) [Local]:&nbsp;数据库选择Remote的话, 可以配置端口, Local不能选择配置端口.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Setup can configure the local postgresql server automatically for the engine to run. This may conflict with existing applications.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Would you like Setup to automatically configure postgresql and create Engine database, or prefer to perform that manually? (Automatic, Manual) [Automatic]: Manual</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ATTENTION</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Manual action required.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Please create database for ovirt-engine use. Use the following commands as an example:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; create role engine with login encrypted password 'engine';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; create database engine owner engine</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;template template0</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;encoding 'UTF8' lc_collate 'en_US.UTF-8'</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lc_ctype 'en_US.UTF-8';</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Make sure that database can be accessed remotely.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Engine database secured connection (Yes, No) [No]:&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Engine database name [engine]: ovirt</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Engine database user [engine]: ovirt</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Engine database password: &nbsp; 输入ovirt</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== OVIRT ENGINE CONFIGURATION ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Application mode (Both, Virt, Gluster) [Both]:&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Default storage type: (NFS, FC, ISCSI, POSIXFS, GLUSTERFS) [NFS]:&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Engine admin password: &nbsp;输入engine</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Confirm engine admin password: &nbsp;&nbsp;<span style="line-height: 28px;"   >输入engine</span></font></div><div><font size="2"   >[WARNING] Password is weak: it does not contain enough DIFFERENT characters</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Use weak password? (Yes, No) [No]: Yes</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== PKI CONFIGURATION ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Organization name for certificate [sky-mobi.com]:&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== APACHE CONFIGURATION ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Setup can configure apache to use SSL using a certificate issued from the internal CA.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Do you wish Setup to configure that, or prefer to perform that manually? (Automatic, Manual) [Automatic]:&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Setup can configure the default page of the web server to present the application home page. This may conflict with existing applications.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Do you wish to set the application as the default page of the web server? (Yes, No) [Yes]: No</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== SYSTEM CONFIGURATION ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Configure WebSocket Proxy on this machine? (Yes, No) [Yes]: No  </font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Configure an NFS share on this server to be used as an ISO Domain? (Yes, No) [Yes]:&nbsp;这里看情况, 可以不配置, 未来在ovirt engine WEB里配.</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Local ISO domain path [/var/lib/exports/iso]: /ssd4/ovirt/iso</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Local ISO domain ACL [0.0.0.0/0.0.0.0(rw)]:&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Local ISO domain name [ISO_DOMAIN]:&nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== MISC CONFIGURATION ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== END OF CONFIGURATION ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Setup validation</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== CONFIGURATION PREVIEW ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Engine database name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: ovirt</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Engine database secured connection &nbsp; &nbsp; &nbsp;: False</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Engine database host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: localhost</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Engine database user name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : ovirt</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Engine database host name validation &nbsp; &nbsp;: False</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Engine database port &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 5432</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NFS setup &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : True</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PKI organization &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: sky-mobi.com</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Application mode &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: both</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Update Firewall &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : False</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Configure WebSocket Proxy &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : True</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Host FQDN &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : db-172-16-3-150.sky-mobi.com</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NFS export ACL &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 0.0.0.0/0.0.0.0(rw)</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NFS mount point &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : /ssd4/ovirt/iso</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Datacenter storage type &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : nfs</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Configure local Engine database &nbsp; &nbsp; &nbsp; &nbsp; : False</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Set application as default page &nbsp; &nbsp; &nbsp; &nbsp; : False</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Configure Apache SSL &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: True</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Please confirm installation settings (OK, Cancel) [OK]:&nbsp;</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Transaction setup</font></div><div><font size="2"   >[ INFO &nbsp;] Stopping engine service</font></div><div><font size="2"   >[ INFO &nbsp;] Stopping websocket-proxy service</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Misc configuration</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Package installation</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Misc configuration</font></div><div><font size="2"   >[ INFO &nbsp;] Creating Engine database schema</font></div><div><font size="2"   >[ INFO &nbsp;] Creating CA</font></div><div><font size="2"   >[ INFO &nbsp;] Configuring WebSocket Proxy</font></div><div><font size="2"   >[ INFO &nbsp;] Generating post install configuration file '/etc/ovirt-engine-setup.conf.d/20-setup-ovirt-post.conf'</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Transaction commit</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Closing up</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== SUMMARY ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SSH fingerprint: EB:B1:B2:56:74:74:C7:FE:59:D2:B5:FE:65:85:D2:44</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Internal CA 80:04:4C:3F:3D:C5:98:10:D1:20:8B:32:8D:A0:98:A7:FF:2A:00:9B</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Web access is enabled at:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; http://db-172-16-3-150.sky-mobi.com:80/ovirt-engine</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; https://db-172-16-3-150.sky-mobi.com:443/ovirt-engine</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Please use the user "admin" and password specified in order to login</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; In order to configure firewalld, copy the files from</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /etc/ovirt-engine/firewalld to /etc/firewalld/services</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; and execute the following commands:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; firewall-cmd -service ovirt-postgres</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; firewall-cmd -service ovirt-https</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; firewall-cmd -service ovirt-websocket-proxy</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; firewall-cmd -service ovirt-nfs</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; firewall-cmd -service ovirt-http</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The following network ports should be opened:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tcp:111</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tcp:2049</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tcp:32803</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tcp:443</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tcp:5432</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tcp:6100</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tcp:662</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tcp:80</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tcp:875</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tcp:892</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; udp:111</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; udp:32769</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; udp:662</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; udp:875</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; udp:892</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; An example of the required configuration for iptables can be found at:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /etc/ovirt-engine/iptables.example</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --== END OF SUMMARY ==--</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >[ INFO &nbsp;] Starting engine service</font></div><div><font size="2"   >[ INFO &nbsp;] Restarting httpd</font></div><div><font size="2"   >[ INFO &nbsp;] Restarting nfs services</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Clean up</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Log file is located at /var/log/ovirt-engine/setup/ovirt-engine-setup-20140728115413-jfj1wp.log</font></div><div><font size="2"   >[ INFO &nbsp;] Generating answer file '/var/lib/ovirt-engine/setup/answers/20140728124134-setup.conf'</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Pre-termination</font></div><div><font size="2"   >[ INFO &nbsp;] Stage: Termination</font></div><div><font size="2"   >[ INFO &nbsp;] Execution of setup completed successfully</font></div><p></p></pre></div><div><br></div><div>如果配置有问题, 可以使用engine-cleanup命令清除配置, 并手工清除数据库schema, 重新执行engine-setup配置.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >#&nbsp;<span style="line-height: 28px;"   >engine-cleanup</span></font></div><div><span style="line-height: 28px;"   ><font size="2"   ><br></font></span></div><div><div><font size="2"   >ovirt=# drop schema public cascade;</font></div><div><font size="2"   >DROP SCHEMA</font></div></div><div><div><font size="2"   >ovirt=# create schema public; grant all on schema public to PUBLIC;</font></div><div><font size="2"   >CREATE SCHEMA</font></div></div><p></p></pre></div><div><br></div><div>正常配置完后, 会自动启动ovirt-engine服务.</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >[root@db-172-16-3-150 ~]# ps -ewf|grep engin</font></div><div><font size="2"   >ovirt &nbsp; &nbsp;24538 &nbsp; &nbsp; 1 &nbsp;0 12:41 ? &nbsp; &nbsp; &nbsp; &nbsp;00:00:00 /usr/bin/python /usr/share/ovirt-engine/services/ovirt-engine/ovirt-engine.py --pidfile=/var/run/ovirt-engine.pid --background --redirect-output start</font></div><div><font size="2"   >ovirt &nbsp; &nbsp;24540 24538 21 12:41 ? &nbsp; &nbsp; &nbsp; &nbsp;00:00:26 ovirt-engine -server -XX:+TieredCompilation -Xms1g -Xmx1g -XX:PermSize=256m -XX:MaxPermSize=256m -Djava.net.preferIPv4Stack=true -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Djava.awt.headless=true -Djsse.enableSNIExtension=false -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/var/log/ovirt-engine/dump -Djava.util.logging.manager=org.jboss.logmanager -Dlogging.configuration=file:///var/tmp/ovirt-engine/config/ovirt-engine-logging.properties -Dorg.jboss.resolver.warning=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djboss.modules.write-indexes=false -Djboss.server.default.config=ovirt-engine -Djboss.home.dir=/usr/share/jboss-as -Djboss.server.base.dir=/usr/share/ovirt-engine -Djboss.server.data.dir=/var/lib/ovirt-engine -Djboss.server.log.dir=/var/log/ovirt-engine -Djboss.server.config.dir=/var/tmp/ovirt-engine/config -Djboss.server.temp.dir=/var/tmp/ovirt-engine/tmp -Djboss.controller.temp.dir=/var/tmp/ovirt-engine/tmp -jar /usr/share/jboss-as/jboss-modules.jar -mp /var/tmp/ovirt-engine/modules/00-ovirt-engine-modules:/var/tmp/ovirt-engine/modules/01-jboss-as-modules -jaxpmodule javax.xml.jaxp-provider org.jboss.as.standalone -c ovirt-engine.xml</font></div><div><font size="2"   >ovirt &nbsp; &nbsp;24895 &nbsp; &nbsp; 1 &nbsp;0 12:41 ? &nbsp; &nbsp; &nbsp; &nbsp;00:00:00 /usr/bin/python /usr/share/ovirt-engine/services/ovirt-websocket-proxy/ovirt-websocket-proxy.py --pidfile=/var/run/ovirt-websocket-proxy.pid --background --redirect-output start</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >[root@db-172-16-3-150 ~]# cat /etc/exports</font></div><div><font size="2"   >/ssd4/ovirt/iso 0.0.0.0/0.0.0.0(rw)</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >[root@db-172-16-3-150 ~]# showmount -e 127.0.0.1</font></div><div><font size="2"   >Export list for 127.0.0.1:</font></div><div><font size="2"   >/ssd4/ovirt/iso 0.0.0.0/0.0.0.0</font></div></div><p></p></pre></div><div><br></div><div>接下来就可以使用WEB进行配置了.</div><div><div><img title="oVirt engine 3.4 installed on CentOS 6.x x64 - 德哥@Digoal - PostgreSQL research"   alt="oVirt engine 3.4 installed on CentOS 6.x x64 - 德哥@Digoal - PostgreSQL research"   style="margin:0 10px 0 0;"   src="http://img2.ph.126.net/stF0sEt6YdRkK2T50Fb8YA==/6608697102120133106.png"   ></div><br></div><div>ovirt 报表门户的安装进入这里</div><div><a target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201462942137640/"   >http://blog.163.com/digoal@126/blog/static/163877040201462942137640/</a></div><div><br></div><div>后面继续配置. 先写到这里.</div><div><br></div>[参考]<wbr><div>1.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://openvswitch.org/"   >http://openvswitch.org/</a></div><div>2.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://www.ovirt.org/Download"   >http://www.ovirt.org/Download</a></div><div>3.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://www.ovirt.org/Quick_Start_Guide"   >http://www.ovirt.org/Quick_Start_Guide</a></div><div>4.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://www.2cto.com/os/201202/120678.html"   >http://www.2cto.com/os/201202/120678.html</a></div><div>5.&nbsp;<a style="line-height: 28px;" target="_blank" href="http://blog.163.com/digoal@126/blog/static/163877040201462942137640/"   >http://blog.163.com/digoal@126/blog/static/163877040201462942137640/</a></div><div><br></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="oVirt engine 3.4 installed on CentOS 6.x x64 - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">Docker fence</h2>
	<h5 id="">2014-09-29 15:27:11&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201482932436253/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>docker的fence是通过docker服务端的api来关闭container的.</div><div>目前fence docker还没有加到epel库中, 所以在centos或rhel中使用, 需要从src编译.</div><div><br></div><div><pre class="prettyprint"   ><p></p><div><span style="line-height: 28px;"   ><font size="2"   >wget&nbsp;https://kojipkgs.fedoraproject.org//packages/fence-agents/4.0.11/1.fc20/src/fence-agents-4.0.11-1.fc20.src.rpm</font></span></div><div><font size="2"   >rpm -ivh&nbsp;<span style="line-height: 28px;"   >fence-agents-4.0.11-1.fc20.src.rpm</span></font></div><div><font size="2"   >[root@150 soft_bak]# cd ~/rpmbuild/SOURCES/</font></div><div><div><font size="2"   >[root@150 SOURCES]# ll</font></div><div><font size="2"   >total 2904</font></div><div><font size="2"   >-rw-rw-r--. 1 root root &nbsp;605312 Aug 27 22:04 fence-agents-4.0.11.tar.xz</font></div></div><div><font size="2"   >[root@150 SOURCES]# tar -xvf fence-agents-4.0.11.tar.xz</font></div><div><font size="2"   >[root@150 SOURCES]# cd fence-agents-4.0.11</font></div><div><font size="2"   ># yum install -y libtool</font></div><div><font size="2"   ># ./configure ; make ; make install</font></div><div><div><font size="2"   ><br></font></div><div><font size="2"   >[root@150 fence-agents-4.0.11]# cd fence/agents/docker/</font></div><div><font size="2"   >[root@150 docker]# ll</font></div><div><font size="2"   >total 68</font></div><div><font size="2"   >-r-x------ 1 root root &nbsp;4608 Sep 29 15:12 fence_docker</font></div><div><font size="2"   >-rw-r--r-- 1 root root &nbsp;4774 Sep 29 15:12 fence_docker.8</font></div><div><font size="2"   >-rw-rw-r-- 1 1000 1000 &nbsp;4517 Aug &nbsp;6 15:35 fence_docker.py</font></div><div><font size="2"   >-rw-r--r-- 1 root root 19126 Sep 29 15:12 Makefile</font></div><div><font size="2"   >-rw-rw-r-- 1 1000 1000 &nbsp; 354 Aug &nbsp;6 15:35 Makefile.am</font></div><div><font size="2"   >-rw-r--r-- 1 root root 18002 Sep 29 15:12 Makefile.in</font></div></div><p></p></pre></div><div><div><br></div><div>还依赖fence common, 所以暂时不能使用. 可以了解一下先 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@150 docker]# ./fence_docker --help</font></div><div><font size="2"   >Usage:</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; fence_docker [options]</font></div><div><font size="2"   >Options:</font></div><div><font size="2"   >&nbsp; &nbsp;-a, --ip=[ip] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;IP address or hostname of fencing device</font></div><div><font size="2"   >&nbsp; &nbsp;-n, --plug=[id] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Physical plug number on device, UUID or</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; identification of machine</font></div><div><font size="2"   >&nbsp; &nbsp;-m, --method=[method] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Method to fence (onoff|cycle) (Default: onoff)</font></div><div><font size="2"   >&nbsp; &nbsp;-z, --ssl &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Use ssl connection</font></div><div><font size="2"   >&nbsp; &nbsp;-u, --ipport=[port] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TCP/UDP port to use</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (default 80, 443 if --ssl option is used)</font></div><div><font size="2"   >&nbsp; &nbsp;-4, --inet4-only &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Forces agent to use IPv4 addresses only</font></div><div><font size="2"   >&nbsp; &nbsp;-6, --inet6-only &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Forces agent to use IPv6 addresses only</font></div><div><font size="2"   >&nbsp; &nbsp;-o, --action=[action] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Action: status, reboot (default), off or on</font></div><div><font size="2"   >&nbsp; &nbsp;--tlscert &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Path to client certificate for TLS authentication</font></div><div><font size="2"   >&nbsp; &nbsp;--tlskey &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Path to client key for TLS authentication</font></div><div><font size="2"   >&nbsp; &nbsp;--tlscacert &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Path to CA certificate for TLS authentication</font></div><div><font size="2"   >&nbsp; &nbsp;-v, --verbose &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Verbose mode</font></div><div><font size="2"   >&nbsp; &nbsp;-D, --debug-file=[debugfile] &nbsp; Debugging to output file</font></div><div><font size="2"   >&nbsp; &nbsp;-V, --version &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Output version information and exit</font></div><div><font size="2"   >&nbsp; &nbsp;-h, --help &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Display this help and exit</font></div><div><font size="2"   >&nbsp; &nbsp;-C, --separator=[char] &nbsp; &nbsp; &nbsp; &nbsp; Separator for CSV created by 'list' operation</font></div><div><font size="2"   >&nbsp; &nbsp;--power-timeout=[seconds] &nbsp; &nbsp; &nbsp;Test X seconds for status change after ON/OFF</font></div><div><font size="2"   >&nbsp; &nbsp;--shell-timeout=[seconds] &nbsp; &nbsp; &nbsp;Wait X seconds for cmd prompt after issuing command</font></div><div><font size="2"   >&nbsp; &nbsp;--login-timeout=[seconds] &nbsp; &nbsp; &nbsp;Wait X seconds for cmd prompt after login</font></div><div><font size="2"   >&nbsp; &nbsp;--power-wait=[seconds] &nbsp; &nbsp; &nbsp; &nbsp; Wait X seconds after issuing ON/OFF</font></div><div><font size="2"   >&nbsp; &nbsp;--delay=[seconds] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Wait X seconds before fencing is started</font></div><div><font size="2"   >&nbsp; &nbsp;--retry-on=[attempts] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Count of attempts to retry power on</font></div><p></p></pre></div></div><div>帮助文档 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@150 docker]# man ./fence_docker.8</font></div><div><div><font size="2"   >FENCE_AGENT(8) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FENCE_AGENT(8)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >NAME</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;fence_docker - Fence agent for Docker</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >DESCRIPTION</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;fence_docker &nbsp;is I/O fencing agent which can be used with the Docker Engine containers. You can use this fence-</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;agent without any authentication, or you can use TLS authentication (use --ssl &nbsp;option, &nbsp;more &nbsp;info &nbsp;about &nbsp;TLS</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;authentication in docker: http://docs.docker.com/examples/https/).</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;fence_docker &nbsp;accepts &nbsp;options on the command line as well as from stdin. Fenced sends parameters through stdin</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;when it execs the agent. fence_docker can be run by itself with command line options. &nbsp;This is useful for test-</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;ing and for turning outlets on or off from scripts.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;Vendor URL: www.docker.io</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >PARAMETERS</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-u, --ipport=[port]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TCP/UDP port to use for connection with device (Default Value: 80)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-n, --plug=[id]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Physical plug number, name of virtual machine or UUID This parameter is always required.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-6, --inet6-only</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Forces agent to use IPv6 addresses only</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-a, --ip=[ip]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IP Address or Hostname This parameter is always required.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-4, --inet4-only</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Forces agent to use IPv4 addresses only</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-m, --method=[method]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Method to fence (onoff|cycle) (Default Value: onoff)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-z, --ssl</font></div></div><div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SSL connection</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-o, --action=[action]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Fencing Action (Default Value: reboot)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;--tlskey</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Path to client key (PEM format) for TLS authentication. Required if --ssl option is used.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;--tlscacert</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Path to CA certificate (PEM format) for TLS authentication. Required if --ssl option is used.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;--tlscert</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Path to client certificate (PEM format) for TLS authentication. Required if --ssl option is used.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-v, --verbose</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Verbose mode</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-D, --debug-file=[debugfile]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Write debug information to given file</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-V, --version</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Display version information and exit</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-h, --help</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Display help and exit</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;-C, --separator=[char]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Separator for CSV created by operation list (Default Value: ,)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;--power-wait=[seconds]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Wait X seconds after issuing ON/OFF (Default Value: 0)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;--power-timeout=[seconds]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Test X seconds for status change after ON/OFF (Default Value: 20)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;--delay=[seconds]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Wait X seconds before fencing is started (Default Value: 0)</font></div></div><div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;--login-timeout=[seconds]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Wait X seconds for cmd prompt after login (Default Value: 5)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;--shell-timeout=[seconds]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Wait X seconds for cmd prompt after issuing command (Default Value: 3)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;--retry-on=[attempts]</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Count of attempts to retry power on (Default Value: 1)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >ACTIONS</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;on &nbsp; &nbsp; Power on machine.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;off &nbsp; &nbsp;Power off machine.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;reboot Reboot machine.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;status This returns the status of the plug/virtual machine.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;list &nbsp; List available plugs with aliases/virtual machines if there is support for more then one device. Returns</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; N/A otherwise.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;monitor</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Check the health of fence device</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;metadata</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Display the XML metadata describing this resource.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >STDIN PARAMETERS</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;ipport TCP/UDP port to use for connection with device (Default Value: 80)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;port &nbsp; Physical plug number, name of virtual machine or UUID This parameter is always required.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;inet6_only</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Forces agent to use IPv6 addresses only</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;ipaddr IP Address or Hostname This parameter is always required.</font></div></div><div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;inet4_only</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Forces agent to use IPv4 addresses only</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;method Method to fence (onoff|cycle) (Default Value: onoff)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;ssl &nbsp; &nbsp;SSL connection</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;action Fencing Action (Default Value: reboot)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;tlskey Path to client key (PEM format) for TLS authentication. Required if --ssl option is used.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;tlscacert</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Path to CA certificate (PEM format) for TLS authentication. Required if --ssl option is used.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;tlscert</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Path to client certificate (PEM format) for TLS authentication. Required if --ssl option is used.</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;verbose</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Verbose mode</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;debug &nbsp;Write debug information to given file</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;version</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Display version information and exit</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;help &nbsp; Display help and exit</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;separator</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Separator for CSV created by operation list (Default Value: ,)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;power_wait</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Wait X seconds after issuing ON/OFF (Default Value: 0)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;power_timeout</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Test X seconds for status change after ON/OFF (Default Value: 20)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;delay &nbsp;Wait X seconds before fencing is started (Default Value: 0)</font></div></div><div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;login_timeout</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Wait X seconds for cmd prompt after login (Default Value: 5)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;shell_timeout</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Wait X seconds for cmd prompt after issuing command (Default Value: 3)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;retry_on</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Count of attempts to retry power on (Default Value: 1)</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >fence_docker (Fence Agent) &nbsp; &nbsp; &nbsp; &nbsp;2009-10-20 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FENCE_AGENT(8)</font></div></div><p></p></pre></div><wbr><div><br></div>[参考]<wbr>&nbsp;<div>1.&nbsp;<a target="_blank" rel="nofollow" href="https://apps.fedoraproject.org/packages/fence-agents"   >https://apps.fedoraproject.org/packages/fence-agents</a><br><div><br></div><div><a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="Docker fence - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a><br></div></div></div>
	</div>
	<h3>评论</h3>
	<div class="" id="" style="padding:0 20px;">
			<div id="">
				<h5 id="">alexsunchenchen - 2014-09-29 17:31:05</h5>
				<div>德哥，用docker run pgsql，有什么好经验可以分享么~</div>
			</div>
			<div style="padding-left:40px;">
				<h5 id="">德哥@Digoal 回复 alexsunchenchen - 2014-09-29 17:31:05</h5>
				<div style="width:600px;">还在研究, 看起来前途不错, 做RDS, pass, 快速部署都不错.</div>
			</div>
	</div>
</div>
</body>
</html>
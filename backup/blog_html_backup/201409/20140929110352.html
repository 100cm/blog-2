<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">don't touch /var/lib/docker during run container else ERROR: device or resource busy</h2>
	<h5 id="">2014-09-29 11:03:52&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201482910531328/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div><div>我用的环境是CentOS 6.5 x64, docker-io-1.1.2-1版本.</div><div>docker-io包来自EPEL,&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[epel]</font></div><div><font size="2"   >name=Extra Packages for Enterprise Linux 6 - $basearch</font></div><div><font size="2"   >#baseurl=http://download.fedoraproject.org/pub/epel/6/$basearch</font></div><div><font size="2"   >mirrorlist=https://mirrors.fedoraproject.org/metalink?repo=epel-6&amp;arch=$basearch</font></div><div><font size="2"   >failovermethod=priority</font></div><div><font size="2"   >enabled=1</font></div><div><font size="2"   >gpgcheck=1</font></div><div><font size="2"   >gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6</font></div><p></p></pre></div><div>docker-io 包的内容如下:</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@150 ~]# rpm -ql docker-io</font></div><div><font size="2"   >/etc/bash_completion.d</font></div><div><font size="2"   >/etc/bash_completion.d/docker.bash</font></div><div><font size="2"   >/etc/rc.d/init.d/docker</font></div><div><font size="2"   >/etc/sysconfig/docker</font></div><div><font size="2"   >/etc/udev/rules.d</font></div><div><font size="2"   >/etc/udev/rules.d/80-docker.rules</font></div><div><font size="2"   >/usr/bin/docker</font></div><div><font size="2"   >/usr/libexec/docker</font></div><div><font size="2"   >/usr/libexec/docker/dockerinit</font></div><div><font size="2"   >/usr/share/doc/docker-io-1.1.2</font></div><div><font size="2"   >/usr/share/doc/docker-io-1.1.2/AUTHORS</font></div><div><font size="2"   >/usr/share/doc/docker-io-1.1.2/CHANGELOG.md</font></div><div><font size="2"   >/usr/share/doc/docker-io-1.1.2/CONTRIBUTING.md</font></div><div><font size="2"   >/usr/share/doc/docker-io-1.1.2/FIXME</font></div><div><font size="2"   >/usr/share/doc/docker-io-1.1.2/LICENSE</font></div><div><font size="2"   >/usr/share/doc/docker-io-1.1.2/LICENSE-vim-syntax</font></div><div><font size="2"   >/usr/share/doc/docker-io-1.1.2/MAINTAINERS</font></div><div><font size="2"   >/usr/share/doc/docker-io-1.1.2/NOTICE</font></div><div><font size="2"   >/usr/share/doc/docker-io-1.1.2/README-vim-syntax.md</font></div><div><font size="2"   >/usr/share/doc/docker-io-1.1.2/README.md</font></div><div><font size="2"   >/usr/share/man/man1/docker-attach.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-build.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-commit.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-cp.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-diff.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-events.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-export.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-history.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-images.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-import.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-info.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-inspect.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-kill.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-load.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-login.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-logs.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-pause.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-port.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-ps.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-pull.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-push.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-restart.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-rm.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-rmi.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-run.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-save.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-search.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-start.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-stop.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-tag.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-top.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-unpause.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-version.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker-wait.1.gz</font></div><div><font size="2"   >/usr/share/man/man1/docker.1.gz</font></div><div><font size="2"   >/usr/share/man/man5/Dockerfile.5.gz</font></div><div><font size="2"   >/usr/share/vim/vimfiles/doc</font></div><div><font size="2"   >/usr/share/vim/vimfiles/doc/dockerfile.txt</font></div><div><font size="2"   >/usr/share/vim/vimfiles/ftdetect</font></div><div><font size="2"   >/usr/share/vim/vimfiles/ftdetect/dockerfile.vim</font></div><div><font size="2"   >/usr/share/vim/vimfiles/syntax</font></div><div><font size="2"   >/usr/share/vim/vimfiles/syntax/dockerfile.vim</font></div><div><font size="2"   >/usr/share/zsh/site-functions/_docker</font></div><div><font size="2"   >/var/lib/docker</font></div><p></p></pre></div><div><br></div><div>/var/lib/docker 应该是存放本地image的目录. 在pull期间, 我只是du -sh了这个目录, 导致了pull失败, 如下 :&nbsp;</div><div>检索docker hub中包含postgresql的images.</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >[root@150 ~]# docker search postgresql</font></div><div><font size="2"   >NAME &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DESCRIPTION &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; STARS &nbsp; &nbsp; OFFICIAL &nbsp; AUTOMATED</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PostgreSQL is a powerful, open source obje... &nbsp; 208 &nbsp; &nbsp; &nbsp; [OK] &nbsp; &nbsp; &nbsp;&nbsp;</font></div></div><div><font size="2"   >......</font></div><div><font size="2"   >radbot/postgresql-9.3.5 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >......</font></div><p></p></pre></div></div><wbr><div><br></div><div>运行这个image, 因为本地没有这个image, 所以会自动下载 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@150 ~]# docker run radbot/postgresql-9.3.5 psql -V</font></div><div><font size="2"   >Unable to find image 'radbot/postgresql-9.3.5' locally</font></div><div><font size="2"   >Pulling repository radbot/postgresql-9.3.5</font></div><div><font size="2"   >d61abc8c1dd3: Error pulling image (latest) from radbot/postgresql-9.3.5, Error mounting '/dev/mapper/docker-8:1-786593-68b76f93ae18b25093f6d45a85f203c66af75b0608253106b950129ba1af9280' on '/var/lib/docker/devicemapper/mnt/68b76f93ae18b25093f6d45a85f203c66af75b0608253106b950129ba1af9280': device or resource busy 6b950129ba1af9280': device or resource busy&nbsp;</font></div><div><font size="2"   >9942dd43ff21: Download complete&nbsp;</font></div><div><font size="2"   >d92c3c92fa73: Download complete&nbsp;</font></div><div><font size="2"   >0ea0d582fd90: Download complete&nbsp;</font></div><div><font size="2"   >cc58e55aa5a5: Download complete&nbsp;</font></div><div><font size="2"   >c4ff7513909d: Download complete&nbsp;</font></div><div><font size="2"   >68b76f93ae18: Download complete&nbsp;</font></div><div><font size="2"   >82fe8ad2c400: Error downloading dependent layers&nbsp;</font></div><div><font size="2"   >2014/09/29 09:58:02 Error pulling image (latest) from radbot/postgresql-9.3.5, Error mounting '/dev/mapper/docker-8:1-786593-68b76f93ae18b25093f6d45a85f203c66af75b0608253106b950129ba1af9280' on '/var/lib/docker/devicemapper/mnt/68b76f93ae18b25093f6d45a85f203c66af75b0608253106b950129ba1af9280': device or resource busy</font></div><p></p></pre></div><div>创建container, unifs等.</div><div>不清楚是什么原因造成这个失败的, 我只是在这个过程中du了/var/lib/docker的目录.&nbsp;</div><div>失败后, 这个image还在本地.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@150 ~]# docker images</font></div><div><font size="2"   >REPOSITORY &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TAG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IMAGE ID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CREATED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VIRTUAL SIZE</font></div><div><font size="2"   >ubuntu &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14.04 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c3d5614fecc4 &nbsp; &nbsp; &nbsp; &nbsp;24 hours ago &nbsp; &nbsp; &nbsp; &nbsp;194.8 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;68b76f93ae18 &nbsp; &nbsp; &nbsp; &nbsp;5 weeks ago &nbsp; &nbsp; &nbsp; &nbsp; 232.9 MB</font></div><div><font size="2"   >[root@150 ~]# docker images -a</font></div><div><font size="2"   >REPOSITORY &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TAG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IMAGE ID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CREATED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VIRTUAL SIZE</font></div><div><font size="2"   >ubuntu &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14.04 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c3d5614fecc4 &nbsp; &nbsp; &nbsp; &nbsp;24 hours ago &nbsp; &nbsp; &nbsp; &nbsp;194.8 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;96e1c132acb3 &nbsp; &nbsp; &nbsp; &nbsp;24 hours ago &nbsp; &nbsp; &nbsp; &nbsp;194.8 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;311ec46308da &nbsp; &nbsp; &nbsp; &nbsp;24 hours ago &nbsp; &nbsp; &nbsp; &nbsp;192.8 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1b2af7d5307a &nbsp; &nbsp; &nbsp; &nbsp;24 hours ago &nbsp; &nbsp; &nbsp; &nbsp;192.7 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;c31865d83ea1 &nbsp; &nbsp; &nbsp; &nbsp;24 hours ago &nbsp; &nbsp; &nbsp; &nbsp;192.7 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8cbdf71a8e7f &nbsp; &nbsp; &nbsp; &nbsp;24 hours ago &nbsp; &nbsp; &nbsp; &nbsp;192.6 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;68b76f93ae18 &nbsp; &nbsp; &nbsp; &nbsp;5 weeks ago &nbsp; &nbsp; &nbsp; &nbsp; 232.9 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;c4ff7513909d &nbsp; &nbsp; &nbsp; &nbsp;6 weeks ago &nbsp; &nbsp; &nbsp; &nbsp; 213 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cc58e55aa5a5 &nbsp; &nbsp; &nbsp; &nbsp;6 weeks ago &nbsp; &nbsp; &nbsp; &nbsp; 213 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0ea0d582fd90 &nbsp; &nbsp; &nbsp; &nbsp;6 weeks ago &nbsp; &nbsp; &nbsp; &nbsp; 192.7 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;d92c3c92fa73 &nbsp; &nbsp; &nbsp; &nbsp;6 weeks ago &nbsp; &nbsp; &nbsp; &nbsp; 192.7 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9942dd43ff21 &nbsp; &nbsp; &nbsp; &nbsp;6 weeks ago &nbsp; &nbsp; &nbsp; &nbsp; 192.7 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1c9383292a8f &nbsp; &nbsp; &nbsp; &nbsp;6 weeks ago &nbsp; &nbsp; &nbsp; &nbsp; 192.5 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;511136ea3c5a &nbsp; &nbsp; &nbsp; &nbsp;15 months ago &nbsp; &nbsp; &nbsp; 0 B</font></div><p></p></pre></div><div>删除image</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@150 ~]# docker rmi -f 68b76f93ae18</font></div><div><font size="2"   >Deleted: 68b76f93ae18b25093f6d45a85f203c66af75b0608253106b950129ba1af9280</font></div><div><font size="2"   >Deleted: c4ff7513909dedf4ddf3a450aea68cd817c42e698ebccf54755973576525c416</font></div><div><font size="2"   >Deleted: cc58e55aa5a53b572f3b9009eb07e50989553b95a1545a27dcec830939892dba</font></div><div><font size="2"   >Deleted: 0ea0d582fd9027540c1f50c7f0149b237ed483d2b95ac8d107f9db5a912b4240</font></div><div><font size="2"   >Deleted: d92c3c92fa73ba974eb409217bb86d8317b0727f42b73ef5a05153b729aaf96b</font></div><div><font size="2"   >Deleted: 9942dd43ff211ba917d03637006a83934e847c003bef900e4808be8021dca7bd</font></div><div><font size="2"   >Deleted: 1c9383292a8ff4c4196ff4ffa36e5ff24cb217606a8d1f471f4ad27c4690e290</font></div><p></p></pre></div><div><br></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@150 ~]# docker images</font></div><div><font size="2"   >REPOSITORY &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TAG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IMAGE ID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CREATED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VIRTUAL SIZE</font></div><div><font size="2"   >ubuntu &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14.04 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c3d5614fecc4 &nbsp; &nbsp; &nbsp; &nbsp;24 hours ago &nbsp; &nbsp; &nbsp; &nbsp;194.8 MB</font></div><p></p></pre></div><div>再次运行依然失败, 说明问题不在image</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@150 ~]# docker run radbot/postgresql-9.3.5 psql -V</font></div><div><font size="2"   >Unable to find image 'radbot/postgresql-9.3.5' locally</font></div><div><font size="2"   >Pulling repository radbot/postgresql-9.3.5</font></div><div><font size="2"   >d61abc8c1dd3: Error pulling image (latest) from radbot/postgresql-9.3.5, Driver devicemapper failed to create image rootfs 68b76f93ae18b25093f6d45a85f203c66af75b0608253106b950129ba1af9280: device 68b76f93ae18b25093f6d45a85f203c66af75b0608253106b950129ba1af9280 already exists 5b0608253106b950129ba1af9280 already exists&nbsp;</font></div><div><font size="2"   >9942dd43ff21: Download complete&nbsp;</font></div><div><font size="2"   >d92c3c92fa73: Download complete&nbsp;</font></div><div><font size="2"   >0ea0d582fd90: Download complete&nbsp;</font></div><div><font size="2"   >cc58e55aa5a5: Download complete&nbsp;</font></div><div><font size="2"   >c4ff7513909d: Download complete&nbsp;</font></div><div><font size="2"   >68b76f93ae18: Error downloading dependent layers&nbsp;</font></div><div><font size="2"   >2014/09/29 10:07:06 Error pulling image (latest) from radbot/postgresql-9.3.5, Driver devicemapper failed to create image rootfs 68b76f93ae18b25093f6d45a85f203c66af75b0608253106b950129ba1af9280: device 68b76f93ae18b25093f6d45a85f203c66af75b0608253106b950129ba1af9280 already exists</font></div><p></p></pre></div><div>应该是创建container时造成的失败, 需要删除这个设备后才可以正常.</div><div>当前不能删除这个设备.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@150 ~]# dmsetup remove -f /dev/mapper/docker-8:1-786593-68b76f93ae18b25093f6d45a85f203c66af75b0608253106b950129ba1af9280</font></div><div><font size="2"   >device-mapper: resume ioctl on docker-8:1-786593-68b76f93ae18b25093f6d45a85f203c66af75b0608253106b950129ba1af9280 failed: Invalid argument</font></div><div><font size="2"   >device-mapper: remove ioctl on docker-8:1-786593-68b76f93ae18b25093f6d45a85f203c66af75b0608253106b950129ba1af9280 failed: Device or resource busy</font></div><div><font size="2"   >Command failed</font></div><p></p></pre></div><div><br></div><div>重启服务器, 再次pull, run成功.</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >[root@150 ~]# docker images</font></div><div><font size="2"   >REPOSITORY &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TAG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IMAGE ID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CREATED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VIRTUAL SIZE</font></div><div><font size="2"   >ubuntu &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14.04 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c3d5614fecc4 &nbsp; &nbsp; &nbsp; &nbsp;24 hours ago &nbsp; &nbsp; &nbsp; &nbsp;194.8 MB</font></div><div><font size="2"   >&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;none&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;c4ff7513909d &nbsp; &nbsp; &nbsp; &nbsp;6 weeks ago &nbsp; &nbsp; &nbsp; &nbsp; 213 MB</font></div><div><font size="2"   >[root@150 ~]# docker rmi c4ff7513909d</font></div><div><font size="2"   >Deleted: c4ff7513909dedf4ddf3a450aea68cd817c42e698ebccf54755973576525c416</font></div><div><font size="2"   >Deleted: cc58e55aa5a53b572f3b9009eb07e50989553b95a1545a27dcec830939892dba</font></div><div><font size="2"   >Deleted: 0ea0d582fd9027540c1f50c7f0149b237ed483d2b95ac8d107f9db5a912b4240</font></div><div><font size="2"   >Deleted: d92c3c92fa73ba974eb409217bb86d8317b0727f42b73ef5a05153b729aaf96b</font></div><div><font size="2"   >Deleted: 9942dd43ff211ba917d03637006a83934e847c003bef900e4808be8021dca7bd</font></div><div><font size="2"   >Deleted: 1c9383292a8ff4c4196ff4ffa36e5ff24cb217606a8d1f471f4ad27c4690e290</font></div><div><font size="2"   >[root@150 ~]# docker run radbot/postgresql-9.3.5 psql -V</font></div><div><font size="2"   >Unable to find image 'radbot/postgresql-9.3.5' locally</font></div><div><font size="2"   >Pulling repository radbot/postgresql-9.3.5</font></div><div><font size="2"   >d61abc8c1dd3: Download complete&nbsp;</font></div><div><font size="2"   >511136ea3c5a: Download complete&nbsp;</font></div><div><font size="2"   >1c9383292a8f: Download complete&nbsp;</font></div><div><font size="2"   >9942dd43ff21: Download complete&nbsp;</font></div><div><font size="2"   >d92c3c92fa73: Download complete&nbsp;</font></div><div><font size="2"   >0ea0d582fd90: Download complete&nbsp;</font></div><div><font size="2"   >cc58e55aa5a5: Download complete&nbsp;</font></div><div><font size="2"   >c4ff7513909d: Download complete&nbsp;</font></div><div><font size="2"   >68b76f93ae18: Download complete&nbsp;</font></div><div><font size="2"   >82fe8ad2c400: Download complete&nbsp;</font></div><div><font size="2"   >psql (PostgreSQL) 9.3.5</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >[root@150 yum.repos.d]# docker images</font></div><div><font size="2"   >REPOSITORY &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TAG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IMAGE ID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CREATED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VIRTUAL SIZE</font></div><div><font size="2"   >ubuntu &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14.04 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c3d5614fecc4 &nbsp; &nbsp; &nbsp; &nbsp;25 hours ago &nbsp; &nbsp; &nbsp; &nbsp;194.8 MB</font></div><div><font size="2"   >radbot/postgresql-9.3.5 &nbsp; latest &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;d61abc8c1dd3 &nbsp; &nbsp; &nbsp; &nbsp;5 weeks ago &nbsp; &nbsp; &nbsp; &nbsp; 309 MB</font></div></div><p></p></pre></div><div><br></div>[参考]<wbr><div>1. man docker<br></div><div><br></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="dont touch /var/lib/docker during pull images else ERROR: device or resource busy - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
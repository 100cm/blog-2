<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">ext3 , ext4 rm deleted file recovery</h2>
	<h5 id="">2014-03-12 16:00:32&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/16387704020142124032866/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>例子转自互联网.</div><div>恢复时可反复的查看inode或者block的信息判断是否需要的信息. 直接使用restore-all可能无法达到目的的情况下, 使用这种方法还可以恢复一些文件, 特别是文本, 直接恢复数据块也是可以的.</div><div><div>1.安装软件(extundelete依赖于系统的e2fsprogs三个软件包)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 home]# mkdir /mnt/cdrom &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--创建光盘挂载目录</div><div>&nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 home]# mount /dev/cdrom /mnt/cdrom &nbsp; &nbsp; &nbsp; &nbsp; --挂载光盘&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; mount: block device /dev/sr0 is write-protected, mounting read-only</div><div>&nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 home]# vim /etc/yum.repos.d/base.repo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--配置系统的本地源</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [base]</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; name=base</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; baseurl=file:///mnt/cdrom</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; enabled=1</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gpgcheck=1</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gpgkey=file:///mnt/cdrom/RPM-GPG-KEY-REDHAT-6</div><div>&nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 home]# yum install e2fs* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--安装extundelete软件的依赖包</div><div>&nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 home]# rpm -aq |grep e2fs &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--检查软件包是否安装</div><div>&nbsp; &nbsp; &nbsp; &nbsp; e2fsprogs-devel-1.41.12-14.el6.i686</div><div>&nbsp; &nbsp; &nbsp; &nbsp; e2fsprogs-libs-1.41.12-14.el6.i686</div><div>&nbsp; &nbsp; &nbsp; &nbsp; e2fsprogs-1.41.12-14.el6.i686</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 home]#wgethttp://nchc.dl.sourceforge.net/project/extundelete/extundelete/0.2.4/extundelete-0.2.4.tar.bz2--下载extundelete软件包</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 home]# tar xvf extundelete-0.2.4.tar.bz2 &nbsp; &nbsp;--解压软件包</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 home]# cd extundelete-0.2.4 &nbsp; &nbsp; --进入软件包</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 ext3grep-0.10.2]# ./configure --prefix=/usr/local/extundelete &nbsp;&amp;&amp; make &amp;&amp; make install &nbsp; &nbsp; &nbsp; &nbsp;--安装软件</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 ext3grep-0.10.2]# ll /usr/local/ |grep ext &nbsp; &nbsp; &nbsp; &nbsp; --查看软件安装成功</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;drwxr-xr-x. 3 root root 4096 Dec 2 17:24 extundelete</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 ext3grep-0.10.2]#</div><div>&nbsp; &nbsp; &nbsp; 2.创建块设备并挂载系统</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 home]# dd if=/dev/zero of=123 bs=1M count=100 &nbsp; &nbsp; &nbsp; &nbsp; --在home目录下新建一个块设备123</div><div>&nbsp; &nbsp; &nbsp; &nbsp; 100+0 records in</div><div>&nbsp; &nbsp; &nbsp; &nbsp; 100+0 records out</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;104857600 bytes (105 MB) copied, 0.634943 s, 165 MB/s</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 home]# mkfs.ext4 &nbsp;123 --格式化块设备</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mke2fs 1.41.12 (17-May-2010)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;123 is not a block special device.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Proceed anyway? (y,n) y --输入y确定</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Filesystem label=</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; OS type: Linux</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Block size=1024 (log=0)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Fragment size=1024 (log=0)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Stride=0 blocks, Stripe width=0 blocks</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;25688 inodes, 102400 blocks</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5120 blocks (5.00%) reserved for the super user</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;First data block=1</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Maximum filesystem blocks=67371008</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;13 block groups</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8192 blocks per group, 8192 fragments per group</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1976 inodes per group</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Superblock backups stored on blocks:&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8193, 24577, 40961, 57345, 73729</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Writing inode tables: done&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Creating journal (4096 blocks): done</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Writing superblocks and filesystem accounting information: done</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; This filesystem will be automatically checked every 27 mounts or</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 180 days, whichever comes first. Use tune2fs -c or -i to override.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 home]#mkdir /mnt/123 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --新建块设备挂载的目录</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 home]# mount 123 /mnt/123 -o loop &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--将块设备123挂载到/mnt/123中</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 home]# df -TH &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--查看目录是否挂载</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Filesystem Type Size Used Avail Use% Mounted on</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/dev/mapper/VolGroup-lv_root</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ext4 20G 3.8G 16G 20% /&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmpfs tmpfs 262M 0 262M 0% /dev/shm</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/sda1 ext4 508M 32M 451M 7% /boot</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; df: `/mnt/cdrom': No such file or directory</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /dev/sr0 iso9660 3.2G 3.2G 0 100% /mnt</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /home/123 ext4 102M 5.8M 91M 7% /mnt/123 &nbsp; &nbsp; &nbsp; --设备已挂载</div><div>&nbsp; &nbsp; &nbsp; &nbsp; 3.添加和删除文件</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 home]# cp -a /etc/passwd /etc/shadow /etc/group /mnt/123/ &nbsp; &nbsp; &nbsp;--将文件移动到设备中</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 ~]# ll /mnt/123/ &nbsp;--查看是否有文件</div><div>total 19</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-rw-r--r--. 1 root root &nbsp; 712 Dec &nbsp;2 14:39 group</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;drwx------. 2 root root 12288 Dec &nbsp;4 14:07 lost+found</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-rw-r--r--. 1 root root &nbsp;1509 Dec &nbsp;2 14:39 passwd</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;----------. 1 root root &nbsp; 976 Dec &nbsp;2 14:39 shadow</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 home]# sync &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--文件同步一下</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 home]# rm -rf /mnt/123/passwd /mnt/123/shadow &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --删除文件</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 home]# sync &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --文件同步一下</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 home]# umount /mnt/123 &nbsp; &nbsp; &nbsp; --卸载设备</div><div>&nbsp; &nbsp; &nbsp; 4.恢复刚才删除的文件</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cd /usr/local/extundelete/bin &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--进入软件目录</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 bin]# ./extundelete --ls --inode 2 /home/123 &nbsp; &nbsp; --查看块设备/home/123的文件详细信息</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;./extundelete: unrecognized option '--ls'</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NOTICE: Extended attributes are not restored.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Loading filesystem metadata ... 13 groups loaded.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Group: 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Contents of inode 2:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0000 | ed 41 00 00 00 04 00 00 fe c6 9e 52 58 c7 9e 52 | .A.........RX..R</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0010 | 58 c7 9e 52 00 00 00 00 00 00 03 00 02 00 00 00 | X..R............</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0020 | 00 00 00 00 05 00 00 00 10 01 00 00 00 00 00 00 | ................</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0030 | 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 | ................</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0040 | 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 | ................</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0050 | 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 | ................</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0060 | 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 | ................</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0070 | 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 | ................</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Inode is Allocated</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;File mode: 16877</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Low 16 bits of Owner Uid: 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Size in bytes: 1024</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Access time: 1386137342</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Creation time: 1386137432</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Modification time: 1386137432</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Deletion Time: 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Low 16 bits of Group Id: 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Links count: 3</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Blocks count: 2</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;File flags: 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;File version (for NFS): 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;File ACL: 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Directory ACL: 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Fragment address: 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Direct blocks: 272, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Indirect block: 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Double indirect block: 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Triple indirect block: 0</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;File name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Inode number | Deleted status</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lost+found &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;11</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;passwd &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Deleted &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;--Delete就是我们刚才删除的文件</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;shadow &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;13 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Deleted</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;group &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 bin]# ./extundelete &nbsp;--restore-file passwd /home/123 &nbsp; &nbsp; --用文件名来恢复文件&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOTICE: Extended attributes are not restored.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Loading filesystem metadata ... 13 groups loaded.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Loading journal descriptors ... 27 descriptors loaded.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Successfully restored file passwd &nbsp; &nbsp; &nbsp; &nbsp; --恢复成功</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [root@redhat1 bin]# ./extundelete &nbsp;--restore-inode 13 /home/123 &nbsp; &nbsp; &nbsp;--用节点号来恢复文件&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOTICE: Extended attributes are not restored.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Loading filesystem metadata ... 13 groups loaded.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Loading journal descriptors ... 27 descriptors loaded.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 bin]# ./extundelete &nbsp;--restore-all /home/123 &nbsp; &nbsp; &nbsp; --恢复所有删除的文件&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NOTICE: Extended attributes are not restored.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Loading filesystem metadata ... 13 groups loaded.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Loading journal descriptors ... 27 descriptors loaded.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Searching for recoverable inodes in directory / ...&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2 recoverable inodes found.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Looking through the directory structure for deleted files ...&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 recoverable inodes still lost.</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 bin]# ll RECOVERED_FILES/ &nbsp; &nbsp; &nbsp; --查看所有恢复的文件</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;total 20</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;drwxr-xr-x. 2 root root 4096 Dec &nbsp;3 16:21 123</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-rw-r--r--. 1 root root &nbsp;976 Dec &nbsp;4 14:18 file.13</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-rw-r--r--. 1 root root 1509 Dec &nbsp;4 14:16 passwd</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-rw-r--r--. 1 root root 1509 Dec &nbsp;4 14:20 passwd.v1</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-rw-r--r--. 1 root root &nbsp;976 Dec &nbsp;4 14:20 shadow</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[root@redhat1 bin]#</div><div>&nbsp; ！！！！！！好了大功告成，也祝大家成功</div></div><wbr><div><br></div>[参考]<wbr><div>1.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://en.wikipedia.org/wiki/Inode_pointer_structure"   >http://en.wikipedia.org/wiki/Inode_pointer_structure</a></div><div>2.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://extundelete.sourceforge.net/"   >http://extundelete.sourceforge.net/</a></div><div>3.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="https://code.google.com/p/ext3grep/"   >https://code.google.com/p/ext3grep/</a></div><div>4. ext4magin:<a style="line-height: 28px;" target="_blank" rel="nofollow" href="http://openfacts2.berlios.de/wikien/index.php/BerliosProject:Ext4magic"   >http://openfacts2.berlios.de/wikien/index.php/BerliosProject:Ext4magic</a></div>5.&nbsp;<a target="_blank" rel="nofollow" href="http://www.giis.co.in/"   >http://www.giis.co.in/</a></div>
	</div>
</div>
</body>
</html>
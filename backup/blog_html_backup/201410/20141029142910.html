<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">docker search, pull, login, push with Docker Hub - public registry</h2>
	<h5 id="">2014-10-29 14:29:10&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/16387704020149292357953/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>docker HUB是一个公共的image registry, 不注册账号的话, 可以从docker hub下载public image.</div><div>docker search, pull操作不需要登录docker hub就可以对public image进行检索和下载.</div><div>如果需要将本地的image 推送到docker hub, 那么你需要注册一个docker hub的账号, 登录, 然后执行push即可.</div><div>docker hub的免费用户只能保存public image. 也就是说大家都能搜到并下载你的image.</div><div><br></div><div>例如 :&nbsp;</div><div>登录docker hub</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-221 ~]# docker login</font></div><div><font size="2"   >Username: digoal</font></div><div><font size="2"   >Password:&nbsp;</font></div><div><font size="2"   >Email: xxx@xx.xx</font></div><div><font size="2"   >Login Succeeded</font></div><p></p></pre></div><div>登录后, 会把认证信息保存在.dockercfg文件中.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-221 ~]# cat ~/.dockercfg&nbsp;</font></div><div><font size="2"   >{"https://index.docker.io/v1/":{"auth":"xxxxxxxxxxxx","email":"xxx@xx.xx"}}</font></div><p></p></pre></div><div><br></div><div>查看当前正在运行的container, 例如我们这里有一个名为digoal的container.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-221 ~]# docker ps</font></div><div><font size="2"   >CONTAINER ID &nbsp; &nbsp; &nbsp; &nbsp;IMAGE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; COMMAND &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CREATED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; STATUS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PORTS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NAMES</font></div><div><font size="2"   >ca64905e843a &nbsp; &nbsp; &nbsp; &nbsp;postgres:9 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/docker-entrypoint.s &nbsp; 3 hours ago &nbsp; &nbsp; &nbsp; &nbsp; Up 3 hours &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5432/tcp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;digoal &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >aab6a732ddbc &nbsp; &nbsp; &nbsp; &nbsp;postgres:9 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/docker-entrypoint.s &nbsp; 20 hours ago &nbsp; &nbsp; &nbsp; &nbsp;Up 20 hours &nbsp; &nbsp; &nbsp; &nbsp; 5432/tcp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;happy_leakey &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >edae35acc741 &nbsp; &nbsp; &nbsp; &nbsp;postgres:9 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/docker-entrypoint.s &nbsp; 20 hours ago &nbsp; &nbsp; &nbsp; &nbsp;Up 20 hours &nbsp; &nbsp; &nbsp; &nbsp; 5432/tcp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lonely_mcclintock &nbsp;&nbsp;</font></div><div><font size="2"   >7c99c4f4a01f &nbsp; &nbsp; &nbsp; &nbsp;postgres:9 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/docker-entrypoint.s &nbsp; 20 hours ago &nbsp; &nbsp; &nbsp; &nbsp;Up 20 hours &nbsp; &nbsp; &nbsp; &nbsp; 5432/tcp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pensive_hoover &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >8238bc46c1da &nbsp; &nbsp; &nbsp; &nbsp;postgres:9 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/docker-entrypoint.s &nbsp; 20 hours ago &nbsp; &nbsp; &nbsp; &nbsp;Up 20 hours &nbsp; &nbsp; &nbsp; &nbsp; 5432/tcp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;grave_thompson &nbsp; &nbsp;&nbsp;</font></div><p></p></pre></div><div><br></div><div>我们把这个container打包成一个image, 把这个image放在digoal用户下.</div><div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-221 ~]# docker commit -a "digoal" -m "this is test" -p digoal digoal/postgres:9.3.5</font></div><div><font size="2"   >a7ef5455170da413113de47917b3d4662e46d2835d69b28cfbe9aa919ff28804</font></div><p></p></pre></div><div><br></div><div>查看本地的images, 就能看到刚才打包好的image: digoal/postgres:9.3.5</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-221 ~]# docker images</font></div><div><font size="2"   >REPOSITORY &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TAG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IMAGE ID &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CREATED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VIRTUAL SIZE</font></div><div><font size="2"   >digoal/postgres &nbsp; &nbsp; 9.3.5 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a7ef5455170d &nbsp; &nbsp; &nbsp; &nbsp;7 seconds ago &nbsp; &nbsp; &nbsp; 212.9 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9.4-beta3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 68b6ddf9ca08 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;213.6 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9.4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 68b6ddf9ca08 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;213.6 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 935836384c52 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;212.9 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;latest &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;935836384c52 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;212.9 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9.3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 935836384c52 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;212.9 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9.3.5 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 935836384c52 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;212.9 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9.2.9 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2a9ab0b9fa56 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;212.7 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9.2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2a9ab0b9fa56 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;212.7 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9.1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ee60947f6805 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;212.1 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9.1.14 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ee60947f6805 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;212.1 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9.0.18 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;f29be88283f6 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;211.5 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f29be88283f6 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;211.5 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8.4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c57c14beb696 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;211 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c57c14beb696 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;211 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8.4.22 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;c57c14beb696 &nbsp; &nbsp; &nbsp; &nbsp;8 days ago &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;211 MB</font></div><div><font size="2"   >postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9.4-beta2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bf872395e1d4 &nbsp; &nbsp; &nbsp; &nbsp;2 weeks ago &nbsp; &nbsp; &nbsp; &nbsp; 213.6 MB</font></div><p></p></pre></div></div><div><br></div><div>然后我们可以将这个image推送到docker hub. 同样是保存在我们登录的digoal用户下.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-221 ~]# docker push digoal/postgres:9.3.5</font></div><div><font size="2"   >The push refers to a repository [digoal/postgres] (len: 1)</font></div><div><font size="2"   >Sending image list</font></div><div><font size="2"   >Pushing repository digoal/postgres (1 tags)</font></div><div><font size="2"   >511136ea3c5a: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >638fd9704285: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >61f7f4f722fb: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >759ce1ba8521: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >05084fa93ca4: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >b9c3e6ba73da: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >e428b525362f: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >74b9c5a96fe2: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >a40cbed3d918: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >adac4c321716: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >c7dac22233f3: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >b95ec4ff2ae8: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >6d9ec1cd8a6f: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >0778b2e9be29: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >1a351aafeb1c: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >789b1440f38b: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >e849841ed55f: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >ee9cafa51046: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >15d042248df3: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >935836384c52: Image already pushed, skipping&nbsp;</font></div><div><font size="2"   >a7ef5455170d: Image successfully pushed&nbsp;</font></div><div><font size="2"   >Pushing tag for rev [a7ef5455170d] on {https://cdn-registry-1.docker.io/v1/repositories/digoal/postgres/tags/9.3.5}</font></div><p></p></pre></div><div><br></div><div>现在执行search可以检索到我们刚才提交的image.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >[root@db-172-16-3-221 ~]# docker search digoal</font></div><div><font size="2"   >NAME &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DESCRIPTION &nbsp; STARS &nbsp; &nbsp; OFFICIAL &nbsp; AUTOMATED</font></div><div><font size="2"   >digoal/postgres &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font></div><p></p></pre></div><wbr>&nbsp;<div>[参考]</div><div>1.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="https://docs.docker.com/userguide/dockerrepos/"   >https://docs.docker.com/userguide/dockerrepos/</a></div><div><a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="docker search, pull, login, push with Docker Hub - public registry - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a><br></div></div>
	</div>
</div>
</body>
</html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">mysql_fdw enhanced by enterprisedb</h2>
	<h5 id="">2014-10-31 16:52:47&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201493145214445/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>在enterprisedb的github下找到的mysql_fdw, 有一些增强.</div><div>例如添加了连接池, 增加了可写功能, 还增加了where, column的下发. 以及prepared statement.</div><div>有兴趣的朋友可以试一试.</div><div><br></div><div><h1 style="box-sizing: border-box; font-size: 2.25em; margin-right: 0px; margin-bottom: 16px; margin-left: 0px; line-height: 1.2;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; margin-top: 0px !important;"   >MySQL Foreign Data Wrapper for PostgreSQL</h1><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >This PostgreSQL extension implements a Foreign Data Wrapper (FDW) for&nbsp;<a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="http://www.mysql.com/"   >MySQL</a>.</p><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >Please note that this version of mysql_fdw only works with PostgreSQL Version 9.3 and greater, for previous version support please download from PG_92 branch.</p><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >We have added a number of significant enhancements to the mysql fdw, some of the major enhancements are listed in the “enhancements” section of this document.</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-1-installation" aria-hidden="true" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw#1-installation"   ></a>1. Installation</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >To compile the&nbsp;<a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="http://www.mysql.com/"   >MySQL</a>'s foreign data wrapper&nbsp;<a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="http://www.mysql.com/"   >MySQL</a>' C client library is needed. This library can be downloaded from&nbsp;<a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="http://www.mysql.com/"   >MySQL</a>&nbsp;official website.</p><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >1 - To build on POSIX-compliant systems you need to ensure the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >pg_config</code>&nbsp;executable is in your path when you run&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >make</code>. This executable is typically in your PostgreSQL installation's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >bin</code>&nbsp;directory. For example:</p><div style="box-sizing: border-box; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"   ><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; margin-top: 0px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"   ><span style="box-sizing: border-box; font-weight: bold;"   >export</span> PATH=/usr/local/pgsql/bin/:<span style="box-sizing: border-box; color: rgb(0, 128, 128);"   >$PATH</span></pre></div><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >2 - The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >mysql_config</code>&nbsp;must also be in the path, it resides in the&nbsp;<a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="http://www.mysql.com/"   >MySQL</a>'s bin directory.</p><div style="box-sizing: border-box; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"   ><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; margin-top: 0px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"   ><span style="box-sizing: border-box; font-weight: bold;"   >export</span> PATH=/usr/local/mysql/bin/:<span style="box-sizing: border-box; color: rgb(0, 128, 128);"   >$PATH</span></pre></div><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >3 - Compile the code using make command</p><div style="box-sizing: border-box; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"   ><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; margin-top: 0px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"   >make USE_PGXS=1</pre></div><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >4 - Finally install the foreign data wrapper.</p><div style="box-sizing: border-box; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"   ><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; margin-top: 0px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"   >make USE_PGXS=1 install</pre></div><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >Not that we have tested the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >mysql_fdw</code>&nbsp;extenion only on MacOS and ubuntu systems, but other *nix's should also work.</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-enhancements" aria-hidden="true" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw#enhancements"   ></a>Enhancements</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >The following enhancements are added to the latest version of mysql FDW :</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-write-able-fdw" aria-hidden="true" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw#write-able-fdw"   ></a>Write-able FDW</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >The previous version was only read-only, the latest version provides the write capability. The user can now issue insert/update and delete statements for the foreign tables using the mysql FDW. It uses the PG type casting mechanism to provide opposite type casting between mysql and PG data types.</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-connection-pooling" aria-hidden="true" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw#connection-pooling"   ></a>Connection Pooling</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >The latest version comes with a connection pooler that utilises the same mysql database connection for all the queries in the same session. The previous version would open a new mysql database connection for every query. This is a performance enhancement.</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-where-clause-push-down" aria-hidden="true" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw#where-clause-push-down"   ></a>Where clause push-down</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >The latest version will push-down the foreign table where clause to the foreign server. The where condition on the foreign table will be executed on the foreign server hence there will be fewer rows to to bring across to PostgreSQL. This is a performance feature.</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-column-push-down" aria-hidden="true" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw#column-push-down"   ></a>Column push-down</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >The previous version was fetching all the columns from the target foreign table. The latest version does the column push-down and only brings back the columns that are part of the select target list. This is a performance feature.</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-prepared-statment" aria-hidden="true" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw#prepared-statment"   ></a>Prepared Statment</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >(Refactoring for select queries to use prepared statement)</p><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >The select queries are now using prepared statements instead of simple query protocol.</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-usage" aria-hidden="true" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw#usage"   ></a>Usage</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >The following parameters can be set on a MySQL foreign server object:</p><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   ><li style="box-sizing: border-box;"   ><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >host</code>: the address or hostname of the MySQL server. Defaults to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >127.0.0.1</code></li><li style="box-sizing: border-box;"   ><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >port</code>: the port number of the MySQL server. Defaults to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >3306</code></li></ul><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >The following parameters can be set on a MySQL foreign table object:</p><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   ><li style="box-sizing: border-box;"   ><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"   ><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >dbname</code>: the name of the MySQL database to query. This is a mandatory option.</p></li><li style="box-sizing: border-box;"   ><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"   ><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >table_name</code>: The name of the MySQL table, default is the same as foreign table</p></li></ul><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >The following parameters need to supplied while creating user mapping.</p><ul style="box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   ><li style="box-sizing: border-box;"   ><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"   ><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >username</code>: The username to use when connecting to MySQL</p></li><li style="box-sizing: border-box;"   ><p style="box-sizing: border-box; margin-top: 16px; margin-bottom: 16px;"   ><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >password</code>: The password to authenticate to the MySQL server with.</p></li></ul><div style="box-sizing: border-box; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"   ><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; margin-top: 0px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"   ><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;"   >-- load extension first time after install</span>
CREATE EXTENSION mysql_fdw;

<span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;"   >-- create server object</span>
CREATE SERVER mysql_server
         FOREIGN DATA WRAPPER mysql_fdw
         OPTIONS (host <span style="box-sizing: border-box; color: rgb(223, 80, 0);"   >'127.0.0.1'</span>, port <span style="box-sizing: border-box; color: rgb(223, 80, 0);"   >'3306'</span>);

<span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;"   >-- create user mapping </span>
<span style="box-sizing: border-box; font-weight: bold;"   >CREATE</span> <span style="box-sizing: border-box; font-weight: bold;"   >USER</span> <span style="box-sizing: border-box; color: rgb(148, 82, 119); font-weight: bold;"   >MAPPING</span> FOR postgres
    SERVER mysql_server
    OPTIONS (username <span style="box-sizing: border-box; color: rgb(223, 80, 0);"   >'foo'</span>, password <span style="box-sizing: border-box; color: rgb(223, 80, 0);"   >'bar'</span>);

<span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;"   >-- create foreign table</span>
CREATE FOREIGN TABLE warehouse(
         warehouse_id <span style="box-sizing: border-box; font-weight: bold; color: rgb(68, 85, 136);"   >int</span>,
         warehouse_name <span style="box-sizing: border-box; font-weight: bold; color: rgb(68, 85, 136);"   >text</span>,
         warehouse_created datetime)
SERVER mysql_server
         OPTIONS (dbname <span style="box-sizing: border-box; color: rgb(223, 80, 0);"   >'db'</span>, table_name <span style="box-sizing: border-box; color: rgb(223, 80, 0);"   >'warehouse'</span>);


<span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;"   >-- insert new rows in table</span>
<span style="box-sizing: border-box; font-weight: bold;"   >INSERT INTO</span> warehouse <span style="box-sizing: border-box; font-weight: bold;"   >values</span> (<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >1</span>, <span style="box-sizing: border-box; color: rgb(223, 80, 0);"   >'UPS'</span>, <span style="box-sizing: border-box; font-weight: bold; color: rgb(68, 85, 136);"   >sysdate</span>());
<span style="box-sizing: border-box; font-weight: bold;"   >INSERT INTO</span> warehouse <span style="box-sizing: border-box; font-weight: bold;"   >values</span> (<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >2</span>, <span style="box-sizing: border-box; color: rgb(223, 80, 0);"   >'TV'</span>, <span style="box-sizing: border-box; font-weight: bold; color: rgb(68, 85, 136);"   >sysdate</span>());
<span style="box-sizing: border-box; font-weight: bold;"   >INSERT INTO</span> warehouse <span style="box-sizing: border-box; font-weight: bold;"   >values</span> (<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >3</span>, <span style="box-sizing: border-box; color: rgb(223, 80, 0);"   >'Table'</span>, <span style="box-sizing: border-box; font-weight: bold; color: rgb(68, 85, 136);"   >sysdate</span>());


<span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;"   >-- select from table</span>
<span style="box-sizing: border-box; font-weight: bold;"   >SELECT</span> <span style="box-sizing: border-box; font-weight: bold;"   >*</span> <span style="box-sizing: border-box; font-weight: bold;"   >FROM</span> warehouse;
 warehouse_id | warehouse_name | warehouse_created  
<span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;"   >--------------+----------------+--------------------</span>
            <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >1</span> | UPS            | <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >29</span><span style="box-sizing: border-box; font-weight: bold;"   >-</span>SEP<span style="box-sizing: border-box; font-weight: bold;"   >-</span><span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >14</span> <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >23</span>:<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >33</span>:<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >46</span>
            <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >2</span> | TV             | <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >29</span><span style="box-sizing: border-box; font-weight: bold;"   >-</span>SEP<span style="box-sizing: border-box; font-weight: bold;"   >-</span><span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >14</span> <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >23</span>:<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >34</span>:<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >25</span>
            <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >3</span> | Table          | <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >29</span><span style="box-sizing: border-box; font-weight: bold;"   >-</span>SEP<span style="box-sizing: border-box; font-weight: bold;"   >-</span><span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >14</span> <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >23</span>:<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >33</span>:<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >49</span>


<span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;"   >-- delete row from table</span>
<span style="box-sizing: border-box; font-weight: bold;"   >DELETE</span> <span style="box-sizing: border-box; font-weight: bold;"   >FROM</span> warehouse <span style="box-sizing: border-box; font-weight: bold;"   >where</span> warehouse_id <span style="box-sizing: border-box; font-weight: bold;"   >=</span> <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >3</span>;


<span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;"   >-- update a row of table</span>
<span style="box-sizing: border-box; font-weight: bold;"   >UPDATE</span> warehouse <span style="box-sizing: border-box; font-weight: bold;"   >set</span> warehouse_name <span style="box-sizing: border-box; font-weight: bold;"   >=</span> <span style="box-sizing: border-box; color: rgb(223, 80, 0);"   >'UPS_NEW'</span> <span style="box-sizing: border-box; font-weight: bold;"   >where</span> warehouse_id <span style="box-sizing: border-box; font-weight: bold;"   >=</span> <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >1</span>;


<span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;"   >-- explain a table</span>
EXPLAIN <span style="box-sizing: border-box; font-weight: bold;"   >SELECT</span> warehouse_id, warehouse_name <span style="box-sizing: border-box; font-weight: bold;"   >FROM</span> warehouse <span style="box-sizing: border-box; font-weight: bold;"   >WHERE</span> warehouse_name <span style="box-sizing: border-box; font-weight: bold;"   >LIKE</span> <span style="box-sizing: border-box; color: rgb(223, 80, 0);"   >'TV'</span> <span style="box-sizing: border-box; font-weight: bold;"   >limit</span> <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >1</span>;
                                QUERY PLAN                                                   
<span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;"   >-----------------------------------------------------------------------------------</span>
 <span style="box-sizing: border-box; font-weight: bold;"   >Limit</span>  (cost<span style="box-sizing: border-box; font-weight: bold;"   >=</span><span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >10</span>.<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >00</span>..<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >11</span>.<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >00</span> rows<span style="box-sizing: border-box; font-weight: bold;"   >=</span><span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >1</span> width<span style="box-sizing: border-box; font-weight: bold;"   >=</span><span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >36</span>)
   <span style="box-sizing: border-box; font-weight: bold;"   >-</span><span style="box-sizing: border-box; font-weight: bold;"   >&gt;</span>  Foreign Scan <span style="box-sizing: border-box; font-weight: bold;"   >on</span> warehouse  (cost<span style="box-sizing: border-box; font-weight: bold;"   >=</span><span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >10</span>.<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >00</span>..<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >13</span>.<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >00</span> rows<span style="box-sizing: border-box; font-weight: bold;"   >=</span><span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >3</span> width<span style="box-sizing: border-box; font-weight: bold;"   >=</span><span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >36</span>)
         Local server startup cost: <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >10</span>
         Remote query: <span style="box-sizing: border-box; font-weight: bold;"   >SELECT</span> warehouse_id, warehouse_name <span style="box-sizing: border-box; font-weight: bold;"   >FROM</span> <span style="box-sizing: border-box; color: rgb(9, 78, 153);"   >db</span>.<span style="box-sizing: border-box; color: rgb(9, 78, 153);"   >warehouse</span> <span style="box-sizing: border-box; font-weight: bold;"   >WHERE</span> ((warehouse_name <span style="box-sizing: border-box; font-weight: bold;"   >like</span> <span style="box-sizing: border-box; color: rgb(223, 80, 0);"   >'TV'</span>))
 Planning <span style="box-sizing: border-box; font-weight: bold; color: rgb(68, 85, 136);"   >time</span>: <span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >0</span>.<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >564</span> ms
(<span style="box-sizing: border-box; color: rgb(148, 82, 119);"   >5</span> rows)
</pre></div><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-contributing" aria-hidden="true" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw#contributing"   ></a>Contributing</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >If you experince any bug and have fix for that or have any new idea send the detail alongwith the patch directly to&nbsp;<a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="mailto:mysql_fdw@enterprisedb.com"   >mysql_fdw@enterprisedb.com</a>. Before sending the patch for bug fix or a new feature please read the contributing guidline.</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-support" aria-hidden="true" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw#support"   ></a>Support</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >This project will be modified to maintain compatibility with new PostgreSQL releases.</p><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >As with many open source projects, you may be able to obtain support via the public mailing list (mysql_fdw @ enterprisedb.com). If you need commercial support, please contact the EnterpriseDB sales team, or check whether your existing PostgreSQL support provider can also support mysql_fdw.</p><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em;position:inherit; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"   ><a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; position: absolute; top: 0px; bottom: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; background: transparent;" name="user-content-license" aria-hidden="true" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw#license"   ></a>License</h2><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >Copyright (c) 2011 - 2014, EnterpriseDB Corporation</p><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >Permission to use, copy, modify, and distribute this software and its documentation for any purpose, without fee, and without a written agreement is hereby granted, provided that the above copyright notice and this paragraph and the following two paragraphs appear in all copies.</p><p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px;"   >See the LICENSE file for full details.</p><p style="box-sizing: border-box; margin-top: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 25.6000003814697px; margin-bottom: 0px !important;"   >See the&nbsp;<a style="box-sizing: border-box; color: rgb(65, 131, 196); text-decoration: none; background: transparent;" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw/blob/master/LICENSE"   ><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 14px; font-stretch: normal; line-height: normal; padding: 0.2em 0px; margin: 0px; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157);"   >LICENSE</code></a>&nbsp;file for full details.</p></div><div><br></div><wbr><div>[参考]</div>1.&nbsp;<a target="_blank" rel="nofollow" href="https://github.com/EnterpriseDB/mysql_fdw"   >https://github.com/EnterpriseDB/mysql_fdw</a><wbr>&nbsp;<div><br></div><div><a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="mysql_fdw enhanced by enterprisedb - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a><br></div></div>
	</div>
</div>
</body>
</html>
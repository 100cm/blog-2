<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">ceph cluster sample configure file in src</h2>
	<h5 id="">2014-12-04 16:51:39&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201411445139290/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div><div>ceph集群的配置文件模板如下 :&nbsp;</div><div><br></div><div><font size="1"   >[root@localhost src]# cat sample.ceph.conf&nbsp;</font></div><div><font size="1"   >##</font></div><div><font size="1"   ># Sample ceph ceph.conf file.</font></div><div><font size="1"   >##</font></div><div><font size="1"   ># This file defines cluster membership, the various locations</font></div><div><font size="1"   ># that Ceph stores data, and any other runtime options.</font></div><div><font size="1"   ><br></font></div><div><font size="1"   ># If a 'host' is defined for a daemon, the init.d start/stop script will</font></div><div><font size="1"   ># verify that it matches the hostname (or else ignore it). &nbsp;If it is</font></div><div><font size="1"   ># not defined, it is assumed that the daemon is intended to start on</font></div><div><font size="1"   ># the current host (e.g., in a setup with a startup.conf on each</font></div><div><font size="1"   ># node).</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >配置文件中支持的变量 :&nbsp;</font></div><div><font size="1"   >## Metavariables</font></div><div><font size="1"   ># $cluster &nbsp; &nbsp;; Expands to the Ceph Storage Cluster name. Useful</font></div><div><font size="1"   ># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; when running multiple Ceph Storage Clusters</font></div><div><font size="1"   ># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; on the same hardware.</font></div><div><font size="1"   ># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Example: /etc/ceph/$cluster.keyring</font></div><div><font size="1"   ># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; (Default: ceph)</font></div><div><font size="1"   >#</font></div><div><font size="1"   ># $type &nbsp; &nbsp; &nbsp; ; Expands to one of mds, osd, or mon, depending on</font></div><div><font size="1"   ># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; the type of the instant daemon.</font></div><div><font size="1"   ># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Example: /var/lib/ceph/$type</font></div><div><font size="1"   >#</font></div><div><font size="1"   ># $id &nbsp; &nbsp; &nbsp; &nbsp; ; Expands to the daemon identifier. For osd.0, this</font></div><div><font size="1"   ># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; would be 0; for mds.a, it would be a.</font></div><div><font size="1"   ># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Example: /var/lib/ceph/$type/$cluster-$id</font></div><div><font size="1"   >#</font></div><div><font size="1"   ># $host &nbsp; &nbsp; &nbsp; ; Expands to the host name of the instant daemon.</font></div><div><font size="1"   >#</font></div><div><font size="1"   ># $name &nbsp; &nbsp; &nbsp; ; Expands to $type.$id.</font></div><div><font size="1"   ># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Example: /var/run/ceph/$cluster-$name.asok</font></div><div><font size="1"   >全局配置章节</font></div><div><font size="1"   >[global]</font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/configuration/general-config-ref/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; ;fsid &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = {UUID} &nbsp; &nbsp;# use `uuidgen` to generate your own UUID</font></div><div><font size="1"   >&nbsp; &nbsp; ;public network &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 192.168.0.0/24</font></div><div><font size="1"   >&nbsp; &nbsp; ;cluster network &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 192.168.0.0/24</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Each running Ceph daemon has a running process identifier (PID) file.</font></div><div><font size="1"   >&nbsp; &nbsp; # The PID file is generated upon start-up.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String (optional)</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: N/A). The default path is /var/run/$cluster/$name.pid.</font></div><div><font size="1"   >&nbsp; &nbsp; pid file &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = /var/run/ceph/$name.pid</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # If set, when the Ceph Storage Cluster starts, Ceph sets the max open fds</font></div><div><font size="1"   >&nbsp; &nbsp; # at the OS level (i.e., the max # of file descriptors).</font></div><div><font size="1"   >&nbsp; &nbsp; # It helps prevents Ceph OSD Daemons from running out of file descriptors.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 64-bit Integer (optional)</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 0)</font></div><div><font size="1"   >&nbsp; &nbsp; ;max open files &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 131072</font></div><div><font size="1"   ><br></font></div><div><font size="1"   ><br></font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/operations/authentication</font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/configuration/auth-config-ref/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # If enabled, the Ceph Storage Cluster daemons (i.e., ceph-mon, ceph-osd,</font></div><div><font size="1"   >&nbsp; &nbsp; # and ceph-mds) must authenticate with each other.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String (optional); Valid settings are "cephx" or "none".</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: cephx)</font></div><div><font size="1"   >&nbsp; &nbsp; auth cluster required &nbsp; &nbsp; &nbsp;= cephx</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # If enabled, the Ceph Storage Cluster daemons require Ceph Clients to</font></div><div><font size="1"   >&nbsp; &nbsp; # authenticate with the Ceph Storage Cluster in order to access Ceph</font></div><div><font size="1"   >&nbsp; &nbsp; # services.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String (optional); Valid settings are "cephx" or "none".</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: cephx)</font></div><div><font size="1"   >&nbsp; &nbsp; auth service required &nbsp; &nbsp; &nbsp;= cephx</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # If enabled, the Ceph Client requires the Ceph Storage Cluster to</font></div><div><font size="1"   >&nbsp; &nbsp; # authenticate with the Ceph Client.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String (optional); Valid settings are "cephx" or "none".</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: cephx)</font></div><div><font size="1"   >&nbsp; &nbsp; auth client required &nbsp; &nbsp; &nbsp; = cephx</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # If set to true, Ceph requires signatures on all message traffic between</font></div><div><font size="1"   >&nbsp; &nbsp; # the Ceph Client and the Ceph Storage Cluster, and between daemons</font></div><div><font size="1"   >&nbsp; &nbsp; # comprising the Ceph Storage Cluster.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Boolean (optional)</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: false)</font></div><div><font size="1"   >&nbsp; &nbsp; ;cephx require signatures &nbsp; = true</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # kernel RBD client do not support authentication yet:</font></div><div><font size="1"   >&nbsp; &nbsp; cephx cluster require signatures = true</font></div><div><font size="1"   >&nbsp; &nbsp; cephx service require signatures = false</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The path to the keyring file.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String (optional)</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: /etc/ceph/$cluster.$name.keyring,/etc/ceph/$cluster.keyring,/etc/ceph/keyring,/etc/ceph/keyring.bin</font></div><div><font size="1"   >&nbsp; &nbsp; ;keyring &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= /etc/ceph/$cluster.$name.keyring</font></div><div><font size="1"   ><br></font></div><div><font size="1"   ><br></font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/configuration/pool-pg-config-ref/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; ## Replication level, number of data copies.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 3)</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd pool default size &nbsp; &nbsp; &nbsp;= 3</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; ## Replication level in degraded state, less than 'osd pool default size' value.</font></div><div><font size="1"   >&nbsp; &nbsp; # Sets the minimum number of written replicas for objects in the</font></div><div><font size="1"   >&nbsp; &nbsp; # pool in order to acknowledge a write operation to the client. If</font></div><div><font size="1"   >&nbsp; &nbsp; # minimum is not met, Ceph will not acknowledge the write to the</font></div><div><font size="1"   >&nbsp; &nbsp; # client. This setting ensures a minimum number of replicas when</font></div><div><font size="1"   >&nbsp; &nbsp; # operating in degraded mode.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 0), which means no particular minimum. If 0, minimum is size - (size / 2).</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd pool default min size &nbsp;= 2</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; ## Ensure you have a realistic number of placement groups. We recommend</font></div><div><font size="1"   >&nbsp; &nbsp; ## approximately 100 per OSD. E.g., total number of OSDs multiplied by 100</font></div><div><font size="1"   >&nbsp; &nbsp; ## divided by the number of replicas (i.e., osd pool default size). So for</font></div><div><font size="1"   >&nbsp; &nbsp; ## 10 OSDs and osd pool default size = 3, we'd recommend approximately</font></div><div><font size="1"   >&nbsp; &nbsp; ## (100 * 10) / 3 = 333</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Description: The default number of placement groups for a pool. The</font></div><div><font size="1"   >&nbsp; &nbsp; # &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default value is the same as pg_num with mkpool.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 8)</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd pool default pg num &nbsp; &nbsp;= 128</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Description: The default number of placement groups for placement for a</font></div><div><font size="1"   >&nbsp; &nbsp; # &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pool. The default value is the same as pgp_num with mkpool.</font></div><div><font size="1"   >&nbsp; &nbsp; # &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PG and PGP should be equal (for now).</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 8)</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd pool default pgp num &nbsp; = 128</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The default CRUSH ruleset to use when creating a pool</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 0)</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd pool default crush rule = 0</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The bucket type to use for chooseleaf in a CRUSH rule.</font></div><div><font size="1"   >&nbsp; &nbsp; # Uses ordinal rank rather than name.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 1) Typically a host containing one or more Ceph OSD Daemons.</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd crush chooseleaf type = 1</font></div><div><font size="1"   ><br></font></div><div><font size="1"   ><br></font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/troubleshooting/log-and-debug/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The location of the logging file for your cluster.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: /var/log/ceph/$cluster-$name.log</font></div><div><font size="1"   >&nbsp; &nbsp; ;log file &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = /var/log/ceph/$cluster-$name.log</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Determines if logging messages should appear in syslog.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Boolean</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: false)</font></div><div><font size="1"   >&nbsp; &nbsp; ;log to syslog &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= true</font></div><div><font size="1"   ><br></font></div><div><font size="1"   ><br></font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/configuration/ms-ref/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Enable if you want your daemons to bind to IPv6 address instead of</font></div><div><font size="1"   >&nbsp; &nbsp; # IPv4 ones. (Not required if you specify a daemon or cluster IP.)</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Boolean</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: false)</font></div><div><font size="1"   >&nbsp; &nbsp; ;ms bind ipv6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = true</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >监控配置章节</font></div><div><font size="1"   >##################</font></div><div><font size="1"   >## Monitors</font></div><div><font size="1"   >## You need at least one. You need at least three if you want to</font></div><div><font size="1"   >## tolerate any node failures. Always create an odd number.</font></div><div><font size="1"   >[mon]</font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/configuration/mon-config-ref/</font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/configuration/mon-osd-interaction/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The IDs of initial monitors in a cluster during startup.</font></div><div><font size="1"   >&nbsp; &nbsp; # If specified, Ceph requires an odd number of monitors to form an</font></div><div><font size="1"   >&nbsp; &nbsp; # initial quorum (e.g., 3).</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: None)</font></div><div><font size="1"   >&nbsp; &nbsp; ;mon initial members &nbsp; &nbsp; &nbsp; &nbsp;= mycephhost</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; ;mon host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = cephhost01,cephhost02</font></div><div><font size="1"   >&nbsp; &nbsp; ;mon addr &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 192.168.0.101,192.168.0.102</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The monitor's data location</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: /var/lib/ceph/mon/$cluster-$id</font></div><div><font size="1"   >&nbsp; &nbsp; ;mon data &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = /var/lib/ceph/mon/$name</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The clock drift in seconds allowed between monitors.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Float</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: .050)</font></div><div><font size="1"   >&nbsp; &nbsp; ;mon clock drift allowed &nbsp; &nbsp;= .15</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Exponential backoff for clock drift warnings</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Float</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 5)</font></div><div><font size="1"   >&nbsp; &nbsp; ;mon clock drift warn backoff = 30 &nbsp; &nbsp;# Tell the monitor to backoff from this warning for 30 seconds</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The percentage of disk space used before an OSD is considered full.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Float</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: .95)</font></div><div><font size="1"   >&nbsp; &nbsp; ;mon osd full ratio &nbsp; &nbsp; &nbsp; &nbsp; = .95</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The percentage of disk space used before an OSD is considered nearfull.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Float</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: .85)</font></div><div><font size="1"   >&nbsp; &nbsp; ;mon osd nearfull ratio &nbsp; &nbsp; = .85</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The number of seconds Ceph waits before marking a Ceph OSD</font></div><div><font size="1"   >&nbsp; &nbsp; # Daemon "down" and "out" if it doesn't respond.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 300)</font></div><div><font size="1"   >&nbsp; &nbsp; ;mon osd down out interval &nbsp;= 300</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The grace period in seconds before declaring unresponsive Ceph OSD</font></div><div><font size="1"   >&nbsp; &nbsp; # Daemons "down".</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 900)</font></div><div><font size="1"   >&nbsp; &nbsp; ;mon osd report timeout &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 300</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/troubleshooting/log-and-debug/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # logging, for debugging monitor crashes, in order of</font></div><div><font size="1"   >&nbsp; &nbsp; # their likelihood of being helpful :)</font></div><div><font size="1"   >&nbsp; &nbsp; ;debug ms &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 1</font></div><div><font size="1"   >&nbsp; &nbsp; ;debug mon &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 20</font></div><div><font size="1"   >&nbsp; &nbsp; ;debug paxos &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 20</font></div><div><font size="1"   >&nbsp; &nbsp; ;debug auth &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 20</font></div><div><font size="1"   ><br></font></div><div><font size="1"   ><br></font></div><div><font size="1"   >;[mon.alpha]</font></div><div><font size="1"   >; &nbsp; &nbsp;host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = alpha</font></div><div><font size="1"   >; &nbsp; &nbsp;mon addr &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 192.168.0.10:6789</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >;[mon.beta]</font></div><div><font size="1"   >; &nbsp; &nbsp;host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = beta</font></div><div><font size="1"   >; &nbsp; &nbsp;mon addr &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 192.168.0.11:6789</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >;[mon.gamma]</font></div><div><font size="1"   >; &nbsp; &nbsp;host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = gamma</font></div><div><font size="1"   >; &nbsp; &nbsp;mon addr &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 192.168.0.12:6789</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >元数据服务章节(mds)</font></div><div><font size="1"   >##################</font></div><div><font size="1"   >## Metadata servers</font></div><div><font size="1"   ># You must deploy at least one metadata server to use CephFS. There is</font></div><div><font size="1"   ># experimental support for running multiple metadata servers. Do not run</font></div><div><font size="1"   ># multiple metadata servers in production.</font></div><div><font size="1"   >[mds]</font></div><div><font size="1"   >### http://ceph.com/docs/master/cephfs/mds-config-ref/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # where the mds keeps it's secret encryption keys</font></div><div><font size="1"   >&nbsp; &nbsp; ;keyring &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= /var/lib/ceph/mds/$name/keyring</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Determines whether a 'ceph-mds' daemon should poll and</font></div><div><font size="1"   >&nbsp; &nbsp; # replay the log of an active MDS (hot standby).</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: &nbsp;Boolean</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: false)</font></div><div><font size="1"   >&nbsp; &nbsp; ;mds standby replay &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= true</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; ; mds logging to debug issues.</font></div><div><font size="1"   >&nbsp; &nbsp; ;debug ms &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 1</font></div><div><font size="1"   >&nbsp; &nbsp; ;debug mds &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 20</font></div><div><font size="1"   >&nbsp; &nbsp; ;debug journaler &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 20</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The number of inodes to cache.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 100000)</font></div><div><font size="1"   >&nbsp; &nbsp; ;mds cache size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 250000</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; ;mds mem max &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 1048576 &nbsp; &nbsp; # KB</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >;[mds.alpha]</font></div><div><font size="1"   >; &nbsp; &nbsp;host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = alpha</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >;[mds.beta]</font></div><div><font size="1"   >; &nbsp; &nbsp;host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = beta</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >osd章节</font></div><div><font size="1"   >##################</font></div><div><font size="1"   >## osd</font></div><div><font size="1"   ># You need at least one. &nbsp;Two or more if you want data to be replicated.</font></div><div><font size="1"   ># Define as many as you like.</font></div><div><font size="1"   >[osd]</font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/configuration/osd-config-ref/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The path to the OSDs data.</font></div><div><font size="1"   >&nbsp; &nbsp; # You must create the directory when deploying Ceph.</font></div><div><font size="1"   >&nbsp; &nbsp; # You should mount a drive for OSD data at this mount point.</font></div><div><font size="1"   >&nbsp; &nbsp; # We do not recommend changing the default.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: /var/lib/ceph/osd/$cluster-$id</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd data &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = /var/lib/ceph/osd/$name</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; ## You can change the number of recovery operations to speed up recovery</font></div><div><font size="1"   >&nbsp; &nbsp; ## or slow it down if your machines can't handle it</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The number of active recovery requests per OSD at one time.</font></div><div><font size="1"   >&nbsp; &nbsp; # More requests will accelerate recovery, but the requests</font></div><div><font size="1"   >&nbsp; &nbsp; # places an increased load on the cluster.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 5)</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd recovery max active &nbsp; &nbsp; &nbsp;= 3</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The maximum number of backfills allowed to or from a single OSD.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 64-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 10)</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd max backfills &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 5</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The maximum number of simultaneous scrub operations for a Ceph OSD Daemon.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Int</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 1)</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd max scrubs &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 2</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # You may add settings for ceph-deploy so that it will create and mount</font></div><div><font size="1"   >&nbsp; &nbsp; # the correct type of file system. Remove the comment `#` character for</font></div><div><font size="1"   >&nbsp; &nbsp; # the following settings and replace the values in parenthesis</font></div><div><font size="1"   >&nbsp; &nbsp; # with appropriate values, or leave the following settings commented</font></div><div><font size="1"   >&nbsp; &nbsp; # out to accept the default values.</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; #osd mkfs type = {fs-type}</font></div><div><font size="1"   >&nbsp; &nbsp; #osd mkfs options {fs-type} &nbsp; = {mkfs options} &nbsp; # default for xfs is "-f"</font></div><div><font size="1"   >&nbsp; &nbsp; #osd mount options {fs-type} &nbsp;= {mount options} # default mount option is "rw, noatime"</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd mkfs type &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= btrfs</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd mount options btrfs &nbsp; &nbsp; &nbsp;= noatime,nodiratime</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; ## Ideally, make this a separate disk or partition. &nbsp;A few</font></div><div><font size="1"   >&nbsp; &nbsp; ## hundred MB should be enough; more if you have fast or many</font></div><div><font size="1"   >&nbsp; &nbsp; ## disks. &nbsp;You can use a file under the osd data dir if need be</font></div><div><font size="1"   >&nbsp; &nbsp; ## (e.g. /data/$name/journal), but it will be slower than a</font></div><div><font size="1"   >&nbsp; &nbsp; ## separate disk or partition.</font></div><div><font size="1"   >&nbsp; &nbsp; # The path to the OSD's journal. This may be a path to a file or a block</font></div><div><font size="1"   >&nbsp; &nbsp; # device (such as a partition of an SSD). If it is a file, you must</font></div><div><font size="1"   >&nbsp; &nbsp; # create the directory to contain it.</font></div><div><font size="1"   >&nbsp; &nbsp; # We recommend using a drive separate from the osd data drive.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: /var/lib/ceph/osd/$cluster-$id/journal</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd journal &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= /var/lib/ceph/osd/$name/journal</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Check log files for corruption. Can be computationally expensive.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Boolean</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: false)</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd check for log corruption = true</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/configuration/journal-ref/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The size of the journal in megabytes. If this is 0,</font></div><div><font size="1"   >&nbsp; &nbsp; # and the journal is a block device, the entire block device is used.</font></div><div><font size="1"   >&nbsp; &nbsp; # Since v0.54, this is ignored if the journal is a block device,</font></div><div><font size="1"   >&nbsp; &nbsp; # and the entire block device is used.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 5120)</font></div><div><font size="1"   >&nbsp; &nbsp; # Recommended: Begin with 1GB. Should be at least twice the product</font></div><div><font size="1"   >&nbsp; &nbsp; # of the expected speed multiplied by "filestore max sync interval".</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd journal size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 2048 &nbsp; &nbsp; ; journal size, in megabytes</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; ## If you want to run the journal on a tmpfs, disable DirectIO</font></div><div><font size="1"   >&nbsp; &nbsp; # Enables direct i/o to the journal.</font></div><div><font size="1"   >&nbsp; &nbsp; # Requires "journal block align" set to "true".</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Boolean</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: Yes when using aio.</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: true)</font></div><div><font size="1"   >&nbsp; &nbsp; ;journal dio &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= false</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # osd logging to debug osd issues, in order of likelihood of being helpful</font></div><div><font size="1"   >&nbsp; &nbsp; ;debug ms &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 1</font></div><div><font size="1"   >&nbsp; &nbsp; ;debug osd &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 20</font></div><div><font size="1"   >&nbsp; &nbsp; ;debug filestore &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 20</font></div><div><font size="1"   >&nbsp; &nbsp; ;debug journal &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 20</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/configuration/filestore-config-ref/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The maximum interval in seconds for synchronizing the filestore.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Double (optional)</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 5)</font></div><div><font size="1"   >&nbsp; &nbsp; ;filestore max sync interval = 5</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Enable snapshots for a btrfs filestore.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Boolean</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No. Only used for btrfs.</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: true)</font></div><div><font size="1"   >&nbsp; &nbsp; ;filestore btrfs snap &nbsp; &nbsp; &nbsp; &nbsp;= false</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Enables the filestore flusher.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Boolean</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: false)</font></div><div><font size="1"   >&nbsp; &nbsp; ;filestore flusher &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= true</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Defines the maximum number of in progress operations the file store</font></div><div><font size="1"   >&nbsp; &nbsp; # accepts before blocking on queuing new operations.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No. Minimal impact on performance.</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 500)</font></div><div><font size="1"   >&nbsp; &nbsp; ;filestore queue max ops &nbsp; &nbsp; &nbsp;= 500</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; ## Filestore and OSD settings can be tweak to achieve better performance</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >### http://ceph.com/docs/master/rados/configuration/filestore-config-ref/#misc</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Min number of files in a subdir before merging into parent NOTE: A negative value means to disable subdir merging</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: &nbsp;10</font></div><div><font size="1"   >&nbsp; &nbsp; ;filestore merge threshold &nbsp; &nbsp;= 10</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # filestore_split_multiple * abs(filestore_merge_threshold) * 16 is the maximum number of files in a subdirectory before splitting into child directories.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: &nbsp;2</font></div><div><font size="1"   >&nbsp; &nbsp; ;filestore split multiple &nbsp; &nbsp; = 2</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The number of filesystem operation threads that execute in parallel.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: &nbsp;2</font></div><div><font size="1"   >&nbsp; &nbsp; ;filestore op threads &nbsp; &nbsp; &nbsp; &nbsp; = 4</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The number of threads to service Ceph OSD Daemon operations. Set to 0 to disable it. Increasing the number may increase the request processing rate.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 32-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: &nbsp;2</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd op threads &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 2</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; ## CRUSH</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # By default OSDs update their details (location, weight and root) on the CRUSH map during startup</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Boolean</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No;</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: true)</font></div><div><font size="1"   >&nbsp; &nbsp; ;osd crush update on start &nbsp; &nbsp;= false</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >;[osd.0]</font></div><div><font size="1"   >; &nbsp; &nbsp;host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = delta</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >;[osd.1]</font></div><div><font size="1"   >; &nbsp; &nbsp;host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = epsilon</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >;[osd.2]</font></div><div><font size="1"   >; &nbsp; &nbsp;host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = zeta</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >;[osd.3]</font></div><div><font size="1"   >; &nbsp; &nbsp;host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = eta</font></div><div><font size="1"   ><br></font></div><div><font size="1"   ><span style="line-height: 21px;"   >块设备使用配置, 如缓存</span></font></div><div><font size="1"   >##################</font></div><div><font size="1"   >## client settings</font></div><div><font size="1"   >[client]</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >### http://ceph.com/docs/master/rbd/rbd-config-ref/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Enable caching for RADOS Block Device (RBD).</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Boolean</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: false)</font></div><div><font size="1"   >&nbsp; &nbsp; rbd cache &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= true</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The RBD cache size in bytes.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 64-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 32 MiB)</font></div><div><font size="1"   >&nbsp; &nbsp; ;rbd cache size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 33554432</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The dirty limit in bytes at which the cache triggers write-back.</font></div><div><font size="1"   >&nbsp; &nbsp; # If 0, uses write-through caching.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 64-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # Constraint: Must be less than rbd cache size.</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 24 MiB)</font></div><div><font size="1"   >&nbsp; &nbsp; ;rbd cache max dirty &nbsp; &nbsp; &nbsp; = 25165824</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The dirty target before the cache begins writing data to the data storage.</font></div><div><font size="1"   >&nbsp; &nbsp; # Does not block writes to the cache.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: 64-bit Integer</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # Constraint: Must be less than rbd cache max dirty.</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 16 MiB)</font></div><div><font size="1"   >&nbsp; &nbsp; ;rbd cache target dirty &nbsp; &nbsp;= 16777216</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The number of seconds dirty data is in the cache before writeback starts.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Float</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: 1.0)</font></div><div><font size="1"   >&nbsp; &nbsp; ;rbd cache max dirty age &nbsp; = 1.0</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Start out in write-through mode, and switch to write-back after the</font></div><div><font size="1"   >&nbsp; &nbsp; # first flush request is received. Enabling this is a conservative but</font></div><div><font size="1"   >&nbsp; &nbsp; # safe setting in case VMs running on rbd are too old to send flushes,</font></div><div><font size="1"   >&nbsp; &nbsp; # like the virtio driver in Linux before 2.6.32.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Boolean</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # (Default: false)</font></div><div><font size="1"   >&nbsp; &nbsp; ;rbd cache writethrough until flush = false</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >对象存储客户端设置</font></div><div><font size="1"   >##################</font></div><div><font size="1"   >## radosgw client settings</font></div><div><font size="1"   >[client.radosgw.gateway]</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >### http://ceph.com/docs/master/radosgw/config-ref/</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Sets the location of the data files for Ceph Object Gateway.</font></div><div><font size="1"   >&nbsp; &nbsp; # You must create the directory when deploying Ceph.</font></div><div><font size="1"   >&nbsp; &nbsp; # We do not recommend changing the default.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: /var/lib/ceph/radosgw/$cluster-$id</font></div><div><font size="1"   >&nbsp; &nbsp; ;rgw data &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = /var/lib/ceph/radosgw/$name</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Client's hostname</font></div><div><font size="1"   >&nbsp; &nbsp; ;host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &nbsp;ceph-radosgw</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # where the radosgw keeps it's secret encryption keys</font></div><div><font size="1"   >&nbsp; &nbsp; ;keyring &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= /etc/ceph/ceph.client.radosgw.keyring</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # FastCgiExternalServer uses this socket.</font></div><div><font size="1"   >&nbsp; &nbsp; # If you do not specify a socket path, Ceph Object Gateway will not run as an external server.</font></div><div><font size="1"   >&nbsp; &nbsp; # The path you specify here must be the same as the path specified in the rgw.conf file.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: None</font></div><div><font size="1"   >&nbsp; &nbsp; ;rgw socket path &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= /var/run/ceph/ceph.radosgw.gateway.fastcgi.sock</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The location of the logging file for your radosgw.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String</font></div><div><font size="1"   >&nbsp; &nbsp; # Required: No</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: /var/log/ceph/$cluster-$name.log</font></div><div><font size="1"   >&nbsp; &nbsp; ;log file &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = /var/log/ceph/client.radosgw.gateway.log</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # Enable 100-continue if it is operational.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: Boolean</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: &nbsp;true</font></div><div><font size="1"   >&nbsp; &nbsp; ;rgw print continue &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = false</font></div><div><font size="1"   ><br></font></div><div><font size="1"   >&nbsp; &nbsp; # The DNS name of the served domain.</font></div><div><font size="1"   >&nbsp; &nbsp; # Type: String</font></div><div><font size="1"   >&nbsp; &nbsp; # Default: &nbsp;None</font></div><div><font size="1"   >&nbsp; &nbsp; ;rgw dns name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = radosgw.ceph.internal</font></div></div><wbr><div><br></div>[参考]<wbr><div>1. src/sample.ceph.conf</div><div><br></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="ceph cluster sample configure file in src - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>
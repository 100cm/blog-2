<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">PostgreSQL ARRAY datatype introduce</h2>
	<h5 id="">2012-01-12 9:13:12&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201201275922529/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;">ARRAY类型包含几个重要的特征,<wbr><div>1. 维度</div><div>也就是几维数组, 不管怎么赋值, ARRAY最终必须是个矩阵.&nbsp;</div><div>例1 :&nbsp;</div><div>ARRAY[1,2,3,4] 是一维数组,</div><div>ARRAY[[1,2],[3,4],[5,6]] 是二维数组,</div><div>例2 :&nbsp;</div><div>ARRAY[['digoal','zhou'],['a','b',c']] 是错误的. 因为第二个维度中的第一个array有2个元素, 而第二个array有3个元素. 不是一个矩阵. 个数必须一致.</div><div>同时类型也必须一致,&nbsp;</div><div>例3 :&nbsp;</div><div><span style="line-height: 22px;"   >ARRAY[['digoal','zhou'],[1,2]] 是错误的. 因为</span><span style="line-height: 22px;"   >['digoal','zhou']是text[]类型, 而</span><span style="line-height: 22px;"   >[1,2]是int[]类型.</span></div><div>2. 元素</div><div>一维数组<span style="line-height: 22px;"   >ARRAY[1,2,3,4]&nbsp;</span>中的4个元素分别是 1, 2, 3, 4. 这些int型的值.</div><div>二维数组<span style="line-height: 22px;"   >ARRAY[[1,2],[3,4],[5,6]] 中的第一维度有3个元素是 ARRAY[1,2] ,&nbsp;</span><span style="line-height: 22px;"   >ARRAY[3,4] ,&nbsp;</span><span style="line-height: 22px;"   >ARRAY[5,6] 这些int[]类型的值. 第二个维度的第一个subscript的元素有两个, 分别是1,2 . 第二个subscript 分别是3,4. 第三个subscript分别是5,6.</span></div><div><span style="line-height: 22px;"   >元素之间的分隔符, 除了box类型是分号;, 其他类型的分隔符都是逗号,.</span></div><div>3. 扩展性</div><div>一维数组可以扩展, 二维数组无法扩展.&nbsp;</div><div>参考&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201201272718196/"   >http://blog.163.com/digoal@126/blog/static/163877040201201272718196/</a></div><div>4. subscript</div><div>访问ARRAY中的元素需要提供subscript值. 默认是从1开始编号. 除非赋值的时候强制指定subscript</div><div>例1 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >ARRAY[[1,2],[3,4],[5,6]] as a</font></div><div><font size="2"   >a[1][1] = 1;</font></div><div><font size="2"   >a[1][2] = 2;</font></div><div><font size="2"   >a[2][1] = 3;</font></div><div><font size="2"   >a[2][2] = 4;</font></div><div><font size="2"   >a[3][1] = 5;</font></div><div><font size="2"   >a[3][2] = 6;</font></div><p></p></pre></div><div>a第一个[]表示第一维度, 里面的数字代表第一维度中要访问的subscript,</div><div>a第二个[]表示第二维度, 里面的数字代表第二维度中要访问的subscript,</div><div>另外也可以访问ARRAY的slice.</div><div>例2 :&nbsp;</div><div>a[1:2][1:1] =&nbsp;{{1},{3}}</div><div>第一个[]中的1表示低位subscript, 2表示高位subscript值.</div><div>第二个[]中左边的1表示<span style="line-height: 22px;"   >低位subscript, 右边的1表示高位subscript值.</span></div><div>a[2:3][1:2] = {{3,4},{5,6}}</div><div>分片的另一种写法, 只要其中的一个维度用了分片写法, 其他的维度如果没有使用分片写法, 默认视为高位</div><div>如a[2:3][2] 等同于 a[2:3][1:2]</div><div><br></div><div>接下来讲解一下<span style="line-height: 22px;"   >ARRAY类型的几个常用函数 :&nbsp;</span></div><div><span style="line-height: 22px;"   >array_dims, 返回的是各个维度中的低位subscript和高位subscript, 如下 :&nbsp;</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; select array_dims(ARRAY[[1,2,3,4,5],[6,7,8,9,10]]);</font></div><div><font size="2"   >&nbsp;array_dims&nbsp;</font></div><div><font size="2"   >------------</font></div><div><font size="2"   >&nbsp;[1:2][1:5]</font></div><p></p></pre></div><div><span style="line-height: 22px;"   ><br></span></div><div><span style="line-height: 22px;"   >array_length, 返回的是array中指定维度的长度或元素个数, 如下 :&nbsp;</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; select array_length(ARRAY[[1,2,3,4,5],[6,7,8,9,10]], 1);</font></div><div><font size="2"   >&nbsp;array_length&nbsp;</font></div><div><font size="2"   >--------------</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2</font></div><div><div><font size="2"   >digoal=&gt; select array_length(ARRAY[[1,2,3,4,5],[6,7,8,9,10]], 2);</font></div><div><font size="2"   >&nbsp;array_length&nbsp;</font></div><div><font size="2"   >--------------</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5</font></div></div><p></p></pre></div><div><span style="line-height: 22px;"   ><br></span></div><div><span style="line-height: 22px;"   >array_lower, 返回的是ARRAY中指定维度的低位subscript值, 如下 :&nbsp;</span></div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; select array_lower(ARRAY[[1,2,3,4,5],[6,7,8,9,10]], 2);</font></div><div><font size="2"   >&nbsp;array_lower&nbsp;</font></div><div><font size="2"   >-------------</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1</font></div><p></p></pre></div><div><div style="line-height: 22px;"   >下面就是强制指定subscript值了,&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; select array_lower('[-3:-2]={1,2}'::int[], 1);</font></div><div><font size="2"   >&nbsp;array_lower&nbsp;</font></div><div><font size="2"   >-------------</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -3</font></div><p></p></pre></div></div><div><span style="line-height: 22px;"   ><br></span></div><div><span style="line-height: 22px;"   >array_upper,</span><span style="line-height: 22px;"   >&nbsp;</span><span style="line-height: 22px;"   >返回的是ARRAY中指定维度的高位subscript值, 如下 :</span></div><div><div><pre class="prettyprint"   ><p></p><div style="line-height: 22px;"   ><font size="2"   >digoal=&gt; select array_upper(ARRAY[[1,2,3,4,5],[6,7,8,9,10]], 2);</font></div><div style="line-height: 22px;"   ><font size="2"   >&nbsp;array_upper&nbsp;</font></div><div style="line-height: 22px;"   ><font size="2"   >-------------</font></div><div style="line-height: 22px;"   ><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5</font></div><p></p></pre></div><div style="line-height: 22px;"   ><span style="line-height: 22px;"   >下面就是强制指定subscript值了,&nbsp;</span> </div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; select array_upper('[-3:-2]={1,2}'::int[], 1);</font></div><div><font size="2"   >&nbsp;array_upper&nbsp;</font></div><div><font size="2"   >-------------</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -2</font></div><p></p></pre></div><div style="line-height: 22px;"   ><br></div><div style="line-height: 22px;"   >array_prepend, 用于在一维数组的前面插入元素, 如下</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; select array_prepend('digoal', ARRAY['francs','david']);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;array_prepend &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >-----------------------</font></div><div><font size="2"   >&nbsp;{digoal,francs,david}</font></div><p></p></pre></div><div style="line-height: 22px;"   ><br></div><div style="line-height: 22px;"   >array_append<span style="line-height: 22px;"   >, 用于在一维数组的后面插入元素, 如下</span></div><div style="line-height: 22px;"   ><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; select array_append(ARRAY['francs','david'], 'digoal');</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp;array_append &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >-----------------------</font></div><div><font size="2"   >&nbsp;{francs,david,digoal}</font></div><p></p></pre></div><div style="line-height: 22px;"   ><span style="line-height: 22px;"   ><br></span></div><div style="line-height: 22px;"   >array_cat, 用于两个相同维度的数组的连接, 或者一个n维数组和一个n+1维数组的连接, 如下</div><div><pre class="prettyprint"   ><p></p><div style="line-height: 22px;"   ><div><font size="2"   >digoal=&gt; select array_cat(ARRAY['francs'], ARRAY['digoal','david']);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp;array_cat &nbsp; &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >-----------------------</font></div><div><font size="2"   >&nbsp;{francs,digoal,david}</font></div></div><div style="line-height: 22px;"   ><div><font size="2"   >digoal=&gt; select array_cat(ARRAY['francs'], ARRAY[['digoal']]);</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; array_cat &nbsp; &nbsp; &nbsp;</font></div><div><font size="2"   >---------------------</font></div><div><font size="2"   >&nbsp;{{francs},{digoal}}</font></div></div><p></p></pre></div><div style="line-height: 22px;"   ><br></div><div>generate_subscripts, 用于按顺序返回ARRAY的指定维度的subscript(s)值, 如下 :&nbsp;</div><div>正向返回第一维度的subscript值.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; select generate_subscripts(a, 1) from (select ARRAY['a','b','c','d'] as a) t;</font></div><div><font size="2"   >&nbsp;generate_subscripts&nbsp;</font></div><div><font size="2"   >---------------------</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4</font></div><p></p></pre></div><div><span style="line-height: 22px;"   >反向返回第一维度的subscript值.</span> </div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >digoal=&gt; select generate_subscripts(a, 1, true) from (select ARRAY['a','b','c','d'] as a) t;</font></div><div><font size="2"   >&nbsp;generate_subscripts&nbsp;</font></div><div><font size="2"   >---------------------</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1</font></div></div><div><div><font size="2"   >digoal=&gt; select generate_subscripts(a, 1) from (select '[-5:-1]={1,2,3,4,5}'::int[] as a) t;</font></div><div><font size="2"   >&nbsp;generate_subscripts&nbsp;</font></div><div><font size="2"   >---------------------</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -5</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -4</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -3</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -2</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -1</font></div></div><div><div><font size="2"   >digoal=&gt; select generate_subscripts(a, 1, true) from (select '[-5:-1]={1,2,3,4,5}'::int[] as a) t;</font></div><div><font size="2"   >&nbsp;generate_subscripts&nbsp;</font></div><div><font size="2"   >---------------------</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -1</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -2</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -3</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -4</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -5</font></div></div><p></p></pre></div><div>多维数组的第二维度,</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; select generate_subscripts(a, 2) from (select '[-5:-4][2:4]={{1,2,3},{4,5,6}}'::int[] as a) t;</font></div><div><font size="2"   >&nbsp;generate_subscripts&nbsp;</font></div><div><font size="2"   >---------------------</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4</font></div><p></p></pre></div><div style="line-height: 22px;"   ><br></div></div><div>接下来讲解一下ARRAY类型的操作符</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; select typname,oid from pg_type where typname='anyarray';</font></div><div><font size="2"   >&nbsp;typname &nbsp;| oid &nbsp;</font></div><div><font size="2"   >----------+------</font></div><div><font size="2"   >&nbsp;anyarray | 2277</font></div><p></p></pre></div><div>操作符如下 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; select oprname,oprleft,oprright,oprresult,oprcode,oprrest,oprjoin from pg_operator where oprleft=2277 or oprright=2277;</font></div><div><font size="2"   >&nbsp;oprname | oprleft | oprright | oprresult | &nbsp; &nbsp;oprcode &nbsp; &nbsp; | &nbsp; oprrest &nbsp; | &nbsp; &nbsp; oprjoin &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >---------+---------+----------+-----------+----------------+-------------+-----------------</font></div><div><font size="2"   >&nbsp;|| &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;2277 | &nbsp; &nbsp; 2283 | &nbsp; &nbsp; &nbsp;2277 | array_append &nbsp; | - &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | -</font></div><div><font size="2"   >&nbsp;|| &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;2283 | &nbsp; &nbsp; 2277 | &nbsp; &nbsp; &nbsp;2277 | array_prepend &nbsp;| - &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | -</font></div><div><font size="2"   >&nbsp;|| &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;2277 | &nbsp; &nbsp; 2277 | &nbsp; &nbsp; &nbsp;2277 | array_cat &nbsp; &nbsp; &nbsp;| - &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | -</font></div><div><font size="2"   >&nbsp;= &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;2277 | &nbsp; &nbsp; 2277 | &nbsp; &nbsp; &nbsp; &nbsp;16 | array_eq &nbsp; &nbsp; &nbsp; | eqsel &nbsp; &nbsp; &nbsp; | eqjoinsel</font></div><div><font size="2"   >&nbsp;&lt;&gt; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;2277 | &nbsp; &nbsp; 2277 | &nbsp; &nbsp; &nbsp; &nbsp;16 | array_ne &nbsp; &nbsp; &nbsp; | neqsel &nbsp; &nbsp; &nbsp;| neqjoinsel</font></div><div><font size="2"   >&nbsp;&lt; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;2277 | &nbsp; &nbsp; 2277 | &nbsp; &nbsp; &nbsp; &nbsp;16 | array_lt &nbsp; &nbsp; &nbsp; | scalarltsel | scalarltjoinsel</font></div><div><font size="2"   >&nbsp;&gt; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp;2277 | &nbsp; &nbsp; 2277 | &nbsp; &nbsp; &nbsp; &nbsp;16 | array_gt &nbsp; &nbsp; &nbsp; | scalargtsel | scalargtjoinsel</font></div><div><font size="2"   >&nbsp;&lt;= &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;2277 | &nbsp; &nbsp; 2277 | &nbsp; &nbsp; &nbsp; &nbsp;16 | array_le &nbsp; &nbsp; &nbsp; | scalarltsel | scalarltjoinsel</font></div><div><font size="2"   >&nbsp;&gt;= &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;2277 | &nbsp; &nbsp; 2277 | &nbsp; &nbsp; &nbsp; &nbsp;16 | array_ge &nbsp; &nbsp; &nbsp; | scalargtsel | scalargtjoinsel</font></div><div><font size="2"   >&nbsp;&amp;&amp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;2277 | &nbsp; &nbsp; 2277 | &nbsp; &nbsp; &nbsp; &nbsp;16 | arrayoverlap &nbsp; | areasel &nbsp; &nbsp; | areajoinsel</font></div><div><font size="2"   >&nbsp;@&gt; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;2277 | &nbsp; &nbsp; 2277 | &nbsp; &nbsp; &nbsp; &nbsp;16 | arraycontains &nbsp;| contsel &nbsp; &nbsp; | contjoinsel</font></div><div><font size="2"   >&nbsp;&lt;@ &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp;2277 | &nbsp; &nbsp; 2277 | &nbsp; &nbsp; &nbsp; &nbsp;16 | arraycontained | contsel &nbsp; &nbsp; | contjoinsel</font></div><div><font size="2"   >(12 rows)</font></div><p></p></pre></div><div><br></div><div>【注意】</div><div>1. PostgreSQL中对ARRAY类型的维度没有限制, 如int[]并不代表只能存储一维数组, 其实可以存储任意维度的ARRAY值.</div><div>2. PostgreSQL中对ARRAY类型中元素的个数也没有限制, 如int[10] , 不代表只能存储10个元素.可以超出.</div><div>例如 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >digoal=&gt; create table array_test (id int[2]);</font></div><div><font size="2"   >CREATE TABLE</font></div><div><font size="2"   >digoal=&gt; insert into array_test values (ARRAY[[1,2,3,4,5],[6,7,8,9,10]]);</font></div></div><div><font size="2"   >INSERT 0 1</font></div><p></p></pre></div><div>这个例子中元素的个数和维度都超出了int[2]的限制，但是并没有报错，而且数据已经存储进去了.</div><div><pre class="prettyprint"   ><p></p><div><font size="2"   >digoal=&gt; select * from array_test ;</font></div><div><font size="2"   >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;id &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font></div><div><font size="2"   >----------------------------</font></div><div><font size="2"   >&nbsp;{{1,2,3,4,5},{6,7,8,9,10}}</font></div><p></p></pre></div><div>手册上的解释如下 :&nbsp;</div><div><p style="margin-top: 1.2em; margin-right: 0em; margin-bottom: 1.2em; margin-left: 0em; font-family: verdana, sans-serif;"   ></p><pre class="prettyprint"   ><p></p><p style="line-height: 1.5em; margin-top: 1.2em; margin-right: 0em; margin-bottom: 1.2em; margin-left: 0em; font-family: verdana, sans-serif;"   ><font size="2"   >However, the current implementation ignores any supplied array size limits, i.e., the behavior is the same as for arrays of unspecified length.</font></p><p style="line-height: 1.5em; margin-top: 1.2em; margin-right: 0em; margin-bottom: 1.2em; margin-left: 0em; font-family: verdana, sans-serif;"   ><font size="2"   >The current implementation does not enforce the declared number of dimensions either. Arrays of a particular element type are all considered to be of the same type, regardless of size or number of dimensions. So, declaring the array size or number of dimensions in&nbsp;<tt>CREATE TABLE</tt>&nbsp;is simply documentation; it does not affect run-time behavior.</font></p><p></p></pre><p style="font-size: 12px; line-height: 1.5em; margin-top: 1.2em; margin-right: 0em; margin-bottom: 1.2em; margin-left: 0em; font-family: verdana, sans-serif;"   ><br></p><p style="font-size: 12px; line-height: 1.5em; margin-top: 1.2em; margin-right: 0em; margin-bottom: 1.2em; margin-left: 0em; font-family: verdana, sans-serif;"   >【参考】</p><p style="font-size: 12px; line-height: 1.5em; margin-top: 1.2em; margin-right: 0em; margin-bottom: 1.2em; margin-left: 0em; font-family: verdana, sans-serif;"   ><a rel="nofollow" href="http://www.postgresql.org/docs/9.1/static/arrays.html"   >http://www.postgresql.org/docs/9.1/static/arrays.html</a> </p></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="PostgreSQL ARRAY datatype introduce - 德哥@Digoal - PostgreSQL"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>